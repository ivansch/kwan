if (self.CavalryLogger) { CavalryLogger.start_js(["sRdt+"]); }

__d("FBRTCParticipantCallState",[],(function(a,b,c,d,e,f){e.exports={UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12}}),null);
__d("MessengerView",[],(function(a,b,c,d,e,f){e.exports={DETAIL:{COMPOSE:"detail/compose",THREAD:"detail/thread",PAYTHREAD:"detail/paythread",PAYFRIENDPICKER:"detail/payfriendpicker"},MASTER:{PAYMENT:"master/payment",PEOPLE:"master/people",RECENT:"master/recent",SEE_ALL_GROUPS:"master/sagroups",SEE_ALL_PAGES:"master/sapages",SEE_ALL_PEOPLE:"master/sapeople",SEARCH:"master/search",SEARCH_MESSAGES:"master/search_messages",SUPPORT:"master/support"}}}),null);
__d("MessengerStoriesRingPresenceMessageQueryContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"threadFBID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"threadFBID"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"MessengerStoriesRingPresenceMessageQueryContainerQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"message_thread",storageKey:null,args:b,concreteType:"MessageThread",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerStoriesRingPresenceMontageQueryContainer_messageThread",args:null}]}]},operation:{kind:"Operation",name:"MessengerStoriesRingPresenceMessageQueryContainerQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"message_thread",storageKey:null,args:b,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"montage_thread",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},c]},c]}]},params:{operationKind:"query",name:"MessengerStoriesRingPresenceMessageQueryContainerQuery",id:"2316808138401460",text:null,metadata:{}}}}();e.exports=a}),null);
__d("wrapNullableForReact",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!=null)return a;else return void 0}e.exports=a}),null);
__d("PhotoResizeMath",[],(function(a,b,c,d,e,f){a={getScaledPhotoDimensions:function(a,b,c,d,e){var f=a/b,g=c/d;if(c&&d&&e==="stretch")return{width:c,height:d};if(!c&&d||e==="contain"!==f>=g)return{width:d*f,height:d};return c?{width:c,height:c/f}:{width:a,height:b}}};e.exports=a}),null);
__d("PixelzFocus",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={search:function(a,b){__p&&__p();var c=0,d=a.length-1;while(c<=d){var e=c+Math.floor((d-c)/2),f=a[e];if(f>b)d=e-1;else if(f<b)c=e+1;else return e}return Math.min(c,d)},forceSpecificPoint:function(a,b,c){var d=1e-9;d=g.search(a,b-c-d)+1;b=g.search(a,b+c);return a.slice(d,b+1)},findBiggestSets:function(a,b){var c=[],d=-1;for(var e=0;e<a.length;++e){var f=a[e],h=e;f=g.search(a,f+b);var i=f-h;i>d&&(c=[]);i>=d&&(d=i,c.push({low:h,high:f}))}return c},getBestSet:function(a,b,c){var d=-1,e=null;for(var f=0;f<b.length;++f){var g=b[f],h=a[g.low],i=a[g.high],j=h+(i-h)/2;h=Math.min(h-(j-c),j+c-i);h>d&&(d=h,e=g)}return e},getFocusFromSet:function(a,b){var c=a[b.low];a=a[b.high];return c+(a-c)/2},clampFocus:function(a,b){var c=b/2;b=1-b/2;if(a<c)return c;return a>b?b:a},convertFromCenterToCSS:function(a,b){return Math.abs(1-b)<1e-5?0:(a-b/2)/(1-b)},convertFromCSSToCenter:function(a,b){return a*(1-b)+b/2},getVisible:function(a,b){return a<b?a/b:b/a},getHidden:function(a,b){return 1-g.getVisible(a,b)},focusHorizontally:function(a,b){return a<b},convertVectorFromCenterToCSS:function(a,b,c){var d=g.focusHorizontally(b,c),e;d?e=a.x/100:e=a.x/100;a=g.convertFromCenterToCSS(e,g.getVisible(b,c));if(d)return{x:a,y:0};else return{x:0,y:a}},getCropRect:function(a,b,c){var d=g.focusHorizontally(b,c);b=g.getVisible(b,c);if(d){c=(1-b)*a.x;return{left:c,top:0,width:b,height:1}}else{d=(1-b)*a.y;return{left:0,top:d,width:1,height:b}}}};e.exports=g}),null);
__d("loadImage",["Promise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){var c=new Image();c.onload=function(){b(c.width,c.height,c)};c.src=a}a.loadImagePromise=function(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onerror=c;d.onload=function(){return b(d)};d.src=a})};e.exports=a}),null);
__d("Pixelz.react",["cx","PhotoResizeMath","PixelzFocus","React","joinClasses","loadImage"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"Pixelz",propTypes:{width:a.number,height:a.number,resizeMode:a.oneOf(["contain","cover","stretch"]),alt:a.string,letterbox:a.bool,borderRadius:a.number,insetBorderColor:a.string,animated:a.bool,upscale:a.bool,cropRect:function(a,b,c){a=a[b];b="Invalid prop `"+b+"` supplied to `"+c+"`, expected a rectangle with values normalized between 0 and 1.";if(a.left<0||a.top<0||a.width<0||a.height<0||a.left+a.width>1||a.top+a.height>1)return new Error(b)},focus:function(a,b,c){__p&&__p();a=a[b];b="Invalid prop `"+b+"` supplied to `"+c+"`, expected either a {x, y, type} vector where type is `css` or `center` or an array of {x, y} vectors. All the vectors have with values normalized between 0 and 1.";if(Array.isArray(a)){for(var c=0;c<a.length;++c)if(!(a[c].x>=0&&a[c].x<=1)||!(a[c].y>=0&&a[c].y<=1))return new Error(b)}else{a.type||(a.type="css");if(!(a.x>=0&&a.x<=1)||!(a.y>=0&&a.y<=1)||!["center","css"].includes(a.type))return new Error(b)}}},getDefaultProps:function(){return{resizeMode:"cover",alt:"",letterbox:!0,upscale:!0,cropRect:{width:1,height:1,top:0,left:0},focus:{x:.5,y:.5,type:"css"}}},getInitialState:function(){return{srcDimensions:{}}},getSrcDimensions:function(){var a=this.props.src,c=this.state.srcDimensions[a];if(c)return c;b("loadImage")(a,function(b,c){var d={};d[a]={width:b,height:c};this.isMounted()&&this.setState({srcDimensions:d})}.bind(this));return null},getCropSrcDimensions:function(){var a=this.getSrcDimensions();return{width:a.width*this.props.cropRect.width,height:a.height*this.props.cropRect.height}},getUpscaleCropDimensions:function(){var a=this.getCropSrcDimensions();return b("PhotoResizeMath").getScaledPhotoDimensions(a.width,a.height,this.props.width,this.props.height,this.props.resizeMode)},getCropDimensions:function(){var a=this.getUpscaleCropDimensions(),b=this.getCropSrcDimensions();return!this.props.upscale?{width:Math.min(a.width,b.width),height:Math.min(a.height,b.height)}:a},getCropAspectRatio:function(){var a=this.getCropDimensions();return a.width/a.height},getContainerDimensions:function(){return this.props.letterbox&&this.props.width&&this.props.height?{width:this.props.width,height:this.props.height}:this.getCropDimensions()},getContainerAspectRatio:function(){var a=this.getContainerDimensions();return a.width/a.height},getContainerPosition:function(){return{left:0,top:0}},getFocus:function(){__p&&__p();var a=this.props.focus;if(!Array.isArray(a)&&a.type==="css")return{x:a.x,y:a.y};var c=this.getContainerAspectRatio(),d=this.getCropAspectRatio(),e=b("PixelzFocus").getVisible(c,d),f=b("PixelzFocus").focusHorizontally(c,d);if(!Array.isArray(a))c=b("PixelzFocus").convertFromCenterToCSS(f?a.x:a.y,e);else{d=a.map(function(a){return f?a.x:a.y});d.sort();a=b("PixelzFocus").findBiggestSets(d,e);a=b("PixelzFocus").getBestSet(d,a,e);c=b("PixelzFocus").getFocusFromSet(d,a)}return{x:f?c:.5,y:f?.5:c}},getCropPosition:function(){var a=this.getCropDimensions(),b=this.getContainerDimensions(),c=this.getFocus();return{left:c.x*(b.width-a.width),top:c.y*(b.height-a.height)}},getScaleDimensions:function(){var a=this.getCropDimensions();return{width:a.width/this.props.cropRect.width,height:a.height/this.props.cropRect.height}},getScalePosition:function(){var a=this.getScaleDimensions();return{left:-a.width*this.props.cropRect.left,top:-a.height*this.props.cropRect.top}},getClipCropRectangle:function(){var a=this.getContainerDimensions(),b=this.getCropDimensions(),c=this.getContainerPosition(),d=this.getCropPosition(),e=Math.max(c.left,d.left),f=Math.max(c.top,d.top),g=Math.min(c.top+a.height,d.top+b.height);c=Math.min(c.left+a.width,d.left+b.width);return{left:e,top:f,width:c-e,height:g-f}},getClipCropPosition:function(){var a=this.getClipCropRectangle();return{left:a.left,top:a.top}},getClipCropDimensions:function(){var a=this.getClipCropRectangle();return{width:a.width,height:a.height}},getClipScalePosition:function(){var a=this.getScalePosition(),b=this.getClipCropPosition(),c=this.getCropPosition();return{left:a.left+(c.left-b.left),top:a.top+(c.top-b.top)}},getClipScaleDimensions:function(){return this.getScaleDimensions()},areDimensionsEqual:function(a,b){return a.width===b.width&&a.height===b.height},shouldAddAllNodesAndStyles:function(){return this.props.animated},hasCrop:function(){if(this.shouldAddAllNodesAndStyles())return!0;var a=this.getContainerDimensions(),b=this.getClipCropDimensions(),c=this.getClipScaleDimensions();return this.areDimensionsEqual(a,b)||this.areDimensionsEqual(b,c)?!1:!0},hasContainer:function(){if(this.shouldAddAllNodesAndStyles()||this.hasInsetBorder())return!0;var a=this.getContainerDimensions(),b=this.getClipScaleDimensions();return this.areDimensionsEqual(a,b)?!1:!0},hasInsetBorder:function(){return this.shouldAddAllNodesAndStyles()||this.props.insetBorderColor},applyPositionStyle:function(a,b){(this.shouldAddAllNodesAndStyles()||b.left)&&(a.left=Math.round(b.left)),(this.shouldAddAllNodesAndStyles()||b.top)&&(a.top=Math.round(b.top))},applyDimensionsStyle:function(a,b){a.width=Math.round(b.width),a.height=Math.round(b.height)},applyBorderRadiusStyle:function(a){(this.shouldAddAllNodesAndStyles()||this.props.borderRadius)&&(a.borderRadius=this.props.borderRadius||0)},getScaleStyle:function(){var a={},b=this.getClipCropDimensions(),c=this.getClipScaleDimensions();this.shouldAddAllNodesAndStyles()||!this.areDimensionsEqual(b,c)?this.applyPositionStyle(a,this.getClipScalePosition()):this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipScaleDimensions());this.applyBorderRadiusStyle(a);return a},getCropStyle:function(){var a={};this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipCropDimensions());this.applyBorderRadiusStyle(a);return a},getInsetBorderStyle:function(){var a={borderColor:this.props.insetBorderColor||"transparent"};this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipCropDimensions());this.applyBorderRadiusStyle(a);return a},getContainerStyle:function(){var a={};this.applyDimensionsStyle(a,this.getContainerDimensions());this.applyBorderRadiusStyle(a);return a},getScale:function(){var a=this.getScaleStyle(),c=a.width,d=a.height;a=babelHelpers["extends"]({},a);delete a.width;delete a.height;return b("React").jsx("img",babelHelpers["extends"]({},this.props,{alt:this.props.alt,className:b("joinClasses")(this.props.className,"_56wb"+(this.shouldAddAllNodesAndStyles()?" _56t5":"")),src:this.props.src,style:babelHelpers["extends"]({},this.props.style||{},a),width:c,height:d}))},getCrop:function(){var a=this.getScale();return!this.hasCrop()?a:b("React").jsx("div",{className:"_56ma"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),style:this.getCropStyle(),children:a})},getInsetBorder:function(){return!this.hasInsetBorder()?null:b("React").jsx("div",{className:"_56lv"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),style:this.getInsetBorderStyle()})},getContainer:function(){var a=this.getCrop();if(!this.hasContainer())return a;var c=this.getInsetBorder();return b("React").jsxs("div",{className:"_56jj"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),"data-skipchecker":null,style:this.getContainerStyle(),children:[a,c]})},render:function(){var a=this.getSrcDimensions();return!a?b("React").jsx("span",{"data-skipchecker":null}):this.getContainer()}});e.exports=c}),null);
__d("RTWebStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={busy:g._("Ocupado"),callAgain:g._("Llamar de nuevo"),callEnded:g._("Llamada finalizada"),callFailed:g._("Error en la llamada"),callInterrupted:g._("Llamada interrumpida"),cannotConnect:g._("No se puede conectar la llamada"),chatLinksLeftVideoChat:g._("Abandonaste el videochat en grupo"),clientEncryptionError:g._("Error de cifrado del cliente"),close:g._("Cerrar"),connected:g._("Conectado"),connecting:g._("Conectando..."),connectionDropped:g._("Conexi\u00f3n perdida"),connectionLost:g._("Se perdi\u00f3 la conexi\u00f3n"),contacting:g._("Contactando..."),copiedVideoChatLink:g._("Copiado"),copyVideoChatLink:g._("Copiar enlace del videochat"),disconnected:g._("Desconectado"),dismiss:g._("Ignorar"),hangingUp:g._("Finalizando la llamada..."),inactive:g._("La llamada est\u00e1 inactiva"),inAnotherCall:g._("En otra llamada"),incomingVideoChat:g._("Videochat entrante"),invalidStreamConfiguration:g._("Hay muchos clientes conectados a la sala"),noAnswer:g._("Sin respuesta"),notNow:g._("En otro momento"),participantLimitReached:g._("Se alcanz\u00f3 el l\u00edmite de participantes"),pleaseWait:g._("Espera..."),profilePictureAlt:g._("Foto del perfil"),reconnecting:g._("Volviendo a conectar..."),redial:g._("Volver a marcar"),ringing:g._("Llamando..."),switchToWiFi:g._("Activa la conexi\u00f3n wifi para llamar"),unreachable:g._("Inaccesible"),userVideoOff:function(a){return g._("La c\u00e1mara de {name} est\u00e1 desactivada",[g._param("name",a)])},viewerVideoOff:g._("Tu c\u00e1mara est\u00e1 desactivada"),waitingForOthers:g._("Esperando a que otras personas se unan...")};e.exports=a}),null);
__d("RTCUserRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({FBID:"UNDEFINED",isGuestUser:!1,isMessengerUser:!1,isPartiesUser:!1,lastConnectedAt:0,participantState:null,profilePictureUrl:null,profileUrl:null,roomLocation:null,screenStreams:b("immutable").Set(),streams:b("immutable").Set(),userName:"",userShortName:"",vanity:""});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("RTCUser",["FBRTCConstants","FBRTCParticipantCallState","RTCUserRecord","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").MediaContentTypes;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.clone=function(){return new c(this.toObject())};d.setParticipantState=function(a){return(!this.participantState||this.participantState.state!==b("FBRTCParticipantCallState").CONNECTED)&&a.state===b("FBRTCParticipantCallState").CONNECTED?this.set("participantState",a).set("lastConnectedAt",Date.now()):!this.participantState||this.participantState.state!==a.state?this.set("participantState",a):this};d.getParticipantState=function(){return this.participantState&&this.participantState.state};d.hasAudio=function(){return this.getAllStreamAudioTracks().some(function(a){return a.length>0})};d.hasVideo=function(){return this.streams.some(function(a){return a.getVideoTracks().length>0})};d.hasLiveVideoTracks=function(){return this.streams.some(function(a){return a.getVideoTracks().some(function(a){return a.readyState==="live"})})};d.isAudioMuted=function(){var a=this;return!this.hasAudio()?!0:this.getAllStreamAudioTracks().every(function(b){return a.areAllTracksMuted(b)})};d.isVideoMuted=function(){var a=this;return!this.hasVideo()?!0:this.streams.every(function(b){return a.areAllTracksMuted(b.getVideoTracks())})};d.areAllTracksMuted=function(a){return!a.some(function(a){return a.enabled})};d.hasFunctioningVideoTrack=function(){return!this.hasVideo()?!1:this.streams.every(function(a){return a.getVideoTracks().some(function(a){return a.enabled&&!a.muted})})};d.toggleMuteAudio=function(a){var b=this;this.getAllStreamAudioTracks().forEach(function(a){return b.$RTCUser1(a)});return this.clone()};d.toggleMuteVideo=function(a){var b=this;this.streams.forEach(function(c){b.$RTCUser1(c.getVideoTracks(),a)});return this.clone()};d.stopVideo=function(){var a=this;this.streams.forEach(function(b){b.getVideoTracks().forEach(function(c){a.$RTCUser1(b.getVideoTracks(),!0),c.readyState!=="ended"&&(c.onended&&c.onended(),c.stop())})});return this.clone()};d.getAllStreamAudioTracks=function(){return this.streams.concat(this.screenStreams).map(function(a){return a.getAudioTracks()})};d.hasStream=function(){return!this.streams.isEmpty()};d.addStream=function(a){return this.set("streams",this.streams.add(b("nullthrows")(a)))};d.removeStream=function(a){return this.set("streams",this.streams["delete"](a))};d.getStream=function(){return this.hasStream()?this.streams.first():null};d.getActiveStream=function(){return this.hasStream()?this.streams.find(function(a){return"active"in a&&a.active}):null};d.replaceStream=function(a,b){return!this.streams.contains(a)?this:this.set("streams",this.streams["delete"](a).add(b))};d.removeAllStreams=function(){return this.set("streams",b("immutable").Set())};d.getScreenStream=function(){return this.screenStreams&&this.hasScreenStream()?this.screenStreams.first():null};d.hasScreenStream=function(){return!this.screenStreams.isEmpty()};d.addScreenStream=function(a){return this.set("screenStreams",this.screenStreams.add(a))};d.removeScreenStream=function(a){return this.set("screenStreams",this.screenStreams["delete"](a))};d.removeAllScreenStreams=function(){return this.set("screenStreams",b("immutable").Set())};d.replaceScreenStream=function(a,b){if(!this.screenStreams.contains(a))return this;return a===b?this:this.set("screenStreams",this.screenStreams.add(b)["delete"](a))};d.setRoomLocation=function(a){return this.set("roomLocation",a)};d.getRoomLocation=function(){return this.roomLocation};d.$RTCUser1=function(a,b){var c=b!=null?!b:this.areAllTracksMuted(a);a.forEach(function(a){return a.enabled=c})};d.getMediaTypeForTracks=function(){var a=new Map(),b=this.getScreenStream();b&&b.getVideoTracks().forEach(function(b){return a.set(b.id,g.SCREEN)});return a};return c}(b("RTCUserRecord"));e.exports=a}),null);
__d("RTCCallTitle.react",["MercuryIDs","MercuryParticipantListRenderer","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.displayViewerName,d=a.viewer,e=a.participants;a=a.className;var f=b("MercuryIDs").getParticipantIDFromUserID(d);d=Object.keys(e.toJS());d.length>1&&(d=d.filter(function(a){return a!==f||c}));d=d.map(function(a){return e.get(a)});d=new(b("MercuryParticipantListRenderer"))().setUseShortName(!1).setUseAndSeparator(!1).renderParticipantList(d);return b("React").jsx("span",{className:a,children:d})};e.exports=a}),null);
__d("generateRTCCallID",["randomInt"],(function(a,b,c,d,e,f){"use strict";function a(){return b("randomInt")(0,4294967294)+1}e.exports=a}),null);
__d("RTCWebUserActionsDebugTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCallType=function(a){this.$1.call_type=a;return this};c.setCheckpoint=function(a){this.$1.checkpoint=a;return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setCodebaseVersion=function(a){this.$1.codebase_version=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceName=function(a){this.$1.conference_name=a;return this};c.setConferenceState=function(a){this.$1.conference_state=a;return this};c.setDeviceID=function(a){this.$1.device_id=a;return this};c.setErrorDomain=function(a){this.$1.error_domain=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventTimeElapsed=function(a){this.$1.event_time_elapsed=a;return this};c.setIsCaller=function(a){this.$1.is_caller=a;return this};c.setMediaType=function(a){this.$1.media_type=a;return this};c.setPage=function(a){this.$1.page=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={call_id:!0,call_type:!0,checkpoint:!0,client_time:!0,codebase_version:!0,component:!0,conference_name:!0,conference_state:!0,device_id:!0,error_domain:!0,error_type:!0,event:!0,event_time_elapsed:!0,is_caller:!0,media_type:!0,page:!0,surface:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("RTCWebUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCallType=function(a){this.$1.call_type=a;return this};c.setCheckpoint=function(a){this.$1.checkpoint=a;return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setCodebaseVersion=function(a){this.$1.codebase_version=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceName=function(a){this.$1.conference_name=a;return this};c.setConferenceState=function(a){this.$1.conference_state=a;return this};c.setDeviceID=function(a){this.$1.device_id=a;return this};c.setErrorDomain=function(a){this.$1.error_domain=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventTimeElapsed=function(a){this.$1.event_time_elapsed=a;return this};c.setIsCaller=function(a){this.$1.is_caller=a;return this};c.setMediaType=function(a){this.$1.media_type=a;return this};c.setPage=function(a){this.$1.page=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={call_id:!0,call_type:!0,checkpoint:!0,client_time:!0,codebase_version:!0,component:!0,conference_name:!0,conference_state:!0,device_id:!0,error_domain:!0,error_type:!0,event:!0,event_time_elapsed:!0,is_caller:!0,media_type:!0,page:!0,surface:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("RTWebUserActionLogger",["CurrentUser","FBRTCConsoleLogger","FBRTCSupport","RTCWebUserActionsDebugTypedLogger","RTCWebUserActionsTypedLogger","RTWebLoggingSharedInstance","immutable","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").Map;a=function(){__p&&__p();function a(){this.$2=h(),this.$3=new Set(),this.$4=new Set(),this.$5=b("RTWebLoggingSharedInstance").getInstance().getDeviceID(),this.$6=this.$7(),this.clearCache()}var c=a.prototype;c.clearCache=function(){this.$1={callID:void 0,callType:void 0,mediaType:void 0,conferenceName:void 0,conferenceState:void 0}};c.logImpression=function(a){this.logEvent(babelHelpers["extends"]({eventName:"impression"},a))};c.logPreCallImpression=function(a){this.clearCache(),this.logImpression(a)};c.logPreCallClick=function(a){this.clearCache(),this.logClick(a)};c.logClick=function(a){this.logEvent(babelHelpers["extends"]({eventName:"tap"},a))};c.logError=function(a){this.logEvent(babelHelpers["extends"]({eventName:"error"},a))};c.startTimer=function(a){var c=(g||(g=b("performanceNow")))();this.$2=this.$2.set(a,c);this.logCheckpoint({checkpoint:a+"_timerStart"});this.$8(a,{startTime:c})};c.logStopTimer=function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{};c.timeElapsed=this.$9(a.timerName);this.logCheckpoint(babelHelpers["extends"]({checkpoint:b+"_timerEnd"},c));return c.timeElapsed};c.logCheckpoint=function(a){this.logEvent(babelHelpers["extends"]({eventName:"checkpoint"},a))};c.$10=function(a){return a===null||a===void 0};c.logEvent=function(a){__p&&__p();var b=this.$1;b.callID=this.$10(a.callID)?b.callID:a.callID;b.callType=a.callType||b.callType;b.conferenceState=a.conferenceState||b.conferenceState;b.conferenceName=this.$10(a.conferenceName)?b.conferenceName:a.conferenceName;b.isCaller=a.isCaller==null?b.isCaller:a.isCaller;b.mediaType=a.mediaType||b.mediaType;this.$11(a,b);b=this.$12(a,b);this.$8(a.eventName,b)};c.$12=function(a,c){var d=new(b("RTCWebUserActionsTypedLogger"))();d.setCallType(c.callType).setDeviceID(this.$5).setClientTime(Date.now()).setErrorDomain(a.errorDomain).setErrorType(a.errorType).setComponent(a.component).setConferenceState(c.conferenceState).setEvent(a.eventName).setMediaType(c.mediaType).setPage(this.$6).setCallID(c.callID).setConferenceName(c.conferenceName).setSurface(a.surface).setCheckpoint(a.checkpoint).setEventTimeElapsed(a.timeElapsed).setIsCaller(c.isCaller).setCodebaseVersion("Old Codebase").log();return d.getData()};c.$11=function(a,c){var d=new(b("RTCWebUserActionsDebugTypedLogger"))();d.setCallType(c.callType).setDeviceID(this.$5).setClientTime(Date.now()).setErrorDomain(a.errorDomain).setErrorType(a.errorType).setComponent(a.component).setConferenceState(c.conferenceState).setEvent(a.eventName).setMediaType(c.mediaType).setPage(this.$6).setCallID(c.callID).setConferenceName(c.conferenceName).setSurface(a.surface).setCheckpoint(a.checkpoint).setEventTimeElapsed(a.timeElapsed).setIsCaller(c.isCaller).setCodebaseVersion("Old Codebase").log();return d.getData()};c.getCallType=function(a,b){b===void 0&&(b=!1);if(a===null||a===void 0)return null;if(a)return"mw";else if(b)return"escalated";else return"p2p"};c.getAudioVideoComponent=function(a){return a===null||a===void 0?null:a?"audio_button":"video_button"};c.getMediaType=function(a,b){b===void 0&&(b=!1);if(b)return"escalated";else if(a)return"audio";else return"video"};c.logErrorOnceforDomain=function(a,b){this.$3.has(a)||(this.$3.add(a),this.logError({errorDomain:a,errorType:b.toString()}))};c.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$4.has(b)||(this.$4.add(b),this.logCheckpoint(a))};c.clearLoggedDomains=function(){this.$3.clear(),this.$4.clear()};c.getWebLoggerInfoFromStore=function(a){a=a.callInfo;var b=a.callID,c=a.conferenceName;a=a.conferenceState;return{callID:b,conferenceName:c,conferenceState:a}};c.$7=function(){__p&&__p();if(b("FBRTCSupport").isMobileDevice())return"mweb";else if(b("CurrentUser").isWorkUser())return"workplace";var a=window.location.hostname;if(a.search("facebook")!==-1)return"facebook";else if(a.search("messenger")!==-1)return"messenger_dot_com";return a};c.$9=function(a){var c=this.$2.get(a);if(c){this.$2=this.$2.remove(a);return parseInt((g||(g=b("performanceNow")))()-c,10)}return null};c.$8=function(a,c){a=a==null?"null":a;b("FBRTCConsoleLogger").getInstance().getLogHistory().log(a,JSON.stringify(c))};return a}();e.exports=new a()}),null);
__d("MessengerProfileLinkTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAction=function(a){this.$1.action=a;return this};c.setDomain=function(a){this.$1.domain=a;return this};c.setLinkLocation=function(a){this.$1.link_location=a;return this};c.setTargetID=function(a){this.$1.target_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={action:!0,domain:!0,link_location:!0,target_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerStateProcessor",["MercuryIDs","MercuryThreadIDMap","MercuryVanityIDMap.bs","MessengerParticipants.bs","MessengerURIConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={preprocess:function(a){__p&&__p();var c=a.activeThreadID;if(c){var d=b("MercuryIDs").getUserIDFromThreadID(c),e=d&&b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(d));if(e&&e.type!=="event")a.threadKey=e.vanity||d;else if(d&&!e){e=b("MercuryIDs").getParticipantIDFromUserID(d);a.threadKey=b("MercuryVanityIDMap.bs").hasID(e)?b("MercuryVanityIDMap.bs").getVanity(e):d}else{e=b("MercuryThreadIDMap").get();d=e.getServerIDFromClientIDNow(c);a.threadKey=d||b("MercuryIDs").tokenize(c).value}}delete a.activeThreadID;return a},postprocess:function(a){var c=b("MercuryThreadIDMap").get(),d=g(a.threadKey),e;e=b("MercuryIDs").isValid(d)?d:c.getClientIDFromServerIDNow(d);if(!e){d=b("MessengerParticipants.bs").getIDFromVanityOrFBID(d);d&&(e=b("MercuryIDs").getThreadIDFromParticipantID(d))}e&&(a.activeThreadID=e,a.serverThreadID=c.getServerIDFromClientIDNow(e));delete a.threadKey;return a},supportInboxPostprocess:function(a){a.threadKey&&(a.activeThreadID=b("MercuryIDs").getThreadIDFromSupportInboxItemID(a.threadKey));delete a.threadKey;return a}};function g(a){return!a?null:a.startsWith(b("MessengerURIConstants").GROUP_PREFIX)?a.substr(b("MessengerURIConstants").GROUP_PREFIX.length):a}e.exports=a}),null);
__d("MessengerURISerializer",["CurrentEnvironment","MercuryFilters.bs","MercuryIDs","MessagingTag","MessengerStateProcessor","MessengerURIConstants","MessengerView","URI","WWWBase","gkx","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h="/?$",i="/",j=function(a,c){a.setPath(b("CurrentEnvironment").facebookdotcom?b("MessengerURIConstants").FACEBOOK_PREFIX+c:c)},k=b("qex")._("1097094"),l=function(a,c){var d=a.getPath();b("CurrentEnvironment").facebookdotcom&&!d.startsWith(b("MessengerURIConstants").FACEBOOK_PREFIX)&&(c=b("MessengerURIConstants").FACEBOOK_PREFIX+c);a.setPath(a.getPath()+c)};a={serialize:function(a){__p&&__p();var c=new(g||(g=b("URI")))(b("WWWBase").uri);a=b("MessengerStateProcessor").preprocess(a);switch(a.masterView){case b("MessengerView").MASTER.PAYMENT:j(c,b("MessengerURIConstants").PAYMENT_PATH);break;case b("MessengerView").MASTER.PEOPLE:j(c,b("MessengerURIConstants").PEOPLE_PATH);break;case b("MessengerView").MASTER.SUPPORT:j(c,b("MessengerURIConstants").SUPPORT_PATH);break;case b("MessengerView").MASTER.SEARCH:j(c,b("MessengerURIConstants").SEARCH_PATH);break;case b("MessengerView").MASTER.SEARCH_MESSAGES:case b("MessengerView").MASTER.SEE_ALL_GROUPS:case b("MessengerView").MASTER.SEE_ALL_PAGES:case b("MessengerView").MASTER.SEE_ALL_PEOPLE:k&&j(c,b("MessengerURIConstants").SEARCH_PATH);break}switch(a.folder){case b("MessagingTag").OTHER:j(c,b("MessengerURIConstants").FILTERED_REQUESTS_PATH);break;case b("MessagingTag").ACTION_ARCHIVED:j(c,b("MessengerURIConstants").ARCHIVED_PATH);break;case b("MessagingTag").PENDING:j(c,b("MessengerURIConstants").MESSAGE_REQUESTS_PATH);break;case b("MessagingTag").MARKETPLACE_FOLDER:j(c,b("MessengerURIConstants").FOLDERS_PATH+"/"+a.folderKey);break}a.detailView===b("MessengerView").DETAIL.PAYTHREAD?(l(c,b("MessengerURIConstants").PAYMENT_PAY_PATH),a.threadKey&&c.addQueryData("id",a.threadKey)):a.detailView===b("MessengerView").DETAIL.PAYFRIENDPICKER?l(c,b("MessengerURIConstants").PAYMENT_PAY_PATH):a.detailView===b("MessengerView").DETAIL.COMPOSE?l(c,b("MessengerURIConstants").COMPOSE_SUBPATH):a.threadKey?a.masterView===b("MessengerView").MASTER.PAYMENT?(j(c,b("MessengerURIConstants").THREAD_PREFIX+a.threadKey),delete a.extraQueryParams.id,delete a.extraQueryParams.a,delete a.extraQueryParams.m):l(c,b("MessengerURIConstants").THREAD_PREFIX+a.threadKey):a.masterView===b("MessengerView").MASTER.PAYMENT?(j(c,""),delete a.extraQueryParams.id,delete a.extraQueryParams.a,delete a.extraQueryParams.m):l(c,"");a.extraQueryParams&&c.addQueryData(a.extraQueryParams);b("MercuryFilters.bs").isSupportedFilter(a.filter)&&c.addQueryData({filter:a.filter});if(a.query!=null)if(a.masterView===b("MessengerView").MASTER.SEE_ALL_PEOPLE||a.masterView===b("MessengerView").MASTER.SEE_ALL_GROUPS||a.masterView===b("MessengerView").MASTER.SEE_ALL_PAGES)c.addQueryData("t",a.seeAllType),c.addQueryData("sa",a.query);else if(k)a.masterView===b("MessengerView").MASTER.SEARCH?c.addQueryData("q",a.query):a.masterView===b("MessengerView").MASTER.SEARCH_MESSAGES&&c.addQueryData("qa",a.query);else{var d;c.addQueryData((d={},d[a.masterView===b("MessengerView").MASTER.SEARCH?"qa":"q"]=a.query,d))}a.threadIDs&&c.addQueryData({threadIDs:JSON.stringify(a.threadIDs)});a.mid&&c.addQueryData({mid:a.mid});return c},getNonMessengerState:function(){return{notMessenger:!0,filter:b("MercuryFilters.bs").all,folder:b("MessagingTag").INBOX,masterView:b("MessengerView").MASTER.RECENT}},deserialize:function(a){__p&&__p();var c={},d=a.getPath(),e=b("gkx")("997564"),f=new RegExp("^"+b("MessengerURIConstants").FACEBOOK_PREFIX+"(/|$)");if(b("CurrentEnvironment").facebookdotcom&&!(f.test(d)||e&&d=="/"))return this.getNonMessengerState();f=d.replace(b("MessengerURIConstants").FACEBOOK_PREFIX,"");var g;e=a.getQueryData();d=e.filter;a=e.mid;var i=e.q,j=e.qa,l=e.sa,o=e.t,p=e.threadIDs;e=babelHelpers.objectWithoutPropertiesLoose(e,["filter","mid","q","qa","sa","t","threadIDs"]);c.query=j||i;c.sa=l;c.seeAllType=o;if(p)try{g=JSON.parse(p)}catch(a){}g?c.threadIDs=g.filter(function(a){return b("MercuryIDs").isValidThreadID(a)}):c.threadIDs=null;f.match("^"+b("MessengerURIConstants").PEOPLE_PATH)?c.masterView=b("MessengerView").MASTER.PEOPLE:f.match("^"+b("MessengerURIConstants").SUPPORT_PATH)?c.masterView=b("MessengerView").MASTER.SUPPORT:f.match("^"+b("MessengerURIConstants").PAYMENT_PATH)?c.masterView=b("MessengerView").MASTER.PAYMENT:f.match("^"+b("MessengerURIConstants").SEARCH_PATH)?k?c.masterView=this.updateMasterViewForSearchRefactor(j,l,o):c.masterView=b("MessengerView").MASTER.SEARCH:c.masterView=b("MessengerView").MASTER.RECENT;f.match("^"+b("MessengerURIConstants").FILTERED_REQUESTS_PATH)?c.folder=b("MessagingTag").OTHER:f.match("^"+b("MessengerURIConstants").ARCHIVED_PATH)?c.folder=b("MessagingTag").ACTION_ARCHIVED:f.match("^"+b("MessengerURIConstants").MESSAGE_REQUESTS_PATH)?c.folder=b("MessagingTag").PENDING:f.match("^"+b("MessengerURIConstants").FOLDERS_PATH)?c.folder=b("MessagingTag").MARKETPLACE_FOLDER:c.folder=b("MessagingTag").INBOX;if(f.match(b("MessengerURIConstants").COMPOSE_SUBPATH+h))c.detailView=b("MessengerView").DETAIL.COMPOSE;else if(f.match("^"+b("MessengerURIConstants").PAYMENT_PATH+b("MessengerURIConstants").PAYMENT_PAY_PATH))e&&e.id?(c.threadKey=e.id,c.detailView=b("MessengerView").DETAIL.PAYTHREAD):c.detailView=b("MessengerView").DETAIL.PAYFRIENDPICKER;else{i=m(f);i&&(c.threadKey=i,c.detailView=b("MessengerView").DETAIL.THREAD);p=n(f);p&&(c.folderKey=p)}b("MercuryFilters.bs").isSupportedFilter(d)?c.filter=d:c.filter=b("MercuryFilters.bs").all;c.mid=a;c.extraQueryParams=e;return c.masterView===b("MessengerView").MASTER.SUPPORT?b("MessengerStateProcessor").supportInboxPostprocess(c):b("MessengerStateProcessor").postprocess(c)},updateMasterViewForSearchRefactor:function(a,c,d){if(a)return b("MessengerView").MASTER.SEARCH_MESSAGES;else if(c&&d)switch(d){case"friend":case"non_friend":return b("MessengerView").MASTER.SEE_ALL_PEOPLE;case"page":return b("MessengerView").MASTER.SEE_ALL_PAGES;case"thread":return b("MessengerView").MASTER.SEE_ALL_GROUPS;default:return b("MessengerView").MASTER.SEARCH}else return b("MessengerView").MASTER.SEARCH}};function m(a){a=a.match(b("MessengerURIConstants").THREAD_PREFIX+"([^/]+)"+h);return a&&decodeURIComponent(a[1])}function n(a){a=a.match(b("MessengerURIConstants").FOLDERS_PATH+i+"([^/]+)"+b("MessengerURIConstants").THREAD_PREFIX+"([^/]+)"+h);return a&&decodeURIComponent(a[1])}e.exports=a}),null);
__d("WorkGalahadChatChannelActions",["MercuryFilters.re","MessagingTag","WorkGalahadDispatcher"],(function(a,b,c,d,e,f){"use strict";function a(a){b("WorkGalahadDispatcher").dispatch({type:"galahad/chat_change_folder",folder:a})}function c(a){b("WorkGalahadDispatcher").dispatch({type:"galahad/chat_change_filter",filter:a})}e.exports={changeFolder:a,changeFilter:c}}),null);
__d("MessengerActions",["invariant","Bootloader","EventProfiler","LogHistory","MercuryIDs","MessengerDispatcher","MessengerThreadFetchLoggerUtil","MessengerURISerializer","MessengerView","URI","WorkGalahadChatChannelActions","WorkGalahadSettings","goURI","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("keyMirror")({CANCEL_FILE_UPLOAD:null,EMPTY_FILES:null,LINK_PREVIEW:null,LOADED_SHARE_DATA:null,LOADING_SHARE_DATA:null,REMOVE_SHARE_PREVIEW:null,PREPARE_FILES_FOR_SEND:null,REPLACE_STATE:null,SELECT_THREAD:null,UPDATE_MDOT_ME:null,UPDATE_THREAD_TAG:null,UPLOAD_FILE_FAILED:null,UPLOADED_FILE:null}),j=b("LogHistory").getInstance("messenger_actions"),k={Types:i,changeDetailView:function(a){m(function(b){return b.detailView!==a?{detailView:a}:null})},changeMasterView:function(a){m(function(c){if(c.masterView!==a){var d={masterView:a};c.masterView===b("MessengerView").MASTER.SEARCH&&(d.query=void 0,b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(a,b){a&&a.endFunnel(b.FUNNEL_LOGGER_TAGS.END_WITH_BACK_BUTTON)},"MessengerActions"));return d}return null})},selectThread:function(a,c){__p&&__p();if(c==="meeting_room_page"){n(a);return}b("EventProfiler").tagCurrentActiveInteractionsAs("MessengerThreadSwitch");b("MessengerDispatcher").dispatch({type:i.SELECT_THREAD,threadID:a});m(function(c){if(c.activeThreadID===a)return null;var d={query:c.query,activeThreadID:a,detailView:b("MessengerView").DETAIL.THREAD,mid:null};a&&(b("MessengerThreadFetchLoggerUtil").markerStart(a),c.query!==void 0&&c.masterView!==b("MessengerView").MASTER.SEARCH&&c.masterView!==b("MessengerView").MASTER.SEARCH_MESSAGES&&(d.query=void 0,b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(a,b){if(!a&&!b)return;a.endFunnel(b.FUNNEL_LOGGER_TAGS.END_BY_CHANGING_THREADS)},"MessengerActions")));return d})},changeState:function(a){b("MessengerDispatcher").dispatch({type:i.REPLACE_STATE,nextState:a})},changeMDotMeReferral:function(a,c){a===void 0&&(a=null),c===void 0&&(c=null),b("MessengerDispatcher").dispatch({type:k.Types.UPDATE_MDOT_ME,refCode:a,refThreadID:c})},changeThreadTag:function(a,c){a===void 0&&(a=null),c===void 0&&(c=null),b("MessengerDispatcher").dispatch({type:k.Types.UPDATE_THREAD_TAG,messagingTags:a,threadID:c})},changeFolder:function(a,c){b("WorkGalahadSettings").isGalahadEnabled?b("WorkGalahadChatChannelActions").changeFolder(a):m(function(b){return b.folder!==a?c?{folder:a,folderKey:c}:{folder:a}:null})},changeFilter:function(a){b("WorkGalahadSettings").isGalahadEnabled?b("WorkGalahadChatChannelActions").changeFilter(a):m(function(b){return b.filter!==a?{filter:a}:null})},changeMid:function(a){m(function(b){return b.mid!==a?{mid:a}:null})},changeID:function(a){m(function(b){return b.extraQueryParams.id!==a?{extraQueryParams:babelHelpers["extends"]({},b.extraQueryParams,{id:a})}:null})},prepareFilesForSend:function(a,c,d){j.debug("Add files from "+d,a);if(!a)return;b("MessengerDispatcher").dispatch({type:k.Types.PREPARE_FILES_FOR_SEND,threadID:a,files:c})},uploadedFile:function(a,c,d){if(!a)return;b("MessengerDispatcher").dispatch({type:k.Types.UPLOADED_FILE,threadID:a,uploadID:c,payload:d})},cancelFileUpload:function(a,c){if(!a)return;b("MessengerDispatcher").dispatch({type:k.Types.CANCEL_FILE_UPLOAD,threadID:a,uploadID:c})},uploadFileFailed:function(a,c){if(!a)return;b("MessengerDispatcher").dispatch({type:k.Types.UPLOAD_FILE_FAILED,threadID:a,uploadID:c})},cleanFiles:function(a){j.debug("clean files",a);if(!a)return;b("MessengerDispatcher").dispatch({type:k.Types.EMPTY_FILES,threadID:a})},loadingPreview:function(a,c){b("MessengerDispatcher").dispatch({type:k.Types.LINK_PREVIEW,threadID:a,match:c})},loadingShareData:function(a){b("MessengerDispatcher").dispatch({type:k.Types.LOADING_SHARE_DATA,threadID:a})},loadedShareData:function(a,c){b("MessengerDispatcher").dispatch({type:k.Types.LOADED_SHARE_DATA,threadID:a,attachmentData:c})},removeSharePreview:function(a){b("MessengerDispatcher").dispatch({type:k.Types.REMOVE_SHARE_PREVIEW,threadID:a})}};function l(a,b){return a.detailView==null}function m(a){var c=b("MessengerURISerializer").deserialize(new(h||(h=b("URI")))(window.location.href));a=a(c);var d=l(c,a);a&&b("goURI")(b("MessengerURISerializer").serialize(Object.assign(c,a)),!1,d)}function n(a){!a&&g(0,5146);a=b("MercuryIDs").getUserIDFromThreadID(a);!a&&g(0,5147);var c=new(h||(h=b("URI")))(),d=c.getQualifiedURI().getSubdomain();c.setDomain("facebook.com").setSubdomain(d).setPath("/"+a).setProtocol("https");window.open(c,"_blank")}e.exports=k}),null);
__d("MessengerContactAdapters",["ImmutableObject","immutable"],(function(a,b,c,d,e,f){__p&&__p();a={fromSearchableEntry:function(a){__p&&__p();var c=a.getType(),d={alias:null,isMessengerUser:null,isWorkUser:null,isVerified:null,workForeignEntityInfo:null,participants:null,photo:a.getPhoto(),subtitle:a.getSubtitle(),thread:null,title:a.getTitle(),type:c,uid:a.getUniqueID(),timestamp:null,matchRanges:null};d.photo||(d.photo=null);var e=a.getAuxiliaryData();if(e){c=="message"&&(d.uid=e.thread_id);e.timestamp&&(d.timestamp=e.timestamp);c==="message"&&e.matchRanges!=null&&(d.matchRanges=e.matchRanges);a=c==="message"&&e.messageResultType==="groupConversation";c==="thread"||a?(d.thread=new(b("ImmutableObject"))(e.thread),d.participants=b("immutable").Map().withMutations(function(a){e.participantsToRender.forEach(function(b){a.set(b.id,b)})})):(d.isMessengerUser=e.isMessengerUser,d.isWorkUser=e.isWorkUser,d.isVerified=e.isVerified,d.workForeignEntityInfo=e.workForeignEntityInfo,d.alias=e.alias)}return new(b("ImmutableObject"))(d)},fromMercuryParticipant:function(a){return new(b("ImmutableObject"))({alias:a.alias,uid:a.id,photo:a.image_src,title:a.name,subtitle:a.title?a.title:"",type:a.type,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isVerified:a.is_verified,isCoworker:a.is_coworker,href:a.href,timezone:a.timezone,workForeignEntityInfo:a.work_foreign_entity_info})}};e.exports=a}),null);
__d("MessengerTypeaheadUtils",["fbt","ix","MessengerEnvironment","ReactDOM","SearchableEntry","asset","gkx","immutable","mapObject","qex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("immutable").OrderedMap,k=500,l=100,m="__special_search_entry__",n=["search","friend","fb4c","message","thread","meeting_room_page","internal_bot_page","non_friend","page","game"],o=["search","friend","fb4c","message","thread","meeting_room_page","internal_bot_page","page","non_friend","game"],p=(a={},a.search={header:""},a.friend={header:g._("Contactos")},a.fb4c={header:g._("Compa\u00f1eros de trabajo")},a.message={header:g._("Mensajes")},a.thread={header:g._("Conversaciones en grupo")},a.page={header:g._("Negocios")},a.meeting_room_page={header:g._("Salas de reuniones")},a.internal_bot_page={header:g._("Bots")},a.non_friend={header:g._("M\u00e1s personas")},a.game={header:g._("Juegos")},a);c={sortEntries:function(a,c){__p&&__p();var d=[],e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[];a.forEach(function(a){__p&&__p();switch(a.getType()){case"friend":e.push(a);break;case"fb4c":f.push(a);break;case"message":g.push(a);break;case"thread":h.push(a);break;case"page":case"commerce_page":j.push(a);break;case"non_friend":i.push(a);break;case"meeting_room_page":k.push(a);break;case"internal_bot_page":l.push(a);break;case"search":d.push(a);break;case"game":m.push(a);break}});if(b("qex")._("882163")){c=b("qex")._("899030");a=c===2||c===3?j.slice(0,c):j;return d.concat(e,f,g,h,k,l,a,i,m)}return d.concat(e,f,g,h,k,l,i,j,m)},sortEntriesWithoutPages:function(a){__p&&__p();var b=[],c=[],d=[],e=[];a.forEach(function(a){switch(a.getType()){case"friend":b.push(a);break;case"fb4c":c.push(a);break;case"thread":d.push(a);break;case"non_friend":e.push(a);break}});return b.concat(c,d,e)},sortEntriesWithoutGroupsOrViewer:function(a,b){__p&&__p();var c=[],d=[],e=[];a.forEach(function(a){if(a.getUniqueID()===b)return;switch(a.getType()){case"friend":c.push(a);break;case"fb4c":d.push(a);break;case"non_friend":e.push(a);break}});return c.concat(d,e)},getEntryOrder:function(a,c){if(c==null)if(b("qex")._("882163"))return o;else return n;else return c},orderEntries:function(a,b){var c=this,d=[];this.getEntryOrder(b).filter(function(a){return a!=="search"}).concat("search").forEach(function(b){return d.push.apply(d,a.filter(function(a){return c.areSectionsEqual(a.getType(),b)}))});return d},buildSingleSection:function(a){return j([[[""],a]])},buildListSections:function(a,c,d){__p&&__p();if(!a.length)return j();d=this.getEntryOrder(c,d);var e=(i||(i=b("mapObject")))(p,function(a){return babelHelpers["extends"]({},a,{entries:[]})});e.commerce_page=e.page;var f=b("qex")._("861958");c===""&&f===!0&&(e.friend.header=g._("Sugerencias"));a.forEach(function(a){var b=a.getType();e[b]&&e[b].entries.push(a)});return j(d.filter(function(a){return e[a].entries.length}).map(function(a){return[[e[a].header,a],e[a].entries]}))},buildCustomSection:function(a,b){var c;return c={},c[a]=b,c},areSectionsEqual:function(a,b){return a==="commerce_page"?b==="commerce_page"||b==="page":a===b},scrollEntryIntoView:function(a,c){var d=b("ReactDOM").findDOMNode(c),e=c.getScrollTop(),f=a.offsetTop-e;d=d.offsetHeight-a.offsetHeight;a=Math.abs(d-f);f>=d&&a<=l?c.scrollToPosition(e+f-d,!0,{duration:k}):f<0&&a<=d+l&&c.scrollToPosition(e+f,!0,{duration:k})},getMessageSearchEntry:function(a){return b("gkx")("860320")||!b("MessengerEnvironment").messengerui||a.length<2?null:new(b("SearchableEntry"))({uniqueID:m,title:g._("Busca mensajes de \"{queryString}\"",[g._param("queryString",a)]),photo:h("465522"),type:"search"})},isMessageSearchEntry:function(a){return a.getUniqueID()===m}};e.exports=c}),null);
__d("MessengerGraphQLTypeaheadHighlighter",["Keys","MessengerTypeaheadUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getNextHighlightedEntry:function(a,c,d,e){__p&&__p();var f=[];b("MessengerTypeaheadUtils").getEntryOrder(d).forEach(function(a){return f.push.apply(f,c.filter(function(c){return b("MessengerTypeaheadUtils").areSectionsEqual(c.getType(),a)}))});if(!e){if(f.length===0)return null;if(a===b("Keys").DOWN){d=f[0];return d.getType()==="search"&&f.length>1?f[1]:d}return a===b("Keys").UP?f[f.length-1]:null}var g=e.getUniqueID();d=f.findIndex(function(a){return a.getUniqueID()===g});if(d===-1)return null;a===b("Keys").DOWN?(d+=1,d>=f.length&&(d=0)):a===b("Keys").UP&&(d-=1,d<0&&(d=f.length-1));return f[d]}};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter",["fbt","MercuryIDs","SearchableEntry","WorkForeignEntityType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){return b("MercuryIDs").isValid(a)?a:b("MercuryIDs").getParticipantIDFromUserID(a)}function i(a){var b=a.scim_company_user&&a.scim_company_user.company_title;a=a.is_viewer_coworker?null:a.work_info&&a.work_info.work_community&&a.work_info.work_community.name;if(a&&b)return a+" \u2022 "+b;else if(a)return a;else if(b)return b;return null}function j(a,b){var c=null;a.members&&a.members.edges&&a.members.edges.length>0?c=a.members.edges.map(function(a){return a.node.name}).join(", "):a.is_work_user?c=i(a):b&&a.is_viewer_friend===!1&&(c=b);return c}var k={convertWorkChatProfileToEntry:function(a,c){var d;if(!a||!a.id||!a.name)return null;var e="non_friend";d=a.is_viewer_coworker||((d=a.work_foreign_entity_info)!=null?d.type:d)==="NOT_FOREIGN";a.is_work_user&&d&&(e="fb4c");return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:e,subtitle:c,photo:a.profile_picture&&a.profile_picture.uri,auxiliaryData:{isWorkUser:a.is_work_user,workForeignEntityInfo:a.work_foreign_entity_info},order:-a.viewer_affinity})},convertProfileToEntry:function(a,c){var d;if(!a||!a.id||!a.name)return null;var e="non_friend";d=a.is_viewer_coworker||((d=a.work_foreign_entity_info)!=null?d.type:d)==="NOT_FOREIGN";a.is_work_user&&d?e="fb4c":(a.is_viewer_friend||a.messenger_contact.is_on_viewer_contact_list||d&&a.viewer_affinity>0)&&(e="friend");d=j(a,c);return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:e,subtitle:d,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMemorializedUser:a.is_memorialized,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isVerified:a.is_verified,isActiveAccount:a.work_info&&a.work_info.is_active_account,workForeignEntityInfo:a.work_foreign_entity_info,alias:a.username},order:-a.viewer_affinity})},convertPageToEntry:function(a,c){if(!a||!a.id||!a.name)return null;return a.instant_game_info?this.convertGameToEntry(a,c):new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:c,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,canViewerMessage:a.can_viewer_message,isVerified:a.is_verified,canViewerAddToGroupChat:a.can_viewer_add_to_group_chat},order:0})},convertGameToEntry:function(a,c){return!a||!a.id||!a.name||!a.instant_game_info?null:new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:"game",photo:a.instant_game_info&&a.instant_game_info.icon_uri,uri:a.instant_game_info&&a.instant_game_info.game_uri,order:0})},convertMessageToEntry:function(a){__p&&__p();var c,d;c=a==null?void 0:(c=a.message_thread)==null?void 0:c.thread;d=a==null?void 0:(d=a.matched_message)==null?void 0:d.message;var e=a==null?void 0:a.thread_id,f=a==null?void 0:a.matched_message;a=Number(a==null?void 0:(a=a.message_thread)==null?void 0:a.approx_count);if(c==null||d==null||e==null||f==null||a==null)return null;var i="message:"+e,j=d.snippet,l=g._("{number of messages} mensajes coincidentes",[g._param("number of messages",a)]);l=a>1?l:j;j=d.timestamp;typeof j==="number"&&a===1?j*=1e3:j=void 0;a=a==1?(d=f)!=null?(d=d.search_result_context)!=null?d.match_ranges:d:d:null;f={matchRanges:a,timestamp:j,thread_id:e,messageResultType:"1on1Conversation"};d="";a=null;if(c.image!==void 0){c.thread_name&&(d=c.thread_name);c.image&&(a=c.image.uri);if(c.all_participants&&c.all_participants.nodes&&c.all_participants.count){if(d==""){j=c.all_participants.count;var m=c.all_participants.nodes.map(function(a){return a.messaging_actor.name}).filter(Boolean);d=k.getParticipantsText(!0,m,j)}m=c.all_participants.nodes.map(function(a){a=h(a.messaging_actor.id);return{id:a}});f=babelHelpers["extends"]({},f,{messageResultType:"groupConversation",participantsToRender:m,thread:{thread_id:e,image_src:a,participants:m.map(function(a){return a.id})}})}}else if(c.all_participants&&c.all_participants.nodes[0]&&c.all_participants.nodes[0].messaging_actor){j=c.all_participants.nodes[0].messaging_actor;j.name&&(d=j.name);j.profile_picture&&(a=j.profile_picture.uri);typeof j.is_memorialized==="boolean"&&(f.isMemorializedUser=j.is_memorialized);typeof j.is_messenger_user==="boolean"&&(f.isMessengerUser=j.is_messenger_user);typeof j.is_work_user==="boolean"&&(f.isWorkUser=j.is_work_user);typeof j.is_verified==="boolean"&&(j.__typename==="User"||j.__typename==="Page"?f.isVerified=j.is_verified:f.isVerified=!1);typeof j.username==="string"&&(f.alias=j.username);j.work_foreign_entity_info&&(f.workForeignEntityInfo=j.work_foreign_entity_info)}return new(b("SearchableEntry"))({uniqueID:i,title:d,subtitle:l,type:"message",photo:a,uri:null,order:0,auxiliaryData:f})},convertGroupToEntry:function(a,c){__p&&__p();var d;if(!a||!a.thread_key||!a.is_group_thread)return null;var e=a.thread_key.thread_fbid;if(!e)return null;var f=a.image&&a.image.uri;d=a==null?void 0:(d=a.other_participants)==null?void 0:d.edges;if(d==null)return null;d=d.map(function(a){return a.node.messaging_actor.name});d=k.getParticipantsText(!1,d,a.other_participants.count);var g=a.name,i=null;!g?g=d:i=d;if(!g)return null;d={};d.thread={thread_id:e,other_user_fbid:null,image_src:f,participants:a.other_participants.edges.map(function(a){return h(a.node.messaging_actor.id)})};d.participantsToRender=a.other_participants.edges.map(function(a){return{id:h(a.node.messaging_actor.id),is_messenger_user:a.node.messaging_actor.is_messenger_user,is_coworker:a.node.messaging_actor.is_viewer_coworker}});return new(b("SearchableEntry"))({uniqueID:e,order:c,photo:f,title:g,subtitle:i,type:"thread",auxiliaryData:d})},convertMSQGroupToEntry:function(a,c,d){__p&&__p();var e,f;if(!a||!a.thread_key)return null;e=a==null?void 0:(e=a.thread_key)==null?void 0:e.thread_fbid;if(!e)return null;var g=a.image&&a.image.uri;f=a==null?void 0:(f=a.all_participants)==null?void 0:f.edges;if(f==null)return null;f=f.filter(function(a){return a.node.id!==d});var i=f.map(function(a){return a.node.messaging_actor.name});i=k.getParticipantsText(!0,i,a.all_participants.count);a=a.thread_name;var j=null;!a?a=i:j=i;if(!a)return null;i={};i.thread={thread_id:e,other_user_fbid:null,image_src:g,participants:f.map(function(a){return h(a.node.messaging_actor.id)})};i.participantsToRender=f.map(function(a){return{id:h(a.node.messaging_actor.id),is_messenger_user:a.node.messaging_actor.is_messenger_user,is_coworker:a.node.messaging_actor.is_viewer_coworker}});return new(b("SearchableEntry"))({uniqueID:e,order:c,photo:g,title:a,subtitle:j,type:"thread",auxiliaryData:i})},getValidatedMatchesRanges:function(a,b){__p&&__p();if(!Array.isArray(a))return[];a=[].concat(a).filter(function(a){var c=a.length;a=a.offset;if(typeof c!=="number"||typeof a!=="number")return;return c>0&&a>=0&&a+c<=b.length}).sort(function(a,b){return a.offset-b.offset});var c=[];a.forEach(function(a,b){if(b!=0){b=c[c.length-1];b=b.offset+b.length;if(a.offset<b)return}c.push(a)});return c},getParticipantsText:function(a,b,c,d){__p&&__p();d===void 0&&(d=3);if(a===null||c==null)return b.join(", ");var e=1;a||(c+=e);var f=b.length<=d;a=a&&b.length===c;if(f&&a)return b.slice(0,-1).join(", ");f=b.slice(0,d);a=c-e-f.length;return a<1?f.join(", "):g._("{name of the first n participants} y {number of other participants} personas m\u00e1s",[g._param("name of the first n participants",f.join(", ")),g._param("number of other participants",a)])}};e.exports=k}),null);
__d("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2339215389425518"};b.getQueryID=function(){return"339708329890231"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerNewGroupParticipantSuggestionLocalCacheManager",["AsyncRequest","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){__p&&__p();function a(a,c){this.entriesPromise=null,this.orderedFriendEntries=null,this.alreadyParticipatingIDs=null,this.shouldRefetch=!1,this.cursor=null,this.threadFBID=a,this.alreadyParticipatingIDs=c,this.callbackManager=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null})}var c=a.prototype;c.onEntriesLoaded=function(a){__p&&__p();var c=this;if(this.orderedFriendEntries!==null&&!this.shouldRefetch){a(this.orderedFriendEntries);return}if(this.entriesPromise===null||this.shouldRefetch){var d=this.alreadyParticipatingIDs?this.alreadyParticipatingIDs.toArray():null;d=b("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getURI({original_participant_ids:d,count:50});this.entriesPromise=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload().data}).then(function(a){var d=a.viewer.messenger_contextual_ranked_users.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});c.callbackManager.addLocalEntries(d);c.orderedFriendEntries=d;d=(d=a)!=null?(d=d.viewer)!=null?(d=d.messenger_contextual_ranked_users)!=null?(d=d.page_info)!=null?d.has_next_page:d:d:d:d;d&&(c.cursor=a.viewer.messenger_contextual_ranked_users.page_info.end_cursor)})}this.entriesPromise&&b("promiseDone")(this.entriesPromise,function(){a(c.orderedFriendEntries),c.loadMoreFriends(),c.shouldRefetch=!1},b("emptyFunction"))};c.loadMoreFriends=function(){__p&&__p();var a=this;if(this.cursor==null)return;var c=this.cursor;this.cursor=null;b("promiseDone")(new(b("AsyncRequest"))(b("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getLegacyURI({cursor:c})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(c){a.callbackManager.addLocalEntries(c.viewer.messenger_contextual_ranked_users.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))})};c.search=function(a,b){var c=this;this.onEntriesLoaded(function(){c.callbackManager.search(a,function(c){b(c,a)})})};c.participantsSame=function(a){return this.twoIDsListEquals(this.alreadyParticipatingIDs,a)};c.twoIDsListEquals=function(a,b){return a?b.size!==a.size?!1:b.isSuperset(a):b.size==0};c.setRefetchAndRefreshData=function(a){this.shouldRefetch=!0,this.alreadyParticipatingIDs=a};c.isBootstrapped=function(a){return this.orderedFriendEntries!==null&&this.participantsSame(a)};return a}();a=function(){__p&&__p();a.get=function(){return h.get()};function a(){this.threadFBIDToCacheMap=new Map()}var b=a.prototype;b.onEntriesLoaded=function(a,b,c){var d=this.threadFBIDToCacheMap.get(a);!d?(d=new g(a,b),this.threadFBIDToCacheMap.set(a,d)):d.participantsSame(b)||d.setRefetchAndRefreshData(b);d.onEntriesLoaded(c)};b.search=function(a,b,c,d){var e=this.threadFBIDToCacheMap.get(a);!e?(e=new g(a,b),this.threadFBIDToCacheMap.set(a,e)):e.participantsSame(b)||e.setRefetchAndRefreshData(b);e.search(c,d)};b.isBootstrapped=function(a,b){if(!a)return!1;a=this.threadFBIDToCacheMap.get(a);return a?a.isBootstrapped(b):!1};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2046569042080039"};b.getQueryID=function(){return"2118248735074331"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerRoomWithAssocObjectAudienceLocalCacheManager",["AsyncRequest","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","MessengerRoomWithAssocObjectAudienceWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){__p&&__p();function a(a){this.entriesPromise=null,this.audienceEntries=null,this.threadFBID=a,this.callbackManager=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null})}var c=a.prototype;c.onEntriesLoaded=function(a){__p&&__p();var c=this;if(this.audienceEntries!==null){a(this.audienceEntries,!0);return}if(this.entriesPromise===null){var d=b("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery").getURI({thread_fbid:this.threadFBID,first:30});this.entriesPromise=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){a=a.data.message_thread.messaging_audience_list.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});c.callbackManager.addLocalEntries(a);c.audienceEntries=a})}this.entriesPromise&&b("promiseDone")(this.entriesPromise,function(){a(c.audienceEntries,!0)},b("emptyFunction"))};c.search=function(a,b){var c=this;this.onEntriesLoaded(function(){c.callbackManager.search(a,function(c){b(c,a)})})};c.isBootstrapped=function(){return this.audienceEntries!==null};return a}();a=function(){__p&&__p();a.get=function(){return h.get()};function a(){this.threadFBIDToCacheMap=new Map()}var b=a.prototype;b.onEntriesLoaded=function(a,b){var c=this.threadFBIDToCacheMap.get(a);c||(c=new g(a),this.threadFBIDToCacheMap.set(a,c));c.onEntriesLoaded(b)};b.search=function(a,b,c){var d=this.threadFBIDToCacheMap.get(a);d||(d=new g(a),this.threadFBIDToCacheMap.set(a,d));d.search(b,c)};b.isBootstrapped=function(a){if(!a)return!1;a=this.threadFBIDToCacheMap.get(a);return a?a.isBootstrapped():!1};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("XMessengerDotComSettingsEditController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/settings/edit/",{})}),null);
__d("MessengerSettingsActions",["AsyncRequest","CurrentEnvironment","MessengerDesktopNotificationPermissions","MessengerDesktopNotifications","MessengerDispatcher","MessengerURIConstants","XMessengerDotComSettingsEditController","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({CHANGE_SETTINGS:null,CHANGE_DESKTOP_NOTIFS:null});a={Types:g,changeSettings:function(a){var c=b("XMessengerDotComSettingsEditController").getURIBuilder().getURI();b("CurrentEnvironment").facebookdotcom&&c.setPath(b("MessengerURIConstants").FACEBOOK_PREFIX+c.getPath());new(b("AsyncRequest"))().setData({settings:a}).setURI(c).send();b("MessengerDispatcher").dispatch({type:g.CHANGE_SETTINGS,newSettings:a})},changeDesktopNotifs:function(a,c){a&&!b("MessengerDesktopNotifications").isGranted()?b("MessengerDesktopNotifications").requestPermission(function(d){if(d!==b("MessengerDesktopNotificationPermissions").GRANTED){b("MessengerDesktopNotifications").checkPermission()===b("MessengerDesktopNotificationPermissions").DENIED&&(c&&c());return}b("MessengerDispatcher").dispatch({type:g.CHANGE_DESKTOP_NOTIFS,desktopNotifsEnabled:a})}):b("MessengerDispatcher").dispatch({type:g.CHANGE_DESKTOP_NOTIFS,desktopNotifsEnabled:a})}};e.exports=a}),null);
__d("MessengerBootloadedLogMessage.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("BootloadOnRender.react"),{component:b("React").jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:b("JSResource")("MessengerLogMessage.react").__setRef("MessengerBootloadedLogMessage.react"),placeholder:b("React").jsx("div",{className:"_497p",children:"..."})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerBootloadedSecondarySearchLogger",["Bootloader","MessengerSecondarySearchFunnelConstants","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h="",i={LOCAL_CONTACTS:[],ORDERED_GCF_FRIENDLIST:[],SHORT_PROFILES:[],SUGGESTED_RECIPIENTS:[]},j=!1,k=!1;d=(c=b("MessengerSecondarySearchFunnelConstants")).EVENTS;var l=d.CLICK_OTHER_THREAD,m=d.END,n=d.IMPRESSIONS,o=d.START,p=d.QUERY_CHANGED,q=d.RESULT_SELECTED,r=d.SOURCE_ENDED,s=d.SOURCE_STARTED,t=d.TOKEN_REMOVED;f=c.END_ACTIONS;var u=f.ABANDON,v=f.SINGLE_RESULT_SELECTED;d=c.SOURCES;var w=d.SERVER,x=d.SHORT_PROFILES,y=d.SUGGESTED_RECIPIENTS,z=d.LOCAL_CONTACTS,A=d.LOCAL_AND_SERVER,B=d.ORDERED_GCF_FRIENDLIST,C=c.ENTRY_SURFACES.COMPOSER;function D(a){if(i.SUGGESTED_RECIPIENTS.includes(a))return y;else if(i.ORDERED_GCF_FRIENDLIST.includes(a))return B;else if(i.SHORT_PROFILES.includes(a))return x;else if(i.LOCAL_CONTACTS.includes(a))return z;else return w}function a(a){__p&&__p();if(!b("gkx")("678592"))return;b("Bootloader").loadModules(["MessengerSecondarySearchFunnelLogger"],function(c){__p&&__p();switch(a.name){case o:if(a.surface===C&&k===!0){c.reenterSearch(a.loggingID);break}j=!1;i={LOCAL_CONTACTS:[],ORDERED_GCF_FRIENDLIST:[],SHORT_PROFILES:[],SUGGESTED_RECIPIENTS:[]};c.startFunnel(a.client,a.surface,a.surface,null,a.loggingID);a.surface===C&&(k=!0);break;case m:var d=a.end_reason;a.surface===b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.BROADCAST&&(d=j?v:u);c.endFunnel(b("MessengerSecondarySearchFunnelConstants").END_REASONS.ACTION,d,a.loggingID,a.threadID,a.isNewThread);k=!1;break;case n:d=a.entries.map(function(a){a.data_source=[D(a.result_fbid)];return a});g=a.entries.map(function(a){return a.result_fbid});c.impressions(a.query,d,A,a.loggingID);break;case p:h=a.query;c.queryChanged(a.query,a.loggingID);break;case q:j=!0;d=D(a.id);var e=g.indexOf(a.id);c.resultSelected(a.id,e,a.type,a.query?a.query:h,d,a.surface,a.loggingID,a.selectionType);break;case r:e=!a.query||a.query===h;switch(a.source){case z:i.LOCAL_CONTACTS=a.ids?a.ids:[];break;case y:i.SUGGESTED_RECIPIENTS=a.ids?a.ids:[];break;case x:i.SHORT_PROFILES=a.ids?a.ids:[];e=!0;break;case B:i.ORDERED_GCF_FRIENDLIST=a.ids?a.ids:[];e=!0;break;default:break}c.sourceEnded(a.query,a.numResults,a.source,a.status,e,a.loggingID);break;case s:c.sourceStarted(a.query,a.source,a.loggingID);break;case t:c.tokenRemoved(a.deletedIDs,a.clearedAll,a.loggingID);break;case l:c.unfocusSearch(a.loggingID);break}},"MessengerBootloadedSecondarySearchLogger")}e.exports={logSearchEvent:a}}),null);
__d("MNPlatformAttributionTags",[],(function(a,b,c,d,e,f){e.exports={ATTRIBUTION_TAGS_PREFIX:"bnp:trigger:",CUSTOMER_CHAT_PLUGIN:"customer_chat_plugin",MESSENGERDOTCOM:"messengerdotcom",MESSENGER_WEB:"messenger_web",MESSENGER_WEB_SEARCH:"messenger_web_search",M_DOT_ME:"m_dot_me"}}),null);
__d("MessengerStore",["MessengerDispatcher","mixInEventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=b("MessengerDispatcher").register(this.__onDispatch.bind(this))}var c=a.prototype;c.getDispatchToken=function(){return this.$1};c.emitChange=function(){this.emit("change")};c.destroy=function(){b("MessengerDispatcher").unregister(this.$1)};return a}();b("mixInEventEmitter")(a,{change:!0});e.exports=a}),null);
__d("MessengerAttributionTagsStore",["MessengerActions","MessengerStore"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerAttributionTagsStore1={messagingTags:null,threadID:null};return b}var d=c.prototype;d.getState=function(){return this.$MessengerAttributionTagsStore1};d.__onDispatch=function(a){switch(a.type){case b("MessengerActions").Types.UPDATE_THREAD_TAG:this.$MessengerAttributionTagsStore1.messagingTags=a.messagingTags;this.$MessengerAttributionTagsStore1.threadID=a.threadID;this.emitChange();break;case b("MessengerActions").Types.SELECT_THREAD:this.$MessengerAttributionTagsStore1.messagingTags=null;this.$MessengerAttributionTagsStore1.threadID=null;this.emitChange();break}};return c}(b("MessengerStore"));e.exports=new a()}),null);
__d("MessengerDiscoveryEntryPointsLoggingHelper",["MessengerDiscoveryEntryPoint"],(function(a,b,c,d,e,f){"use strict";a={getEntryPointsLoggingTagStr:function(a){if(a.length==0||Object.values(b("MessengerDiscoveryEntryPoint")).indexOf(a[0])==-1)throw new Error("Please use enums in MessengerDiscoveryEntryPoints class");return"entrypoint:"+a.join(":")}};e.exports=a}),null);
__d("MNPlatformTagsDataManager",["MessengerActions","MessengerAttributionTagsStore","MessengerDiscoveryEntryPointsLoggingHelper","MNPlatformAttributionTags"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={getTags:function(a){__p&&__p();a===void 0&&(a=null);var c=null,d=null;switch(a){case"source:pages:message_shortlink":c=b("MNPlatformAttributionTags").M_DOT_ME;break;case"source:messenger:web":c=b("MNPlatformAttributionTags").MESSENGER_WEB;break;case"source:messenger:web_search":c=b("MNPlatformAttributionTags").MESSENGER_WEB_SEARCH;d=b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr(["messengerdotcom:web_search"]);break;case"source:discovery:customer_chat_plugin":c=b("MNPlatformAttributionTags").CUSTOMER_CHAT_PLUGIN;break;case"source:pages:page_plugin_message":c=b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr(["messengerdotcom:pages_plugin"]);break;default:c="";break}a=[c];d!==null&&a.push(d);return a},updateThreadTabAfterSelectThread:function(a,c){a===void 0&&(a=null);c===void 0&&(c=null);a=this.getTags(a);b("MessengerActions").changeThreadTag(a,c)},hasThreadTags:function(a){var c=b("MessengerAttributionTagsStore").getState();return!!(c.messagingTags&&a&&c.threadID&&c.threadID.toString()===a)},getThreadTags:function(){var a=b("MessengerAttributionTagsStore").getState();return a.messagingTags}}}),null);
__d("MessengerContentSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BROWSE_MESSAGE_IN_THREAD:"browse_message_in_thread",CHANGE_QUERY:"change_query",END_CONTENT_SEARCH:"end_content_search",INITIATE_CONTENT_SEARCH:"initiate_content_search",LOAD_MORE_THREADS:"load_more_threads",NUM_BROWSE_ACTIONS_WITHIN_THREAD:"num_browse_actions_within_thread",SELECT_THREAD:"select_thread",THREAD_IMPRESSIONS:"thread_impressions",LOAD_MESSAGE_IN_THREAD:"load_message_in_thread",BROWSE_CONTEXT:"browse_context"});b=Object.freeze({SEARCH_FROM_INTEGRATED_MESSAGE_SEARCH:"search_from_integrated_message_search",SEARCH_WITHIN_THREAD:"search_within_thread",SEARCH_ALL_THREADS:"search_all_threads"});c=Object.freeze(babelHelpers["extends"]({},b,{END_WITH_DONE_BUTTON:"end_with_done_button",END_WITH_X_BUTTON:"end_with_x_button",END_WITH_BACK_BUTTON:"end_with_back_button",END_BY_CHANGING_THREADS:"end_by_changing_threads"}));e.exports={FUNNEL_NAME:"WWW_MESSENGER_CONTENT_SEARCH_FUNNEL",FUNNEL_LOGGER_EVENTS:a,FUNNEL_LOGGER_TAGS:c,ENTRY_SURFACES:b}}),null);
__d("MessengerPaymentFriendsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1959479940789272"};b.getQueryID=function(){return"2171073576453933"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerPaymentFriendsLocalCache",["AsyncRequest","MessengerGraphQLTypeaheadAdapter","MessengerPaymentFriendsQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null}),h=null,i=null,j={onEntriesLoaded:function(a){__p&&__p();if(i){a(i);return}if(!h){var c=b("MessengerPaymentFriendsQueryWebGraphQLQuery").getURI({first:50});h=new(b("AsyncRequest"))(c).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){var c=a.data.viewer.all_friends.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});g.addLocalEntries(c);i=c;a.data.viewer.all_friends.page_info.end_cursor})}b("promiseDone")(h,function(){a(i)},b("emptyFunction"))},search:function(a,b){j.onEntriesLoaded(function(){g.search(a,function(c){b(c,a)})})},isBootstrapped:function(){return i!==null}};e.exports=j}),null);
__d("MessengerSearchQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2189148087863081"};b.getQueryID=function(){return"2343018689305473"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerSearchSeeAllQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2765614876786361"};b.getQueryID=function(){return"350794689172284"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerGroupSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2950938174931326"};b.getQueryID=function(){return"666334973823993"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerMessageSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2706854202719826"};b.getQueryID=function(){return"332444434106998"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerPageSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2230378867058421"};b.getQueryID=function(){return"419711615545533"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerProfileSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2530922320303835"};b.getQueryID=function(){return"1187203711467179"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2239687859487185"};b.getQueryID=function(){return"398906294161848"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerSearchWebGraphQLFetcherUtils",["CurrentUser","MessengerGroupSearchResultsQueryWebGraphQLQuery","MessengerMessageSearchResultsQueryWebGraphQLQuery","MessengerPageSearchResultsQueryWebGraphQLQuery","MessengerProfileSearchResultsQueryWebGraphQLQuery","MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={formSearchRequests:function(a,c,d){__p&&__p();var e={profiles:[],pages:[],rooms:[],messages:[]},f=b("CurrentUser").isWorkUser()&&b("gkx")("903262")?"workchat":"web_messenger_composer";a.forEach(function(a){__p&&__p();switch(a){case"users":a=Math.floor(Math.random()*65536);e.profiles.push(new(b("MessengerProfileSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.userLimit,can_viewer_send_money:d.canViewerSendMoneyFilter,session:a.toString(),exclude_ids:d.localEntryIDs,context:f}));break;case"groups":e.profiles.push(new(b("MessengerGroupSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.groupLimit,exclude_ids:d.localEntryIDs,context:f}));break;case"messages":e.messages.push(new(b("MessengerMessageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.messageLimit,exclude_ids:[],context:f}));break;case"pages":e.pages.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.pageLimit,messenger_commerce:!0,include_games:!0,internal_bot:!1,vc_endpoint:!1,context:f}));d.shouldQueryInternalBot===!0&&e.pages.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.pageLimit,messenger_commerce:!1,include_games:!1,internal_bot:!0,vc_endpoint:!1,context:f}));d.shouldQueryVCEndpoint===!0&&e.pages.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.pageLimit,messenger_commerce:!1,include_games:!1,internal_bot:!1,vc_endpoint:!0,context:f}));break;case"rooms":d.threadFBID!=null&&e.rooms.push(new(b("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.userLimit,thread_fbid:d.threadFBID}))}});return e},formMSQMessageSearchRequest:function(a,c){var d=[];d.push(new(b("MessengerMessageSearchResultsQueryWebGraphQLQuery"))({search_query:a,result_limit:c,exclude_ids:[],context:"web_messenger_composer"}));return d}};e.exports=a}),null);
__d("MessengerUniversalSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a={END:"end",IMPRESSIONS:"impressions",QUERY_CHANGED:"query_changed",REENTERED:"reentered",RESULT_SELECTED:"result_selected",SOURCE_ENDED:"source_ended",SOURCE_STARTED:"source_started",START:"start"};b={FIRST:"first",SEE_ALL:"see_all"};c={USER_CONTACT:"user_contact",USER_NON_CONTACT:"user_non_contact",GROUP:"group",PAGE:"page",GAME:"game",TINCAN:"tincan",COWORKER:"coworker",MESSAGE:"message",OTHER:"other"};d={MESSENGER_DOT_COM:"messenger_dot_com",WWW:"www"};f=Object.freeze({INBOX:"inbox",SIDEBAR:"sidebar"});var g={NULL_STATE:"null_state",TYPEAHEAD:"typeahead"},h={LOCAL:"local",SERVER:"server",SERVER_XCONTROLLER:"server_xcontroller",LOCAL_AND_SERVER:"local_and_server",SERVER_USERS_GROUPS:"server_users_groups",SERVER_PAGES:"server_pages",SERVER_ROOMS:"server_rooms"},i={FAILED:"failed",FINISHED:"finished"},j={LOCAL:"local",SERVER:"server"},k={END_ACTION:"end_action"},l=Object.freeze({ABANDON:"abandon",RESULT_SELECTED:"result_selected",MESSAGE_SEARCH:"message_search",ENTER_INTEGRATED_MESSAGE_SEARCH:"enter_integrated_message_search",SEND:"send",CALL:"call"});e.exports={NAME:"MESSENGER_UNIVERSAL_SEARCH_FUNNEL",TYPE:"UNIVERSAL",END_ACTIONS:l,END_REASONS:k,ENTRY_SURFACES:f,EVENTS:a,INTERFACES:d,QUERY_PROGRESS:i,RESULT_PAGES:b,RESULT_SURFACES:g,RESULT_TYPES:c,SOURCES:h,UI_SECTIONS:j}}),null);
__d("PromiseUtil",["Promise","nullthrows","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g={allSettled:function(a){var c=b("Promise").all(a);return b("Promise").all(a.map(function(a){return b("Promise").resolve(a).then(void 0,function(a){return void 0})})).then(function(){return c})},allSettledInSeries:function(a){var c=[];return a.reduce(function(a,b){return a.then(b).then(function(){return void 0},function(a){c.push(a);return void 0})},b("Promise").resolve()).then(function(){if(c.length)throw c[0]})},exponentialBackoff:function(a,b,c){b===void 0&&(b=Math.sqrt(2));c===void 0&&(c=1);var d=c;c=function(){var a=d;d*=b;return a};return g.rateLimit(a,c)},forEach:function(a,c){return a.then(function(a){return b("Promise").resolve(c(a)).then(function(){return a})})},forEachError:function(a,c){return a.then(void 0,function(a){return b("Promise").resolve(c(a)).then(function(){throw a})})},iterateUntil:function(a,c){var d=function d(e){return c(e)?b("Promise").resolve(e):b("Promise").resolve(a(e)).then(d)};return d},pollUntilImpl:function(a,c){var d,e=new(b("Promise"))(function(b,e){var f=function(){try{var c=a();c&&b(c.value)}catch(a){e(a)}};d=setInterval(f,1e3*c)});return e["finally"](function(){return clearInterval(b("nullthrows")(d))})},pollUntil:function(a,b){b===void 0&&(b=1);return g.pollUntilImpl(function(){var b=a();return b?{value:b}:void 0},b)},rateLimit:function(a,b){__p&&__p();var c=[],d=void 0,e=0;return function(){var f=b();for(var h=arguments.length,i=new Array(h),j=0;j<h;j++)i[j]=arguments[j];c=i;d||(d=g.wait(e+f-Date.now()/1e3).then(function(){e=Date.now()/1e3;d=void 0;return a.apply(void 0,c)}));return d}},rateLimitWithLastResult:function(a,c){var d=!1,e=void 0;return function(){d||(b("promiseDone")(g.wait(c()),function(){return d=!1}),e=a.apply(void 0,arguments),d=!0);return e}},repeatUntil:function(a,c){var d=function d(){return b("Promise").resolve(a()).then(function(a){return c(a)?b("Promise").resolve(a):d()})};return d},repeatWhileErrorUntil:function(a,c,d){var e=function e(){return b("Promise").resolve(a()).then(function(a){c(a);return b("Promise").resolve(a)},function(a){return d(a)?e():b("Promise").reject(a)})};return e},series:function(a,c){c=c;return a.reduce(function(a,b){return a.then(b)},b("Promise").resolve(c))},wait:function(a){return 0<a?new(b("Promise"))(function(b,c){return setTimeout(b,1e3*a)}):b("Promise").resolve()},waitAtMost:function(a,b){return g.waitOrElse(a,b,function(){throw new Error("Promise timed out")})},waitOrElse:function(a,c,d){var e=!1;return b("Promise").race([a.then(function(a){e=!0;return a},function(a){e=!0;throw a}),g.wait(c).then(function(){return e?void 0:d()})])}};e.exports=g}),null);
__d("MessengerSearchWebGraphQLFetcher",["Promise","requireCond","Bootloader","CurrentUser","MercuryConfig","MessengerBootloadedSecondarySearchLogger","MessengerGraphQLTypeaheadAdapter","MessengerSearchQueryWebGraphQLQuery","MessengerSearchSeeAllQueryWebGraphQLQuery","MessengerSearchWebGraphQLFetcherUtils","MessengerSecondarySearchFunnelConstants","MessengerUniversalSearchFunnelLoggerConstants","PromiseUtil","WebGraphQL","cr:998965","compactArray","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MessengerUniversalSearchFunnelLoggerConstants").TYPE,h=b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.OMNIPICKER,i=b("MercuryConfig").SearchMorePeople?b("MercuryConfig").SearchMorePeople:2,j=5,k=3;a=function(){"use strict";__p&&__p();function a(a,b){this.$1=0,this.$2=0,this.$3=0,this.$4=0,this.$5=0,this.$7="",this.$1=0,this.$2=0,this.$5=0,this.$6=a,this.$7=b}var c=a.prototype;c.fetchEntries=function(a,c,d,e,f){__p&&__p();var g=this;c=b("MessengerSearchWebGraphQLFetcherUtils").formSearchRequests(c,a,d);var h=c.pages,i=c.profiles,j=c.rooms,k=c.messages;if(h.length>0){this.$8("pages",a);this.$2=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(h))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){return g.$9(b,a,e)},function(b){return g.$10(b,a,f)})()}if(i.length>0){this.$8("users_groups",a);this.$1=0;c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(i))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){g.$11(b,a,e)},function(b){return g.$12(b,a,f)})()}if(j.length>0){this.$8("rooms",a);this.$5=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(j))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){g.$13(b,a,e)},function(b){return g.$14(b,a,f)})()}c=b("gkx")("975043");if(k.length>0&&c){this.$8("messages",a);this.$3=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(k))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){g.$15(b,a,e)},function(b){return g.$16(b,a,f)})()}};c.fetchMSQEntries=function(a,c,d,e){__p&&__p();var f=this;if(c>0){this.$3=0;var g=b("MessengerSearchWebGraphQLFetcherUtils").formMSQMessageSearchRequest(a,c);this.$8("messages",a);c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(g))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){f.$15(b,a,d)},function(b){return f.$16(b,a,e)})()}this.$4=0;var h=[];h.push(new(b("MessengerSearchQueryWebGraphQLQuery"))({query:a}));c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(h))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){return f.$17(b,a,d)},function(b){return f.$18(b,a,e)})()};c.fetchMSSAQEntries=function(a,c,d,e,f,g){__p&&__p();var h=this;g===void 0&&(g=[]);this.$4=0;var i=[];switch(c){case"friend":case"non_friend":i.push(new(b("MessengerSearchSeeAllQueryWebGraphQLQuery"))({query:a,exclude_ids:g,supported_types:[{result_type:"USER",limit:d}]}));break;case"thread":i.push(new(b("MessengerSearchSeeAllQueryWebGraphQLQuery"))({query:a,exclude_ids:g,supported_types:[{result_type:"GROUP",limit:d}]}));break;case"page":i.push(new(b("MessengerSearchSeeAllQueryWebGraphQLQuery"))({query:a,exclude_ids:g,supported_types:[{result_type:"PAGE",limit:d}]}));break}c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(i))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){return h.$17(b,a,e)},function(b){return h.$18(b,a,f)})()};c.$17=function(a,c,d){__p&&__p();var e=this;a=a[0];a=a==null?void 0:(a=a.messenger_search)==null?void 0:(a=a.result_modules)==null?void 0:(a=a.nodes)==null?void 0:(a=a[0])==null?void 0:(a=a.search_results)==null?void 0:a.edges;var f=[],g=0;a!=null&&a.forEach(function(a){__p&&__p();if(a.node&&a.node.__typename){var c=a.node.__typename;if(c==="User"){var d=b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node,null);d&&f.push(d)}if(c==="MessengerViewerGroupThread"){d=b("CurrentUser").getID();d=b("MessengerGraphQLTypeaheadAdapter").convertMSQGroupToEntry(a.node,g,d);d&&f.push(d);g++}if(c==="Page"){d=b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,e.$19(a.node));d&&f.push(d)}}});d(f,"singleServerQuery");this.$20("single_server_query",c,f)};c.fetchWorkChatSingleQueryEntries=function(a,c,d,e){__p&&__p();var f=this;if(b("cr:998965")==null)return;var g=[];g.push(b("cr:998965").formSearchRequests(a,c));c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(g))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){return f.$21(b,a,d)},function(b){return f.$22(b,a,e)})()};c.$21=function(a,c,d){__p&&__p();var e=this,f;a=a[0];if(this.$6()!==c)return;f=a==null?void 0:(f=a.entities_named)==null?void 0:f.user_group_results;var g=[],h=!1;h=!0;if(f!=null&&(f==null?void 0:f.edges)!=null&&(f==null?void 0:f.edges.length)>0){f=f.edges;f.map(function(a,c){var d=a.node;if(d!=null&&d.is_group_thread!=null){c=b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(d,c);c&&g.push(c)}else{c=b("MessengerGraphQLTypeaheadAdapter").convertWorkChatProfileToEntry(d,h?a.subtext:null);c&&g.push(c)}})}f=a==null?void 0:(f=a.entities_named)==null?void 0:f.bot_results;if(f!=null&&(f==null?void 0:f.edges)!=null&&(f==null?void 0:f.edges.length)>0){f=f==null?void 0:f.edges;f.map(function(a,c){c=b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,e.$19(a.node));c&&g.push(c)})}a=a==null?void 0:(f=a.entities_named)==null?void 0:f.vc_results;if(a!=null&&(a==null?void 0:a.edges)!=null&&(a==null?void 0:a.edges.length)>0){f=a==null?void 0:a.edges;f.map(function(a,c){c=b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,e.$19(a.node));c&&g.push(c)})}d(g,"singleServerQuery");this.$20("wc_single_server_query",c,g)};c.$15=function(a,c,d){__p&&__p();a=a[0];if(this.$6()!==c)return;a=a==null?void 0:(a=a.entities_named)==null?void 0:(a=a.search_results)==null?void 0:a.edges;var e=[];a!=null&&a.forEach(function(a){a=b("MessengerGraphQLTypeaheadAdapter").convertMessageToEntry(a.node);a&&e.push(a)});d(e,"messages");this.$20("messages",c,e)};c.$13=function(a,c,d){if(this.$6()!==c)return;a=(a=a[0])!=null?(a=a.message_thread)!=null?(a=a.messaging_audience_list)!=null?a.nodes:a:a:a;if(a){a=b("compactArray")(a.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a)}));d(a,"usersGroups");this.$20("rooms",c,a)}};c.$11=function(a,c,d){__p&&__p();if(this.$6()!==c)return;var e=[],f=[],g=!1;g=!0;for(var a=a,h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;j=(j=j)!=null?(j=j.entities_named)!=null?(j=j.search_results)!=null?j.edges:j:j:j;j&&j.length>0&&j[0].node&&(j[0].node.is_group_thread!=null?e=j.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a.node,c)}):j[0].node.is_messenger_user!=null&&(f=j.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node,g===!0?a.subtext:null)}),f=this.$23(b("compactArray")(f))))}j=b("compactArray")(f.concat(e));d(j,"usersGroups");this.$20("users_groups",c,j)};c.$23=function(a){__p&&__p();var b=[],c=[],d=[];for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;if(!g)continue;g.getType()==="friend"&&b.length<j?b.push(g):g.getType()==="non_friend"&&d.length<i?d.push(g):g.getType()==="fb4c"&&c.length<8&&c.push(g)}return b.concat(c,d)};c.$9=function(a,c,d){__p&&__p();var e=this;if(this.$6()!==c)return;var f=[];for(var a=a,g=Array.isArray(a),h=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=a.length)break;i=a[h++]}else{h=a.next();if(h.done)break;i=h.value}i=i;i=(i=i)!=null?(i=i.entities_named)!=null?(i=i.search_results)!=null?i.edges:i:i:i;i=i?i.map(function(a){a=a.node;return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a,e.$19(a))}):[];f=f.concat(b("compactArray")(i.slice(0,5)))}d(f,"pages");this.$20("pages",c,f)};c.$19=function(a){if(!a||!a.category_type)return"page";if(a.category_type==="WORKPLACE_BOT")return"internal_bot_page";else if(a.category_type==="MEETING_ROOM")return"meeting_room_page";return"page"};c.$12=function(a,b,c){if(b===this.$6()){if(this.$1<k){this.$1+=1;return!0}c(a,"usersGroups")}return!1};c.$10=function(a,b,c){if(b===this.$6()){if(this.$2<k){this.$2+=1;return!0}c(a,"pages")}return!1};c.$16=function(a,b,c){if(b===this.$6()){if(this.$3<k){this.$3+=1;return!0}c(a,"messages")}return!1};c.$14=function(a,b,c){if(b===this.$6()){if(this.$5<k){this.$5+=1;return!0}c(a,"rooms")}return!1};c.$18=function(a,b,c){if(b===this.$6()){if(this.$4<k){this.$4+=1;return!0}c(a,"singleServerQuery")}return!1};c.$22=function(a,b,c){if(b===this.$6()){if(this.$4<k){this.$4+=1;return!0}c(a,"singleServerQuery")}return!1};c.$24=function(a){__p&&__p();var c="";switch(a){case"users_groups":c=b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER_USERS_GROUPS;break;case"pages":c=b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER_PAGES;break;case"rooms":c=b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER_ROOMS;break;default:c=""}return c};c.$8=function(a,c){var d=this;if(this.$7===g)b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(e){var b=d.$24(a);e.logSourceStarted(c,b)},"MessengerSearchWebGraphQLFetcher");else if(this.$7===h){var e=this.$24(a);b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.SOURCE_STARTED,query:c,source:e,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER})}};c.$20=function(a,c,d){__p&&__p();var e=this;if(this.$7===g)b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(g){var f=e.$24(a);g.logSourceEnded(c,f,d.length,b("MessengerUniversalSearchFunnelLoggerConstants").QUERY_PROGRESS.FINISHED,e.$6()===c)},"MessengerSearchWebGraphQLFetcher");else if(this.$7===h){var f=this.$24(a);b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.SOURCE_ENDED,query:c,source:f,ids:d.map(function(a){return a.getUniqueID()}),status:b("MessengerSecondarySearchFunnelConstants").SOURCE_STATUSES.FINISHED,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER})}};return a}();e.exports=a}),null);
__d("MessengerFriendsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1720594534660350"};b.getQueryID=function(){return"1852062858177546"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("TopMessengerFriendsAndGroupsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1978892428852690"};b.getQueryID=function(){return"127838424757019"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerTypeaheadLocalCache",["AsyncRequest","MessengerConfig","MessengerFriendsWebGraphQLQuery","MessengerGraphQLTypeaheadAdapter","SearchSourceCallbackManager","TokenizeUtil","TopMessengerFriendsAndGroupsWebGraphQLQuery","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null}),h=null,i=null,j=null,k=null;function l(){if(b("MessengerConfig").BootstrapTypeaheadFromBuddylist||!j)return;var a=j;j=null;b("promiseDone")(new(b("AsyncRequest"))(b("MessengerFriendsWebGraphQLQuery").getLegacyURI({cursor:a})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(a){g.addLocalEntries(a.viewer.all_friends.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))})}var m={onEntriesLoaded:function(a){if(h!==null&&i!==null){a(h,i,!1);return}k===null&&(k=m.fetchEntriesFromServer());b("promiseDone")(k,function(){a(h,i,!0),l()},function(a){throw a})},fetchEntriesFromServer:function(){var a=b("MessengerConfig").BootstrapTypeaheadFromBuddylist;a=b("TopMessengerFriendsAndGroupsWebGraphQLQuery").getLegacyURI({use_buddylist:a,first:100});a=new(b("AsyncRequest"))(a).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){return m.handlePayload(a)});return a},handlePayload:function(a){__p&&__p();var c=b("MessengerConfig").BootstrapTypeaheadFromBuddylist,d=(c?a.viewer.chat_buddylist:a.viewer.all_friends.edges).map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(c?a.represented_profile:a.node)}).filter(function(a){if(a===null)return!1;a=a.getAuxiliaryData();a=a&&a.isMemorializedUser;return!a}),e=a.viewer.message_threads.edges.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a.node,c)}).filter(function(a){return a!==null});g.addLocalEntries(d);g.addLocalEntries(e);h=d;i=e;a.viewer.all_friends&&a.viewer.all_friends.page_info&&a.viewer.all_friends.page_info.has_next_page&&(j=a.viewer.all_friends.page_info.end_cursor)},search:function(a,b){m.onEntriesLoaded(function(){g.search(a,function(c){b(c,a)})})},isBootstrapped:function(){return h!==null&&i!==null}};e.exports=m}),null);
__d("MessengerSearchActions",["MessengerDispatcher","MessengerURISerializer","MessengerView","URI","goURI","keyMirror","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("keyMirror")({ENTER_UNIVERSAL_SEARCH:null,ENTER_MESSAGE_SEARCH:null,ENTER_SEE_ALL_SEARCH:null,EXIT_MESSAGE_SEARCH:null,EXIT_SEE_ALL_SEARCH:null,LOAD_MORE_RESULTS:null}),i=b("qex")._("1097094")?b("MessengerView").MASTER.SEARCH_MESSAGES:b("MessengerView").MASTER.SEARCH,j={Types:h,changeQuery:function(a){l(function(b){return b.query!==a?{query:a}:null})},changeQuerySeeAll:function(a,c){l(function(d){if(d.queryAll!==a)switch(c){case"message":return{query:a,masterView:i};case"friend":case"non_friend":return{query:a,masterView:b("MessengerView").MASTER.SEE_ALL_PEOPLE,seeAllType:c};case"page":return{query:a,masterView:b("MessengerView").MASTER.SEE_ALL_PAGES,seeAllType:c};case"thread":return{query:a,masterView:b("MessengerView").MASTER.SEE_ALL_GROUPS,seeAllType:c}}return null})},changeQueryAll:function(a){l(function(b){return b.queryAll!==a?{query:a,masterView:i}:null})},searchForMessagesInAThread:function(a,b){var c={query:b,serverThreadID:a,activeThreadID:a,masterView:i};l(function(a){return c})},loadMoreResults:function(){b("MessengerDispatcher").dispatch({type:h.LOAD_MORE_RESULTS})},enterUniversalSearch:function(){b("MessengerDispatcher").dispatch({type:j.Types.ENTER_UNIVERSAL_SEARCH}),l(function(a){return{masterView:b("MessengerView").MASTER.SEARCH}})},enterMessageSearch:function(){b("MessengerDispatcher").dispatch({type:j.Types.ENTER_MESSAGE_SEARCH})},enterSeeAllSearch:function(){b("MessengerDispatcher").dispatch({type:j.Types.ENTER_SEE_ALL_SEARCH})},exitMessageSearch:function(){j.changeQueryAll(""),b("MessengerDispatcher").dispatch({type:j.Types.EXIT_MESSAGE_SEARCH})},exitSeeAllSearch:function(){j.changeQuerySeeAll(null,null),b("MessengerDispatcher").dispatch({type:j.Types.EXIT_SEE_ALL_SEARCH})}};function k(a,b){return a.detailView==null}function l(a){var c=b("MessengerURISerializer").deserialize(new(g||(g=b("URI")))(window.location.href));a=a(c);var d=k(c,a);a&&b("goURI")(b("MessengerURISerializer").serialize(Object.assign(c,a)),!1,d)}e.exports=j}),null);
__d("MessengerTypeaheadResultView.react",["cx","Bootloader","Keys","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadHighlighter","MessengerSecondarySearchFunnelConstants","MessengerTypeaheadUtils","React","SearchableEntry","immutable","joinClasses","qex","wrapNullableForReact"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=50;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.onKeyDown=function(a,c){if(a===b("Keys").RETURN){d.props.onSelectHighlighted(c);return}if(!d.$1)return;c=b("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(a,d.$1,d.props.queryString,d.props.highlightedEntry);d.props.onNextHighlighted(c)},d.$3=function(a){d.props.onNextHighlighted(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=this.$2(this.props)};d.componentDidMount=function(){var a=this;this.props.onMount(this.onKeyDown,function(){return a.$1})};d.UNSAFE_componentWillUpdate=function(a){this.$1=this.$2(a)};d.componentWillUnmount=function(){this.props.onUnmount()};d.render=function(){var a=this.$1;if(!a)return null;var c=["search","friend","fb4c","message","thread","page","non_friend","meeting_room_page","internal_bot_page","game"];a=b("MessengerTypeaheadUtils").buildListSections(a,this.props.queryString,c);c=!1;this.props.isTokenizer!==null&&(c=b("qex")._("1063079")&&!this.props.isTokenizer&&this.props.queryString.length>1);return b("React").jsx(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,"_4p-s"),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!1,listSections:a,onHighlight:this.$3,onScrollIntoView:this.props.onScrollIntoView,onSeeAllSelect:this.props.onSeeAllSelect,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:!1,showSeeAll:(a=c)!=null?a:!1,viewer:this.props.viewer,rowComponent:this.props.rowComponent})};d.$2=function(a){var c=a.localEntries,d={};c.forEach(function(a){d[a.getUniqueID()]=!0});var e=b("MessengerTypeaheadUtils").sortEntries(this.$4(a,d),a.queryString),f=null;f=c.concat(e).filter(function(b){return!a.selectedEntryIDs.contains(b.getUniqueID())}).slice(0,h);this.$5(a.queryString,f,a.localEntryIDs);return f};d.$4=function(a,b){var c=a.customResultFilterFn||function(){return!0};return a.serverResults.filter(function(a){return a&&!b[a.getUniqueID()]&&c(a)})};d.$5=function(a,c,d){__p&&__p();this.props.isTokenizer?b("Bootloader").loadModules(["MessengerBootloadedSecondarySearchLogger","MessengerSearchLoggerUtil"],function(d,e){var f=c.map(function(a){return{result_fbid:a.getUniqueID(),result_type:e.getLoggingTypeFromMercuryType(a.getType())}});d.logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.IMPRESSIONS,query:a,entries:f,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER})},"MessengerTypeaheadResultView.react"):b("Bootloader").loadModules(["MessengerSearchLoggerUtil","MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(e,f,g){var h=b("immutable").OrderedMap();c.forEach(function(a){var b=a.getUniqueID(),c=b.split(":").pop();a={result_fbid:c,result_type:e.getLoggingTypeFromMercuryType(a.getType()),rank_section:g.SOURCES.LOCAL_AND_SERVER,data_source:[d.includes(c)?g.SOURCES.LOCAL:g.SOURCES.LOCAL_AND_SERVER]};h=h.set(b,a)});f.logImpressions(h,a,g.RESULT_SURFACES.TYPEAHEAD,g.SOURCES.LOCAL_AND_SERVER)},"MessengerTypeaheadResultView.react")};return c}(b("React").Component);c.propTypes={controlleeID:a.string.isRequired,canViewerSendMoneyFilter:a.bool,className:a.string.isRequired,localEntries:a.arrayOf(a.instanceOf(b("SearchableEntry"))).isRequired,localEntryIDs:a.arrayOf(a.string.isRequired).isRequired,hasHoverState:a.bool.isRequired,highlightedEntry:a.object,onMount:a.func.isRequired,onNextHighlighted:a.func.isRequired,onScrollIntoView:a.func.isRequired,onSeeAllSelect:a.func,onSelect:a.func.isRequired,onSelectHighlighted:a.func.isRequired,onUnmount:a.func.isRequired,originalEntryIDs:a.instanceOf(b("immutable").Set).isRequired,queryString:a.string.isRequired,selectedEntryIDs:a.instanceOf(b("immutable").Set).isRequired,serverResults:a.arrayOf(a.instanceOf(b("SearchableEntry"))).isRequired,shouldQueryInternalBot:a.bool.isRequired,shouldQueryPages:a.bool.isRequired,shouldQueryVCEndpoint:a.bool.isRequired,viewer:a.string.isRequired,forGroup:a.bool,rowComponent:a.func,customResultFilterFn:a.func};c.defaultProps={controlleeID:"",className:"",customResultFilterFn:function(){return!0}};e.exports=c}),null);
__d("MessengerTypeaheadTopFriendsView.react",["cx","Keys","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadHighlighter","MessengerTypeaheadUtils","React","immutable","joinClasses","wrapNullableForReact"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onKeyDown=function(a,c){if(a===b("Keys").RETURN){d.props.onSelectHighlighted(c);return}c=b("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(a,d.props.entries.toArray(),d.props.queryString,d.props.highlightedEntry);d.props.onNextHighlighted(c)},d.$1=function(a){d.props.onNextHighlighted(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.hasHoverState&&(this.props.entries.size>0&&this.props.onNextHighlighted(this.props.entries.first()))};d.componentDidMount=function(){var a=this;this.props.onMount(this.onKeyDown,function(){return a.props.entries.toArray()})};d.componentWillUnmount=function(){this.props.onUnmount()};d.render=function(){return b("React").jsx(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,"_4p-s"),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!!this.props.queryString,listSections:b("MessengerTypeaheadUtils").buildListSections(this.props.entries.toArray(),this.props.queryString),onHighlight:this.$1,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:!1,viewer:this.props.viewer,rowComponent:this.props.rowComponent})};return c}(b("React").Component);c.propTypes={controlleeID:a.string.isRequired,className:a.string.isRequired,entries:a.instanceOf(b("immutable").List).isRequired,hasHoverState:a.bool.isRequired,highlightedEntry:a.object,onNextHighlighted:a.func.isRequired,onMount:a.func.isRequired,onScrollIntoView:a.func.isRequired,onSelect:a.func.isRequired,onSelectHighlighted:a.func.isRequired,onUnmount:a.func.isRequired,originalEntryIDs:a.instanceOf(b("immutable").Set).isRequired,queryString:a.string.isRequired,selectedEntryIDs:a.instanceOf(b("immutable").Set).isRequired,viewer:a.string.isRequired,rowComponent:a.func};c.defaultProps={controlleeID:"",className:""};e.exports=c}),null);
__d("MessengerGraphQLTypeaheadView.react",["cx","fbt","Bootloader","CurrentUser","ImageBlock.react","MercuryConfig","MessengerBootloadedSecondarySearchLogger","MessengerNewGroupParticipantSuggestionLocalCacheManager","MessengerPaymentFriendsLocalCache","MessengerRoomWithAssocObjectAudienceLocalCacheManager","MessengerSearchWebGraphQLFetcher","MessengerSecondarySearchFunnelConstants","MessengerSpinner.react","MessengerTypeaheadLocalCache","MessengerTypeaheadResultView.react","MessengerTypeaheadTopFriendsView.react","MessengerTypeaheadUtils","MessengerUniversalSearchFunnelLoggerConstants","React","createCancelableFunction","debounce","immutable","gkx","qex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.OMNIPICKER,j=b("MessengerUniversalSearchFunnelLoggerConstants").TYPE,k=8,l=10;c=100;d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={localEntries:b("immutable").List(),queryCompleteStatus:{usersGroups:!1,pages:!1},serverResults:[],highlightedEntry:null},d.$1=null,d.$2=null,d.$3=null,d.$4=null,d.$5=!0,d.$6=b("MessengerRoomWithAssocObjectAudienceLocalCacheManager").get(),d.$7=b("MessengerNewGroupParticipantSuggestionLocalCacheManager").get(),d.$8=!1,d.$9=null,d.$10=0,d.$13=function(a,c,e,f,g,h){__p&&__p();if(d.props.queryString.length<2)return;d.$5&&d.setState({serverResults:[]});c=d.state.localEntries.toArray().filter(function(a){return a.getType()!=="search"}).map(function(a){return a.getUniqueID()});var i=[];e||i.push("groups");f||i.push("pages");d.props.enableMessageSearch&&i.push("messages");g===null?i.push("users"):i.push("rooms");e={userLimit:l,messageLimit:3,groupLimit:b("MercuryConfig").MaxThreadResults,pageLimit:5,getQueryString:d.$12,canViewerSendMoneyFilter:h,localEntryIDs:c,threadFBID:g,shouldQueryInternalBot:d.props.shouldQueryInternalBot,shouldQueryVCEndpoint:d.props.shouldQueryVCEndpoint};f=b("qex")._("971247");h=b("CurrentUser").isWorkUser()&&b("gkx")("991794");f&&d.$9!==null?d.$9.fetchMSQEntries(a,d.props.isTokenizer?0:e.messageLimit,d.$29,d.$30):h&&d.$9!=null?d.$9.fetchWorkChatSingleQueryEntries(a,e,d.$29,d.$30):d.$9!==null&&d.$9.fetchEntries(a,i,e,d.$29,d.$30)},d.$29=function(a,b){if(d.$5){d.setState(function(c){return{serverResults:c.serverResults.concat(a),queryCompleteStatus:b==="singleServerQuery"?Object.assign({},c.queryCompleteStatus,{usersGroups:!0},{pages:!0}):Object.assign({},c.queryCompleteStatus,(c={},c[b]=!0,c))}});return}},d.$30=function(a,b){d.setState(function(a){return{queryCompleteStatus:Object.assign({},a.queryCompleteStatus,(a={},a[b]=!0,a))}})},d.$12=function(){return d.props.queryString},d.$20=function(a,b){d.$3=a,d.$4=b,d.$14()},d.$23=function(){d.$3=null,d.$4=null},d.$21=function(a){d.setState({highlightedEntry:a})},d.$22=function(a){d.state.highlightedEntry&&d.props.onSelect(d.state.highlightedEntry,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$10=k;this.$11();var c=this.props.isTokenizer?i:j;this.$9=new(b("MessengerSearchWebGraphQLFetcher"))(function(){return a.$12()},c);this.$2=b("debounce")(this.$13,150,this,!0)};d.componentDidUpdate=function(a){this.props!==a&&(this.props.queryString!==a.queryString&&this.$14())};d.$14=function(){this.setState({highlightedEntry:null})};d.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c=this;if(!a.queryString)this.setState({highlightedEntry:null}),this.$11();else if(a.queryString!==this.props.queryString){this.$8=!0;this.setState({queryCompleteStatus:{userGroupQueryFinished:!1,pagesQueryFinished:!1},serverResults:[]});var d=a.roomAssociatedObject&&a.roomAssociatedObject.privacy_mode;this.$2&&this.$2(a.queryString,b("MercuryConfig").MaxThreadResults,a.excludeGroups,a.excludePages,d===0?a.threadFBID:null,a.canViewerSendMoneyFilter);if(d===0){this.$15(a);return}if(this.props.canViewerSendMoneyFilter){this.$16(a);return}if(this.props.includeExistingParticipantIDs){this.$17(a);return}b("MessengerTypeaheadLocalCache").search(a.queryString,function(d,e){__p&&__p();if(c.$5&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);var f=c.props.enableMessageSearch?b("MessengerTypeaheadUtils").getMessageSearchEntry(e):null;f&&d.unshift(f);f=b("immutable").List(d).filter(function(a){if(c.props.excludeGroups&&a.getType()==="thread")return!1;return c.props.excludePages&&a.getType()==="page"?!1:!0});c.$18(f,e);c.$19(f,e);c.setState({localEntries:f})}})}};d.shouldComponentUpdate=function(a,b){return a.queryString!==this.props.queryString||a.isFocused!==this.props.isFocused||a.excludeGroups!==this.props.excludeGroups||a.excludePages!==this.props.excludePages||b.localEntries!==this.state.localEntries||b.queryCompleteStatus!==this.state.queryCompleteStatus||b.highlightedEntry!==this.state.highlightedEntry};d.componentWillUnmount=function(){this.$1&&this.$1.cancel(),this.$2&&this.$2.reset(),this.$5=!1};d.render=function(){if(!this.props.isFocused&&!this.props.queryString||!b("MessengerTypeaheadLocalCache").isBootstrapped()&&!this.$6.isBootstrapped(this.props.threadFBID)&&!b("MessengerPaymentFriendsLocalCache").isBootstrapped()&&!this.$7.isBootstrapped(this.props.threadFBID,this.props.originalEntryIDs))if(b("gkx")("678607"))return b("React").jsxs(b("ImageBlock.react"),{className:"_225c",spacing:"medium",children:[b("React").jsx(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").jsx("div",{className:"_4g0h",children:h._("Buscando...")})]});else return null;if(!this.props.queryString)return b("React").jsx(b("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.state.localEntries,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onMount:this.$20,onNextHighlighted:this.$21,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$22,onUnmount:this.$23,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer,rowComponent:this.props.rowComponent});var a=this.state.queryCompleteStatus.usersGroups&&(this.props.excludePages||this.state.queryCompleteStatus.pages),c=!b("gkx")("1053071")&&this.props.queryString.length<2;return b("React").jsxs("div",{children:[this.state.queryCompleteStatus.usersGroups||c?this.$24():this.$25(),this.state.queryCompleteStatus.usersGroups&&!a?this.$26():null]})};d.$25=function(){var a=this.state.localEntries.slice(0,this.$10);return b("React").jsx(b("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.$27(a,this.props.queryString),hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onNextHighlighted:this.$21,onMount:this.$20,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$22,onUnmount:this.$23,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer,rowComponent:this.props.rowComponent})};d.$26=function(){return b("React").jsxs(b("ImageBlock.react"),{className:"_225c",spacing:"medium",children:[b("React").jsx(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").jsx("div",{className:"_4g0h",children:h._("Buscando...")})]})};d.$24=function(a){var c=this.$28(),d=this.state.localEntries.slice(0,this.$10);return b("React").jsx(b("MessengerTypeaheadResultView.react"),babelHelpers["extends"]({},a,{className:this.props.typeaheadViewClassName,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,isTokenizer:this.props.isTokenizer,localEntries:d.toArray(),onMount:this.$20,onNextHighlighted:this.$21,onScrollIntoView:this.props.onScrollIntoView,onSeeAllSelect:this.props.onSeeAllSelect,onSelect:this.props.onSelect,onSelectHighlighted:this.$22,onUnmount:this.$23,originalEntryIDs:this.props.originalEntryIDs,selectedEntryIDs:this.props.selectedEntryIDs,serverResults:this.state.serverResults,viewer:this.props.viewer,rowComponent:this.props.rowComponent},c))};d.$27=function(a,b){var c=this;b=a.filter(function(a){return!c.props.selectedEntryIDs.contains(a.getUniqueID())});return b};d.onKeyDown=function(a,b){this.$3&&this.$3(a,b)};d.$15=function(a){var c=this;this.$6.search(a.threadFBID,a.queryString,function(d,e){if(c.$5&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);c.setState({localEntries:b("immutable").List(d)})}})};d.$31=function(){var a=this;this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c){c=c.slice(0,30);a.setState({localEntries:b("immutable").List(c)})});this.$6.onEntriesLoaded(this.props.threadFBID,function(b){a.$1&&a.$1(b),a.$1=null})};d.$17=function(a){var c=this;this.$7.search(a.threadFBID,a.originalEntryIDs,a.queryString,function(d,e){if(c.$5&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);c.setState({localEntries:b("immutable").List(d)})}})};d.$32=function(){var a=this;this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c){a.setState({localEntries:b("immutable").List(c.slice(0,50))})});this.$7.onEntriesLoaded(this.props.threadFBID,this.props.originalEntryIDs,function(b){a.$1&&a.$1(b),a.$1=null})};d.$16=function(a){var c=this;b("MessengerPaymentFriendsLocalCache").search(a.queryString,function(d,e){if(c.$5&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);c.setState({localEntries:b("immutable").List(d)})}})};d.$33=function(){var a=this;this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c){a.setState({localEntries:b("immutable").List(c)})});b("MessengerPaymentFriendsLocalCache").onEntriesLoaded(function(b){a.$1&&a.$1(b),a.$1=null})};d.$11=function(){__p&&__p();var a=this,c=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;if(c===0){this.$31();return}if(this.props.canViewerSendMoneyFilter){this.$33();return}if(this.props.includeExistingParticipantIDs){this.$32();return}this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c,d,e){c=c.slice(0,50);a.props.excludeGroups||(c=c.concat(d));if(!e||!a.props.queryString){d=a.props.enableMessageSearch?b("MessengerTypeaheadUtils").getMessageSearchEntry(a.props.queryString):null;d&&c.unshift(d);a.props.queryString===""&&a.$34(c);a.setState({localEntries:b("immutable").List(c)})}});b("MessengerTypeaheadLocalCache").onEntriesLoaded(function(b,c,d){a.$1&&a.$1(b,c,d),a.$1=null})};d.$28=function(){var a=this.props.canViewerSendMoneyFilter,c=this.state.localEntries.toArray();c=c.filter(function(a){return a.getType()!=="search"}).map(function(a){return a.getUniqueID()});var d=b("MercuryConfig").MaxThreadResults,e=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;e=e===0;var f=!this.props.excludeGroups&&this.props.queryString&&this.props.queryString.length>1&&!e,g=!this.props.excludeGroups&&c.length>0&&!e,h=!this.props.excludeGroups&&(!g||b("CurrentUser").isEmployee())&&!e,i=!1,j=!this.props.excludePages&&!e,k=this.props.shouldQueryVCEndpoint&&(b("CurrentUser").isEmployee()||b("CurrentUser").isWorkUser())&&!e,l=this.props.shouldQueryInternalBot&&b("CurrentUser").isEmployee()&&b("CurrentUser").isWorkUser()&&!e,m=e,n=this.props.threadFBID;return{queryString:this.props.queryString,canViewerSendMoneyFilter:a,localEntryIDs:c,maxThreadResults:d,shouldQueryGroups:i,shouldQueryPages:j,shouldQueryThreadName:f,shouldQueryParticipantIDs:g,shouldQueryParticipantNames:h,shouldQueryVCEndpoint:k,shouldQueryInternalBot:l,shouldQueryRoomsAudience:e,shouldSkipQueryUsers:m,threadFBID:n,customResultFilterFn:this.props.customResultFilterFn,forGroup:this.props.forGroup}};d.$19=function(a,c){__p&&__p();var d=this;this.props.isTokenizer?b("Bootloader").loadModules(["MessengerSearchLoggerUtil"],function(e){if(d.props.queryString===c){var f=a.map(function(a){return{result_fbid:a.getUniqueID(),result_type:e.getLoggingTypeFromMercuryType(a.getType())}});b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.IMPRESSIONS,query:"",loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER,entries:f})}},"MessengerGraphQLTypeaheadView.react"):b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerSearchLoggerUtil"],function(e,f){if(d.props.queryString===c){var g=b("immutable").OrderedMap();a.forEach(function(a){var c=a.getUniqueID();a={result_fbid:c,result_type:f.getLoggingTypeFromMercuryType(a.getType()),rank_section:b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL,data_source:[b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL]};g=g.set(c,a)});e.logImpressions(g,c)}},"MessengerGraphQLTypeaheadView.react")};d.$34=function(a){b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(b){b.logNullStateImpressions(a,a.length)},"MessengerGraphQLTypeaheadView.react")};d.$18=function(a,c){__p&&__p();var d=this;if(this.props.isTokenizer){var e;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:(e=b("MessengerSecondarySearchFunnelConstants")).EVENTS.SOURCE_ENDED,query:c,ids:a.map(function(a){return a.getUniqueID()}),source:e.SOURCES.LOCAL_CONTACTS,numResults:a.size,status:e.SOURCE_STATUSES.FINISHED,loggingID:e.LOGGING_IDS.M_APP_COMPOSER})}else b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerSearchLoggerUtil"],function(e,f){var g=a;if(d.props.queryString===c){var h=b("immutable").OrderedMap();g.forEach(function(a){var c=a.getUniqueID();a={result_fbid:c,result_type:f.getLoggingTypeFromMercuryType(a.getType()),rank_section:b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL,data_source:[b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL]};h=h.set(c,a)});e.logImpressions(h,c)}},"MessengerGraphQLTypeaheadView.react")};return c}(b("React").Component);d.propTypes={includeExistingParticipantIDs:a.bool,canViewerSendMoneyFilter:a.bool,enableMessageSearch:a.bool.isRequired,excludeGroups:a.bool.isRequired,excludePages:a.bool.isRequired,forGroup:a.bool,isFocused:a.bool.isRequired,hasHoverState:a.bool.isRequired,maxEntries:a.number.isRequired,onScrollIntoView:a.func.isRequired,onSeeAllSelect:a.func,onSelect:a.func.isRequired,originalEntryIDs:a.instanceOf(b("immutable").Set).isRequired,queryString:a.string.isRequired,roomAssociatedObject:a.object,selectedEntryIDs:a.instanceOf(b("immutable").Set).isRequired,shouldQueryInternalBot:a.bool.isRequired,shouldQueryVCEndpoint:a.bool.isRequired,threadFBID:a.string,typeaheadViewClassName:a.string.isRequired,viewer:a.string.isRequired,rowComponent:a.func,customResultFilterFn:a.func};d.defaultProps={maxEntries:c,typeaheadViewClassName:""};e.exports=d}),null);
__d("MessengerScrollableArea.react",["cx","React","ReactDOM","ScrollableArea.react","Style","UserAgent","clearImmediate","gkx","joinClasses","setImmediate","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=20;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$1=!1;d.$2=null;d.$4=function(){if(d.$1){var a;d.props.onScroll&&(a=d.props).onScroll.apply(a,arguments)}};d.$5=function(){__p&&__p();if(!b("UserAgent").isBrowser("IE"))return;if(!d.refs||!d.refs.scrollable)return;var a=d.refs.scrollable.refs.wrap,c=d.refs.scrollable.refs.body;if(!c||!a)return;c=b("ReactDOM").findDOMNode(c);a=b("ReactDOM").findDOMNode(a);a=a.offsetWidth-a.clientWidth;a>0&&b("Style").set(c,"margin-right",-a+"px")};d.$3=b("throttle")(d.$4,50);return d}var d=c.prototype;d.componentDidMount=function(){this.$2=b("setImmediate")(this.$5),this.$1=!0};d.componentWillUnmount=function(){b("clearImmediate")(this.$2),this.$1=!1};d.render=function(){var a=this.props.needsFastScrollHandler?this.$4:this.$3;return b("React").jsx(b("ScrollableArea.react"),{className:b("joinClasses")("_5f0v",this.props.className),height:this.props.height,fade:b("gkx")("708253")?!1:void 0,onScroll:a,persistent:!0,ref:"scrollable",shadow:!1,tabIndex:this.props.tabIndex,width:this.props.width,children:this.props.children})};d.getArea=function(){return this.refs.scrollable.getArea()};d.scrollToBottom=function(a){var b=this.getArea();b&&this.scrollToPosition(b.getScrollHeight(),!!a)};d.scrollToTop=function(a){var b=this.getArea();b&&b.scrollToTop(!!a)};d.scrollToPosition=function(a,b,c){b===void 0&&(b=!1);c===void 0&&(c={});var d=this.getArea();if(!d)return;d.setScrollTop(a,b,c)};d.isScrolledToBottom=function(){return this.isScrolledToBottomWithHeight(0)};d.isScrolledToBottomWithHeight=function(a){var b=this.getArea();return!b?!1:b.getScrollTop()+b.getClientHeight()+a>=b.getScrollHeight()-h};d.isScrolledToTop=function(){var a=this.getArea();return!a?!0:a.getScrollTop()<=h};d.getScrollTop=function(){var a=this.getArea();return!a?0:a.getScrollTop()};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerGraphQLSearchTypeahead.react",["ix","fbt","cx","Bootloader","BootloadOnRender.react","ContextualLayer.react","CurrentUser","Event","Image.react","JSResource","Keys","LazyComponent.react","MercuryIDs","MessengerContentSearchFunnelLoggerConstants","MessengerSearchActions","MessengerUniversalSearchFunnelLoggerConstants","gkx","immutable","MercuryThreadIDMap","MercuryVanityIDMap.bs","MessengerDotComAndInboxM4Check.bs","MessengerGraphQLTypeaheadView.react","MessengerScrollableArea.react","MessengerSpinner.react","MessengerState.bs","MessengerTypeaheadUtils","MNPlatformTagsDataManager","React","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","asset","clearImmediate","emptyFunction","joinClasses","qex","setImmediate"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadIDMap").get();a=b("React").PropTypes;var k=30,l=100;c=b("React").createClass({displayName:"MessengerGraphQLSearchTypeahead",mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],_input:null,_timer:null,_view:null,propTypes:{includeExistingParticipantIDs:a.bool,canViewerSendMoneyFilter:a.bool,className:a.string.isRequired,context:a.object,enableMessageSearch:a.bool.isRequired,excludeGroups:a.bool.isRequired,excludePages:a.bool.isRequired,customResultFilterFn:a.func,forGroup:a.bool,hasHoverState:a.bool.isRequired,hideClearButton:a.bool.isRequired,isMessageSearchMode:a.bool,isFacebookChat:a.bool.isRequired,isFocused:a.bool.isRequired,isTokenizer:a.bool.isRequired,onBackspace:a.func.isRequired,onBlur:a.func.isRequired,onChange:a.func.isRequired,onClear:a.func.isRequired,onClick:a.func.isRequired,onFocus:a.func.isRequired,onScrollIntoView:a.func.isRequired,onSelect:a.func.isRequired,originalEntryIDs:a.instanceOf(b("immutable").Set).isRequired,placeholder:a.string.isRequired,queryString:a.string,roomAssociatedObject:a.object,scrollableViewClassName:a.string.isRequired,selectedEntryIDs:a.instanceOf(b("immutable").Set).isRequired,shouldQueryInternalBot:a.bool.isRequired,shouldQueryVCEndpoint:a.bool.isRequired,tabIndex:a.number,threadFBID:a.string,typeaheadViewClassName:a.string.isRequired,useLayer:a.bool.isRequired,viewer:a.string.isRequired,width:a.number,rowComponent:a.func,searchInputPortalRef:a.instanceOf(HTMLDivElement)},getInitialState:function(){return{gameID:null}},getDefaultProps:function(){var a;return{includeExistingParticipantIDs:!1,canViewerSendMoneyFilter:!1,isFacebookChat:!1,isTokenizer:!1,onBackspace:a=b("emptyFunction"),onChange:a,onClear:a,onClick:a,onScrollIntoView:a,originalEntryIDs:b("immutable").Set(),placeholder:"",scrollableViewClassName:"",selectedEntryIDs:b("immutable").Set(),typeaheadViewClassName:"",useLayer:!1}},componentDidMount:function(){this._timer=b("setImmediate")(this._syncInputWidth)},componentDidUpdate:function(){b("clearImmediate")(this._timer),this._timer=b("setImmediate")(this._syncInputWidth)},componentWillUnmount:function(){b("clearImmediate")(this._timer)},renderLayers:function(){var a=this;if(!this.props.useLayer)return{};var c=null,d=null;this.props.context?c=this.props.context:d=function(){return a._input};return{typeaheadView:b("React").jsx(b("ContextualLayer.react"),{context:c,contextRef:d,position:"below",shown:(this.props.queryString||b("gkx")("678607"))&&this.props.isFocused,shouldSetARIAProperties:!1,children:this._renderView()})}},render:function(){var a=this.props.useLayer?null:this._renderView();return b("React").jsxs("div",{className:(this.props.isTokenizer?"":"_1nq2")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7vup":"")+(this.props.isTokenizer?" _3mkz":""),children:[b("React").jsxs("span",{className:b("joinClasses")(this.props.className,"_58ah"+(this.props.isMessageSearchMode?" _1a03":"")),onChange:this.props.onChange,onSelect:b("emptyFunction"),tabIndex:null,children:[this._renderInput(),a]}),b("React").jsx(b("Image.react"),{onMouseDown:this._onClear,className:(this.props.hideClearButton?"hidden_elem":"")+" _2xme",src:g("489953")}),b("React").jsx("span",{ref:"textSizeProxy",className:"_58-3","aria-hidden":"true",children:this.props.queryString||this.props.placeholder}),this._renderGame()]})},focusInput:function(){this._input&&this._input.focus()},_onClear:function(){this.props.isMessageSearchMode&&this._logClearContentSearch(),this.props.onClear()},_syncInputWidth:function(){if(!this.props.isTokenizer)return;var a=b("ReactDOM").findDOMNode(this.refs.textSizeProxy);a=a?a.offsetWidth:0;if(a===0)return;this._input&&(this._input.style.width=a+"px")},_renderInput:function(){var a=this,c=b("CurrentUser").isWorkUser()&&this.props.searchInputPortalRef!=null?this.props.searchInputPortalRef:null,d=b("React").jsx("label",{className:"_58ak",children:b("React").jsx("input",{autoComplete:"off",className:"_58al _7tpc",onBlur:this._handleBlur,onClick:this.props.onClick,onChange:function(){},onFocus:function(b){return a.props.onFocus()},onKeyDown:function(b){return a._handleKeyDown(b)},placeholder:this.props.placeholder,ref:function(b){return a._input=b},spellCheck:!1,tabIndex:this.props.tabIndex,type:"text",value:this.props.queryString,"aria-label":b("CurrentUser").isWorkUser()?h._("Buscar en Work Chat"):h._("Buscar en Messenger")})});if(c!=null)return b("ReactDOM").createPortal(d,c);else return d},_renderGame:function(){return!this.state.gameID?null:b("React").jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerGamesQuicksilverPlayerContainer.react").__setRef("MessengerGraphQLSearchTypeahead.react"),placeholder:b("React").jsx(b("MessengerSpinner.react"),{}),component:b("React").jsx(b("LazyComponent.react"),{initialContextType:"SOLO",initialContextSourceID:null,initialGameID:this.state.gameID,onHide:this._handleHideGame,initialSource:"messenger_search",sourceID:null})})},_renderView:function(){__p&&__p();var a=this;if(!this.props.isFocused)return null;if(!this.props.queryString){var c=b("gkx")("678607")?!1:this.props.isTokenizer&&!this.props.forGroup;if(c)return null}c=this.props.isTokenizer?k:l;c=b("React").jsx(b("MessengerGraphQLTypeaheadView.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,customResultFilterFn:this.props.customResultFilterFn,forGroup:this.props.forGroup,isFocused:this.props.isFocused,isTokenizer:this.props.isTokenizer,hasHoverState:this.props.hasHoverState,maxEntries:c,onScrollIntoView:this._handleScrollIntoView,onSeeAllSelect:this._handleSeeAllSelect,onSelect:this._handleSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,ref:function(b){return a._view=b},roomAssociatedObject:this.props.roomAssociatedObject,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,selectedEntryIDs:this.props.selectedEntryIDs,threadFBID:this.props.threadFBID,typeaheadViewClassName:this.props.typeaheadViewClassName,viewer:this.props.viewer,rowComponent:this.props.rowComponent});if(this.props.isTokenizer)return b("React").jsx(b("MessengerScrollableArea.react"),{className:this.props.scrollableViewClassName,ref:"scrollable",width:this.props.width,children:c});else return c},_handleScrollIntoView:function(a){if(!a)return;if(!this.props.isTokenizer){this.props.onScrollIntoView(a);return}this.refs.scrollable&&b("MessengerTypeaheadUtils").scrollEntryIntoView(a,this.refs.scrollable)},_getThreadID:function(a,c){b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),b("MercuryIDs").getThreadIDFromUserID(a),function(a){return c(a.thread_id)})},_handleSeeAllSelect:function(a,c){c&&c.preventDefault();if(b("qex")._("1097094")){c=this.props.queryString;a==="message"?(this._endSearchFunnelStartContentSearchFunnel(c,"search",!0),b("MessengerSearchActions").changeQueryAll(c),b("MessengerSearchActions").enterMessageSearch()):(b("MessengerSearchActions").changeQuerySeeAll(c,a),b("MessengerSearchActions").enterSeeAllSearch())}},_handleSelect:function(a,c){__p&&__p();c&&c.preventDefault();c=this.props.queryString;var d=a.getType(),e=a.getUniqueID().split(":").pop(),f=a.getAuxiliaryData().alias;if(f){var g=b("MercuryIDs").getParticipantIDFromUserID(e);b("MercuryVanityIDMap.bs").set(f,g)}switch(d){case"game":this.setState({gameID:e});return;case"search":b("qex")._("1097094")&&b("MessengerSearchActions").enterMessageSearch();this._endSearchFunnelStartContentSearchFunnel(c,d);b("MessengerSearchActions").changeQueryAll(c);return;case"message":this._updateToThread(e,a);this._endSearchFunnelStartContentSearchFunnel(c,d);break;default:this._updateToThread(e,a)}b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread("source:messenger:web_search",e)},_updateToThread:function(a,b){var c=this,d=function(a){return c.props.onSelect(a,b.getType(),b)};b.getType()==="thread"||b.getAuxiliaryData().messageResultType==="groupConversation"?j.getClientIDFromServerID(a,d):this._getThreadID(a,d)},_handleHideGame:function(){this.setState({gameID:null})},_handleKeyDown:function(a){var c=a.keyCode;c===b("Keys").DOWN||c===b("Keys").UP||c===b("Keys").RETURN?this.props.isMessageSearchMode&&c===b("Keys").RETURN?b("MessengerSearchActions").changeQueryAll(this.props.queryString):this._view&&this._view.onKeyDown&&this._view.onKeyDown(c,a):c===b("Keys").BACKSPACE?this.props.onBackspace(a):c===b("Keys").ESC&&(this._input&&this._input.blur())},_handleBlur:function(){var a=this,c=null,d=b("Event").listen(window,"blur",function(){d.remove(),b("clearImmediate")(c)});c=b("setImmediate")(function(){d.remove(),a.props.onBlur()})},_logClearContentSearch:function(){b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger"],function(a){return a&&a.endFunnel(b("MessengerContentSearchFunnelLoggerConstants").FUNNEL_LOGGER_TAGS.END_WITH_X_BUTTON)},"MessengerGraphQLSearchTypeahead.react")},_endSearchFunnelStartContentSearchFunnel:function(a,c,d){var e=this;d===void 0&&(d=!1);!d&&c!=="search"?(b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){a.logResultSelected(e.state.query,e.props.threadFBID||"",c,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST)},"MessengerGraphQLSearchTypeahead.react"),b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){return a.endFunnel((a=b("MessengerUniversalSearchFunnelLoggerConstants")).END_REASONS.END_ACTION,a.END_ACTIONS.ENTER_INTEGRATED_MESSAGE_SEARCH,null,a.ENTRY_SURFACES.INBOX,a.RESULT_PAGES.FIRST)},"MessengerGraphQLSearchTypeahead.react")):(!d&&c==="search"||d&&c==="message")&&(b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){a.logResultSelected(e.state.query,e.props.threadFBID||"","message",b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.SEE_ALL)},"MessengerGraphQLSearchTypeahead.react"),b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){return a.endFunnel((a=b("MessengerUniversalSearchFunnelLoggerConstants")).END_REASONS.END_ACTION,a.END_ACTIONS.MESSAGE_SEARCH,null,a.ENTRY_SURFACES.INBOX,a.RESULT_PAGES.SEE_ALL)},"MessengerGraphQLSearchTypeahead.react"));b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger"],function(d){return d.startFunnel(a,c==="search"?b("MessengerContentSearchFunnelLoggerConstants").ENTRY_SURFACES.SEARCH_ALL_THREADS:b("MessengerContentSearchFunnelLoggerConstants").ENTRY_SURFACES.SEARCH_FROM_INTEGRATED_MESSAGE_SEARCH)},"MessengerGraphQLSearchTypeahead.react")}});e.exports=c}),null);
__d("MessengerTabIndices",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NEW_MESSAGE_TOKENIZER:9998,GROUP_NAME_INPUT:9999,COMPOSER_INPUT:1e4});e.exports=a}),null);
__d("MessengerComposeViewHeader.react",["cx","fbt","ImmutableObject","MessengerButtonReact.re","MessengerDotComAndInboxM4Check.bs","MessengerGraphQLTokenizer.react","MessengerTabIndices","React","clearImmediate","gkx","immutable","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerButtonReact.re").make;a=b("React").PropTypes;var j=320;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={tokenizerContext:null,excludeGroups:!1,excludePages:!1,forGroup:!1},d.$1=null,d.$2=function(){d.$1=b("setImmediate")(function(){d.refs.tokenizer&&d.refs.tokenizer.focusInput()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2(),this.setState({tokenizerContext:this.refs.tokenizerContext})};d.componentDidUpdate=function(a){this.props.recipients!==a.recipients&&this.props.onResize()};d.UNSAFE_componentWillReceiveProps=function(a){a.recipients!==this.props.recipients&&(a.recipients.size===0?this.setState({excludeGroups:!1,excludePages:!1,forGroup:!1}):a.isWorkUser?this.setState({excludeGroups:!0,excludePages:!1,forGroup:!0}):this.setState({excludeGroups:!0,excludePages:!0,forGroup:!0}))};d.componentWillUnmount=function(){this.$1&&b("clearImmediate")(this.$1)};d.render=function(){var a={enableMessageSearch:!1,hasHoverState:!0,originalEntryIDs:b("immutable").Set(),scrollableViewClassName:"_2y8_",shouldQueryInternalBot:!0,shouldQueryVCEndpoint:!1,width:j,customResultFilterFn:this.props.isWorkUser?function(a){return a.getAuxiliaryData().isWorkUser===!0&&a.getAuxiliaryData().isActiveAccount===!1?!1:!0}:function(){return!0}};return b("React").jsxs("div",{className:b("joinClasses")("_2y8y"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zw0":"")+" _5l-3",this.props.className),onClick:this.$2,role:"presentation",children:[b("React").jsx("div",{className:"_2y8z",ref:b("gkx")("678607")?"tokenizerContext":"",children:h._("Para:")}),b("React").jsxs("div",{className:"_66s6",children:[b("React").jsx(b("MessengerGraphQLTokenizer.react"),babelHelpers["extends"]({autoFocus:!0,className:"_2y8-",context:this.state.tokenizerContext,entries:this.props.recipients,excludeGroups:this.state.excludeGroups,excludePages:this.state.excludePages,forGroup:this.state.forGroup,forceHideClearButton:this.props.forceHideClearButton,onAddEntryAttempt:this.props.onAddRecipient,onClear:this.props.onClear,onRemoveEntryAttempt:this.props.onRemoveRecipient,placeholder:h._("Escribe el nombre de una persona o de un grupo"),ref:"tokenizer",tabIndex:b("MessengerTabIndices").NEW_MESSAGE_TOKENIZER,useLayer:!0,viewer:this.props.viewer},a)),b("gkx")("678607")?null:b("React").jsx("div",{ref:"tokenizerContext"})]}),this.$3()]})};d.$3=function(){return this.props.shouldShowCreateGroupButton?b("React").jsx(i,{className:"_6wh5",label:h._("Crear chat"),onClick:this.props.onCreateGroupButtonClicked,role:"button",tabIndex:0,type:"primary"}):null};return c}(b("React").PureComponent);c.propTypes={forceHideClearButton:a.bool.isRequired,onAddRecipient:a.func.isRequired,onClear:a.func,onRemoveRecipient:a.func.isRequired,onResize:a.func.isRequired,recipients:a.instanceOf(b("immutable").List).isRequired,thread:a.instanceOf(b("ImmutableObject")),viewer:a.string.isRequired,isWorkUser:a.bool.isRequired,shouldShowCreateGroupButton:a.bool,onCreateGroupButtonClicked:a.func};c.defaultProps={shouldShowCreateGroupButton:!1,isWorkUser:!1};e.exports=c}),null);
__d("MessengerProfileLinkAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLICK:"click",HOVER:"hover"})}),null);
__d("MessengerProfileLinkDomain",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",FB_SLASH_MESSAGES:"fb_slash_messages",WORK_CHAT:"work_chat"})}),null);
__d("MessengerProfileLinkLogger.bs",["MessengerProfileLinkTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){new(b("MessengerProfileLinkTypedLogger"))().setTargetID(a).setDomain(c).setLinkLocation(d).setAction(e).log();return 0}f.logItemImpression=a}),null);
__d("ProfileLinkReact.bs",["ReasonReact.bs","bs_js_null_undefined","ProfileLink.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){var j;return b("ReasonReact.bs").wrapJsForReason(b("ProfileLink.react"),{className:(j=b("bs_js_null_undefined")).fromOption(a),href:j.fromOption(c),onClick:j.fromOption(d),onMouseEnter:j.fromOption(e),onMouseLeave:j.fromOption(f),target:j.fromOption(g),uid:h},i)}f.make=a}),null);
__d("MessengerProfileLink.bs",["cx","URI","bs_block","bs_curry","React","Arbiter","LinkReact.bs","BadgeReact.bs","bs_caml_option","CurrentUser","ReasonReact.bs","ProfileLinkReact.bs","isMessengerDotComURI","MessengerProfileLinkAction","MessengerProfileLinkDomain","MessengerProfileLinkLogger.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("ReasonReact.bs").reducerComponent("MessengerProfileLink");function j(a,c,d,e,f,g,j){__p&&__p();var k=b("isMessengerDotComURI")(new(h||(h=b("URI")))(window.location.href));j=b("CurrentUser").isWorkUser();var l=j?b("MessengerProfileLinkDomain").WORK_CHAT:k?b("MessengerProfileLinkDomain").MESSENGER_DOT_COM:b("MessengerProfileLinkDomain").FB_SLASH_MESSAGES,m=function(a){return b("MessengerProfileLinkLogger.bs").logItemImpression(f,l,d,b("MessengerProfileLinkAction").HOVER)},n=function(a){return b("MessengerProfileLinkLogger.bs").logItemImpression(f,l,d,b("MessengerProfileLinkAction").CLICK)};return[i[0],i[1],i[2],i[3],function(a){var c=b("Arbiter").subscribe("Hovercard/show",function(c,d){return b("bs_curry")._1(a[3],0)}),d=b("Arbiter").subscribe("Hovercard/hide",function(c,d){return b("bs_curry")._1(a[3],1)});return b("bs_curry")._1(a[4],function(a){c.unsubscribe();d.unsubscribe();return 0})},i[5],i[6],i[7],function(d){var h=b("React").createElement("span",void 0,e,g?b("ReasonReact.bs").element(void 0,void 0,b("BadgeReact.bs").make("medium","verified",[])):null);return b("React").createElement("span",{className:"_6ybk"},a!==void 0?k?b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,function(a){d[1][0]&&m(0);return n(0)},void 0,void 0,void 0,void 0,void 0,void 0,c,void 0,[h])):b("ReasonReact.bs").element(void 0,void 0,b("ProfileLinkReact.bs").make(void 0,void 0,function(a){return n(0)},void 0,function(a){a=d[1][0];if(a)return m(0);else return 0},void 0,f,[h])):h)},function(a){return[!1]},i[10],function(a,c){if(a)return b("bs_block").__(0,[[!1]]);else return b("bs_block").__(0,[[!0]])},i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(b("bs_caml_option").nullable_to_opt(a.href),a.target,a.location,a.name,a.uid,a.isVerified,[])});f.component=i;f.make=j;f.jsComponent=a}),null);
__d("TimeSpentRoomTypeEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GROUP:"GROUP",EVENT:"EVENT"})}),null);
__d("TimeSpentRoomTypeEnum$FbtEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({GROUP:"Group",EVENT:"Event"});e.exports=a}),null);
__d("MessengerContextBanner.react",["cx","fbt","Badge.react","CurrentUser","Image.react","ImageBlock.react","Link.react","MercuryParticipantsConstants","MercuryParticipantsImage.react","MercuryShareAttachmentRenderLocations","MercuryThreadImage.react","MessengerProfileLink.bs","MessengerTextWithEmoticons.react","React","TimeSpentRoomTypeEnum","TimeSpentRoomTypeEnum$FbtEnum","immutable","requireWeak"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerProfileLink.bs").jsComponent;a=b("React").PropTypes;var j;b("requireWeak")("MessengerThreadImageReact.bs",function(a){j=a.jsComponent});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("React").jsxs(b("ImageBlock.react"),{className:"_llj"+(this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER?" _2eu-":"")+(this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?" _2eu_":""),spacing:"large",style:this.props.style,children:[this.$1(),b("React").jsxs("div",{className:"_lll",children:[this.$2(),this.$3(),this.$4()]})]}),c=this.props.associatedObject;c&&c.action_link&&(a=b("React").jsx(b("Link.react"),{href:c.action_link,target:"_blank",style:{textDecoration:"none"},children:a}));return a};d.$1=function(){var a=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER,c=this.props.associatedObject,d=null;if(!this.props.contactName&&c&&a)d=b("React").jsx(b("Image.react"),{className:"_4ld- _1wrc",src:c.profile_picture});else if(this.props.thread){c=j&&a?j:b("MercuryThreadImage.react");d=b("React").jsx(c,{showBadge:!1,participants:this.props.participants,size:a?60:null,thread:this.props.thread,viewer:this.props.viewer})}else this.props.participantIDs&&(d=b("React").jsx(b("MercuryParticipantsImage.react"),{participants:this.props.participantIDs,size:b("MercuryParticipantsConstants").BIG_IMAGE_SIZE}));return b("React").jsx("div",{className:"_llk",children:d})};d.$2=function(){__p&&__p();if(this.props.location!==b("MercuryShareAttachmentRenderLocations").MESSENGER)return null;var a=this.props.isVerified?b("React").jsx(b("Badge.react"),{size:"medium",type:"verified"}):null,c=this.props.contactName;if(!c){var d=this.props.associatedObject;c=d?d.name:null}d=this.props.contactFBProfile;var e=this.props.contactID;return b("React").jsx("div",{className:"_llq",children:b("React").jsxs("span",{className:"_3oh-",children:[b("React").jsx(i,{href:d,location:"context_banner",name:c,uid:e}),a]})})};d.$3=function(){return b("React").jsx("div",{className:"_1n-e _36zg",children:b("React").jsx(b("MessengerTextWithEmoticons.react"),{text:this.props.connectionContext||"",renderEmoticons:!1})})};d.$4=function(){__p&&__p();if(!this.props.contextItems.length){var a=this.props.associatedObject;if(a){a=b("TimeSpentRoomTypeEnum")[a.room_type];var c=b("CurrentUser").isWorkUser()?"Workplace":"Facebook";return b("React").jsx("div",{className:"_1n-e",children:h._({"GROUP":"Ir al grupo de {productName}","EVENT":"Ir al evento de {productName}"},[h._param("productName",c),h._enum(a,b("TimeSpentRoomTypeEnum$FbtEnum"))])})}return null}return b("React").jsx("div",{children:this.props.contextItems.map(function(a,c){return b("React").jsx("div",{className:"_1n-e",children:b("React").jsx(b("MessengerTextWithEmoticons.react"),{text:a||"",renderEmoticons:!1})},"item:"+c)})})};return c}(b("React").PureComponent);c.propTypes={contactFBProfile:a.string,contactID:a.string,contactName:a.string,associatedObject:a.object,connectionContext:a.string,contextItems:a.arrayOf(a.string).isRequired,isVerified:a.bool,location:a.string.isRequired,participantIDs:a.arrayOf(a.string),participants:a.instanceOf(b("immutable").Map),thread:a.object,viewer:a.string.isRequired};e.exports=c}),null);
__d("XMessengerContextBannerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/messenger/context_banner/",{profile_id:{type:"Int",required:!0},max_context_items:{type:"Int",defaultValue:3}})}),null);
__d("MessengerContextInformationStore",["AsyncRequest","EventEmitter","TimeSlice","XMessengerContextBannerController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=new Map();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$MessengerContextInformationStore1=function(a){if(h.get(a))return;var c=b("XMessengerContextBannerController").getURIBuilder().setInt("profile_id",a).getURI();c=new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setURI(c).setHandler(d.$MessengerContextInformationStore2.bind(babelHelpers.assertThisInitialized(d),a));h.set(a,c);c.send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getOrFetch=function(a){var c=g.get(a);c||b("TimeSlice").guard(this.$MessengerContextInformationStore1,"Chat Tab Messenger Context Banner Fetch",{propagationType:b("TimeSlice").PropagationType.ORPHAN})(a);return c};d.$MessengerContextInformationStore2=function(a,b){g.set(a,{connectionContext:b.payload.connection_context||"",contextItems:b.payload.context_items||[]}),h["delete"](a),this.emit("change")};return c}(b("EventEmitter"));e.exports=new a()}),null);
__d("PagesMessengerContextBanner.react",["cx","MercuryThreadImage.react","ProfileHeaderCoverPhoto.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=83,i=284,j=60;function a(a){var c=a.coverPhotoData?b("React").jsx(b("ProfileHeaderCoverPhoto.react"),{coverPhotoData:a.coverPhotoData,height:h,width:i}):null;return b("React").jsxs("div",{className:"_fj3",children:[c,b("React").jsxs("div",{className:"_2-0o",children:[b("React").jsx(b("MercuryThreadImage.react"),{className:"_2gye",size:j,thread:a.thread,viewer:a.viewer}),")"]})]})}e.exports=a}),null);
__d("MessengerContextBannerContainer.react",["DOMDimensions","MercuryIDs","MercuryShareAttachmentRenderLocations","MessengerContextBanner.react","MessengerContextInformationStore","MessengerParticipants.bs","PagesMessagingMercuryChatTabStore","PagesMessengerContextBanner.react","React","ReactComponentWithPureRenderMixin","ReactDOM","StoreAndPropBasedStateMixin","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;var g=b("React").createClass({displayName:"MessengerContextBannerContainer",mixins:[b("ReactComponentWithPureRenderMixin"),b("StoreAndPropBasedStateMixin")(b("MessengerContextInformationStore"),b("PagesMessagingMercuryChatTabStore"))],propTypes:{location:a.string.isRequired,onResize:a.func,otherUserFBIDs:a.arrayOf(a.string),thread:a.object,threadID:a.string,viewer:a.string.isRequired},statics:{calculateState:function(a){__p&&__p();var c=a.thread,d=null;c?d=c&&c.participants:a.otherUserFBIDs&&a.otherUserFBIDs.length===1&&(d=a.otherUserFBIDs.map(function(a){return b("MessengerParticipants.bs").getIDFromVanityOrFBID(a)}));var e=b("immutable").Map();d&&(e=e.withMutations(function(a){d&&d.forEach(function(c){a.set(c,b("MessengerParticipants.bs").getNow(c))})}));var f=null,h=null;c?(f=e.get(b("MercuryIDs").getParticipantIDFromFromThreadID(c.thread_id)),h=c.associated_object):f=d&&e.get(d[0]);c=b("PagesMessagingMercuryChatTabStore").getStateByThread(a.threadID);a=c.coverPhotoData;return babelHelpers["extends"]({associatedObject:h,contact:f,coverPhotoData:a,participantIDs:d,participants:e},g.getContextInformation(f&&f.fbid&&f.fbid.toString()))},getContextInformation:function(a){var c;a&&(c=b("MessengerContextInformationStore").getOrFetch(a.toString()));return c||{connectionContext:"",contextItems:[]}}},componentDidUpdate:function(){var a=b("ReactDOM").findDOMNode(this);if(!a)return;a=b("DOMDimensions").getElementDimensions(a).height;this.props.onResize&&this.props.onResize(a)},render:function(){if(!this.state.contact)return this.state.associatedObject&&this.props.location==b("MercuryShareAttachmentRenderLocations").MESSENGER?b("React").jsx(b("MessengerContextBanner.react"),{associatedObject:this.state.associatedObject,contextItems:this.state.contextItems,location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,thread:this.props.thread,viewer:this.props.viewer}):null;if(this.state.contact.type==="page"){if(!this.state.connectionContext&&!this.state.contextItems.length)return null;if(this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT&&this.props.thread!=null)return b("React").jsx(b("PagesMessengerContextBanner.react"),{coverPhotoData:this.state.coverPhotoData,thread:this.props.thread,viewer:this.props.viewer})}return b("React").jsx(b("MessengerContextBanner.react"),{contactFBProfile:this.state.contact.href,contactID:this.state.contact.fbid,contactName:this.state.contact.name,connectionContext:this.state.connectionContext,contextItems:this.state.contextItems,isVerified:this.state.contact.verification_status==="BLUE_VERIFIED",location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,thread:this.props.thread,viewer:this.props.viewer})}});e.exports=g}),null);
__d("MercuryAttachmentSnippetType",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({PHOTO:null,GIF:null,VIDEO:null,AUDIO_CLIP:null,STICKER:null,SHARE:null,ERROR:null,MIXED:null,GIFT:null,THIRDPARTYSTICKER:null,FILE:null,LIKE_STICKER:null});e.exports=a}),null);
__d("MercuryGiftSnippetRenderer",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={renderText:function(a,b){return a?g._("Enviaste un mensaje de San Valent\u00edn."):g._("{name} envi\u00f3 un mensaje de San Valent\u00edn.",[g._param("name",b)])}};e.exports=a}),null);
__d("P2PSnippetStringUtils",["fbt"],(function(a,b,c,d,e,f,g){__p&&__p();a={getRequestCanceledSnippet:function(a,b,c,d,e){if(a)return g._("Se cancel\u00f3 tu solicitud de {payment request amount} a {receiver's name}.",[g._param("payment request amount",e),g._param("receiver's name",d)]);else if(b)return g._("Se cancel\u00f3 la solicitud de {payment request amount} de {requester's name}.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("Se cancel\u00f3 la solicitud de {payment request amount} de {requester's name} a {receiver's name}.",[g._param("requester's name",c),g._param("payment request amount",e),g._param("receiver's name",d)])},getRequestDeclinedSnippet:function(a,b,c,d,e){if(a)return g._("{receiver's name} rechaz\u00f3 tu solicitud de {payment request amount}.",[g._param("receiver's name",d),g._param("payment request amount",e)]);else if(b)return g._("Rechazaste la solicitud de {requester's name} de {payment request amount}.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("{receiver's name} rechaz\u00f3 la solicitud de {sender's name} de {payment request amount}.",[g._param("receiver's name",d),g._param("sender's name",c),g._param("payment request amount",e)])},getRequestSentSnippet:function(a,b,c,d,e){if(a)return g._("Solicitaste {amount} a {requestee name}.",[g._param("amount",e),g._param("requestee name",d)]);else if(b)return g._("{requester name} te solicit\u00f3 {amount}.",[g._param("requester name",c),g._param("amount",e)]);else return g._("{name} solicit\u00f3 {amount} a {requestee name}.",[g._param("name",c),g._param("amount",e),g._param("requestee name",d)])},getRequestSnippetByStatus:function(a,b,c,d,e,f){a=a||1;b=[b,c,d,e,f];switch(a){case 2:return this.getRequestDeclinedSnippet.apply(this,b);case 5:case 6:return this.getRequestCanceledSnippet.apply(this,b)}return this.getRequestSentSnippet.apply(this,b)},getTransferCanceledSnippet:function(a,b,c,d,e){if(a)return g._("Se cancel\u00f3 tu pago de {amount} a {receiver_name}.",[g._param("amount",e),g._param("receiver_name",d)]);else if(b)return g._("Se cancel\u00f3 el pago de {amount} de {sender name}.",[g._param("sender name",c),g._param("amount",e)]);else return g._("Se cancel\u00f3 el pago de {amount} de {sender_name} a {receiver_name}.",[g._param("sender_name",c),g._param("amount",e),g._param("receiver_name",d)])},getTransferDeclinedSnippet:function(a,b,c,d,e){if(a)return g._("{receiver_name} no acept\u00f3 tu pago de {amount}.",[g._param("receiver_name",d),g._param("amount",e)]);else if(b)return g._("No aceptaste el pago de {amount} de {sender name}.",[g._param("sender name",c),g._param("amount",e)]);else return g._("{receiver_name} no acept\u00f3 el pago de {amount} de {sender_name}.",[g._param("receiver_name",d),g._param("sender_name",c),g._param("amount",e)])},getTransferSentSnippet:function(a,b,c,d,e){if(a)return g._("Enviaste {amount} a {receiver name}.",[g._param("receiver name",d),g._param("amount",e)]);else if(b)return g._("{name} te envi\u00f3 {amount}.",[g._param("name",c),g._param("amount",e)]);else return g._("{sender name} envi\u00f3 a {receiver name} {amount}.",[g._param("sender name",c),g._param("receiver name",d),g._param("amount",e)])},getTransferSnippetByStatus:function(a,b,c,d,e,f){b=[b,c,d,e,f];c=a||15;switch(c){case 5:return this.getTransferDeclinedSnippet.apply(this,b);case 3:case 10:case 11:case 12:case 16:return this.getTransferCanceledSnippet.apply(this,b)}return this.getTransferSentSnippet.apply(this,b)}};e.exports=a}),null);
__d("MercuryAttachmentSnippetRenderer",["fbt","CurrentUser","MercuryAttachmentSnippetType","MercuryAudioType","MercuryGiftSnippetRenderer","MessengerLightweightActionUtils","P2PSnippetStringUtils","StickerConstants","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getAttachmentSnippetType:function(a){__p&&__p();if(this._hasOnlyPhotos(a))return b("MercuryAttachmentSnippetType").PHOTO;if(this._hasOnlyAnimatedImages(a))return b("MercuryAttachmentSnippetType").GIF;if(this._hasOnlyVideo(a))return b("MercuryAttachmentSnippetType").VIDEO;if(this._hasAudioClip(a))return b("MercuryAttachmentSnippetType").AUDIO_CLIP;if(this._hasLikeSticker(a))return b("MercuryAttachmentSnippetType").LIKE_STICKER;if(this._hasSticker(a))return b("MercuryAttachmentSnippetType").STICKER;if(this._hasThirdPartySticker(a))return b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER;if(this._hasShare(a))return b("MercuryAttachmentSnippetType").SHARE;if(this._hasGift(a))return b("MercuryAttachmentSnippetType").GIFT;if(this._hasError(a))return b("MercuryAttachmentSnippetType").ERROR;return this._hasFile(a)?b("MercuryAttachmentSnippetType").FILE:b("MercuryAttachmentSnippetType").MIXED},renderAttachmentSnippetText:function(a,c,d,e){__p&&__p();switch(a){case b("MercuryAttachmentSnippetType").PHOTO:return this._renderPhotoAttachmentSnippetText(c,d,this._getPhotoAttachments(e));case b("MercuryAttachmentSnippetType").GIF:return this._renderAnimatedImagesAttachmentSnippetText(c,d,this._getAnimatedImageAttachments(e));case b("MercuryAttachmentSnippetType").VIDEO:return c?g._("Enviaste un video."):g._("{sender name} envi\u00f3 un video.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").AUDIO_CLIP:return c?g._("Enviaste un mensaje de voz."):g._("{name} envi\u00f3 un mensaje de voz.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").STICKER:case b("MercuryAttachmentSnippetType").LIKE_STICKER:case b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER:return c?g._("Enviaste un sticker."):g._("{name} envi\u00f3 un sticker.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").SHARE:if(e&&this._hasP2PPayment(e))return this._renderP2PPaymentSnippetText(e[0]);if(e&&this._hasP2PPaymentRequest(e))return this._renderP2PPaymentRequestSnippetText(e[0]);if(e&&this._hasBusinessMessage(e))return this._renderBusinessMessageSnippetText(e[0],d);if(e&&this._hasLocation(e))return c?g._("Enviaste un mensaje de ubicaci\u00f3n."):g._("{sender name} envi\u00f3 un mensaje de ubicaci\u00f3n.",[g._param("sender name",d)]);if(e&&this._hasLiveLocation(e))return c?g._("Enviaste tu ubicaci\u00f3n en tiempo real."):g._("{sender name} envi\u00f3 su ubicaci\u00f3n en tiempo real.",[g._param("sender name",d)]);if(e&&this._hasMontageDirect(e)){if(!b("gkx")("676919"))return c?g._("Enviaste un enlace."):g._("{sender name} envi\u00f3 un enlace.",[g._param("sender name",d)]);a=e[0];a=(a=a)!=null?(a=a.share)!=null?(a=a.media)!=null?a.source:a:a:a;return c?a?g._("Enviaste un video."):g._("Enviaste una foto."):a?g._("Mira el video temporal de {sender name}.",[g._param("sender name",d)]):g._("Mira la foto temporal de {sender name}.",[g._param("sender name",d)])}if(e&&e.length===1&&b("MessengerLightweightActionUtils").isLWAAttachment(e[0]))return b("MessengerLightweightActionUtils").getLWASnippetText(e);return e&&e.length===1&&this._isGloballyRemovedMessageAttachment(e[0])?e[0].share.description:c?g._("Enviaste un enlace."):g._("{sender name} envi\u00f3 un enlace.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").GIFT:return b("MercuryGiftSnippetRenderer").renderText(c,d);case b("MercuryAttachmentSnippetType").FILE:return c?g._("Enviaste un archivo adjunto."):g._("{sender name} envi\u00f3 un archivo adjunto.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").ERROR:return c?g._("Enviaste un archivo adjunto."):g._("{sender name} envi\u00f3 un archivo adjunto.",[g._param("sender name",d)]);default:return""}},_isGloballyRemovedMessageAttachment:function(a){return a.share&&a.share.style_list&&a.share.style_list.includes("globally_deleted_message_placeholder")},_hasOnlyPhotos:function(a){return this._getPhotoAttachments(a).length===a.length},_hasThirdPartySticker:function(a){return a.length===1&&a[0].attach_type==="third_party_sticker"},_hasOnlyAnimatedImages:function(a){return this._getAnimatedImageAttachments(a).length===a.length},_hasOnlyVideo:function(a){return a.length===1&&a[0].attach_type==="video"},_hasAudioClip:function(a){var c=a[0].metadata&&a[0].metadata.type;return a.length===1&&(c===b("MercuryAudioType").AudioClip||c===b("MercuryAudioType").VoiceMessageWithTranscript)},_hasBusinessMessage:function(a){return this._hasSingleShareAttachmentOfStyle(a,"business_message_items")},_hasSticker:function(a){return a.length===1&&a[0].attach_type==="sticker"},_hasLikeSticker:function(a){if(a.length<1)return!1;var c=a[0].metadata&&a[0].metadata.stickerID;return a.length===1&&(c==b("StickerConstants").LIKE_STICKER_ID||c==b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||c==b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||c==b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID)},_hasLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,"message_location")},_hasLiveLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,"message_live_location")},_hasMontageDirect:function(a){return this._hasSingleShareAttachmentOfStyle(a,"montage_direct")},_hasP2PPayment:function(a){return this._hasSingleShareAttachmentOfStyle(a,"orion")},_hasP2PPaymentRequest:function(a){return this._hasSingleShareAttachmentOfStyle(a,"orion_request")},_hasSingleShareAttachmentOfStyle:function(a,b){return a.length===1&&a[0].attach_type==="share"&&a[0].share&&a[0].share.style_list.indexOf(b)>=0},_hasShare:function(a){return a.length===1&&a[0].attach_type==="share"},_hasError:function(a){return a.length===1&&a[0].attach_type==="error"},_hasGift:function(a){return a.length===1&&a[0].attach_type==="gift"},_hasFile:function(a){return a.length===1&&a[0].attach_type==="file"},_getPhotoAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type==="photo"})},_getAnimatedImageAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type==="animated_image"})},_renderPhotoAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("Enviaste una foto.");else return g._("{name} envi\u00f3 una foto.",[g._param("name",b)]);else if(a)return g._({"*":"Enviaste {num_photos} fotos."},[g._param("num_photos",c.length,[0])]);else return g._({"*":"{name} envi\u00f3 {num_photos} fotos."},[g._param("name",b),g._param("num_photos",c.length,[0])])},_renderAnimatedImagesAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("Enviaste un GIF.");else return g._("{name} envi\u00f3 un GIF.",[g._param("name",b)]);else if(a)return g._("Enviaste {num_animated_images} GIF.",[g._param("num_animated_images",c.length)]);else return g._("{name} envi\u00f3 {num_animated_images} GIF.",[g._param("name",b),g._param("num_animated_images",c.length)])},_renderBusinessMessageSnippetText:function(a,b){a=a.share.target;a=a&&a.message||g._("{sender name} envi\u00f3 un archivo adjunto.",[g._param("sender name",b)]);return a},_renderP2PPaymentSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentSnippetText(b("CurrentUser").getID()===a.sender.id,a.sender.name,a.amountWithSymbol,a.status,b("CurrentUser").getID()===a.receiver.id,a.receiver.name)},_renderP2PPaymentRequestSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentRequestSnippetText(b("CurrentUser").getID()===a.requester.id,a.requester.name,a.amountWithSymbol,a.currentStatus,b("CurrentUser").getID()===a.requestee.id,a.requestee.name)},renderP2PPaymentSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getTransferSnippetByStatus(e,a,f||!1,c||"",g||"",d)},renderP2PPaymentRequestSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getRequestSnippetByStatus(e,a,f||!1,c||"",g||"",d)}};e.exports=a}),null);
__d("MessengerDialogCancelButton.react",["fbt","MessengerDialogButton.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("MessengerDialogButton.react"),babelHelpers["extends"]({action:"cancel",label:g._("Cancelar"),type:"secondary"},this.props))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerDialogTitleReact.bs",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.autofocus;c=c!==void 0?c:!1;a=a.children;return b("React").createElement("div",{className:b("joinClasses")("_19jt",c?"autofocus":"")},a)}c=a;f.make=c}),null);
__d("PhotoRendererProjection",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PERSPECTIVE:"perspective",STEREOGRAPHIC:"stereographic",CYLINDRICAL:"cylindrical",EQUIRECTANGULAR:"equirectangular"})}),null);
__d("PhotosphereMetadata",["ImmutableRecordWithV4Types"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;c=a({CroppedAreaImageHeightPixels:0,CroppedAreaImageWidthPixels:0,CroppedAreaLeftPixels:0,CroppedAreaTopPixels:0,FullPanoHeightPixels:0,FullPanoWidthPixels:0,InitialViewHeadingDegrees:0,InitialViewPitchDegrees:0,InitialViewRollDegrees:0,InitialViewVerticalFOVDegrees:0,PoseHeadingDegrees:0,PosePitchDegrees:0,PoseRollDegrees:0,PreProcessCropLeftPixels:0,PreProcessCropRightPixels:0,ProjectionType:"equirectangular",RendererProjectionType:"equirectangular"});e.exports={makePhotosphereMetadata:c}}),null);
__d("SphericalPhotoUtils",["PhotoRendererProjection","PhotosphereMetadata","SphericalPhotoPartialLimits"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PhotoRendererProjection").PERSPECTIVE,h=b("PhotosphereMetadata").makePhotosphereMetadata,i=b("SphericalPhotoPartialLimits").makePartialLimits,j={getMetadataFromGraphQLResult:function(a){return{CroppedAreaImageHeightPixels:a.cropped_area_image_height_pixels!=null?a.cropped_area_image_height_pixels.toString():null,CroppedAreaImageWidthPixels:a.cropped_area_image_width_pixels!=null?a.cropped_area_image_width_pixels.toString():null,CroppedAreaLeftPixels:a.cropped_area_left_pixels!=null?a.cropped_area_left_pixels.toString():null,CroppedAreaTopPixels:a.cropped_area_top_pixels!=null?a.cropped_area_top_pixels.toString():null,FullPanoHeightPixels:a.full_pano_height_pixels!=null?a.full_pano_height_pixels.toString():null,FullPanoWidthPixels:a.full_pano_width_pixels!=null?a.full_pano_width_pixels.toString():null,InitialViewHeadingDegrees:a.initial_view_heading_degrees!=null?a.initial_view_heading_degrees.toString():null,InitialViewPitchDegrees:a.initial_view_pitch_degrees!=null?a.initial_view_pitch_degrees.toString():null,InitialViewRollDegrees:a.initial_view_roll_degrees!=null?a.initial_view_roll_degrees.toString():null,InitialViewVerticalFOVDegrees:a.initial_view_vertical_fov_degrees!=null?a.initial_view_vertical_fov_degrees.toString():null,PoseHeadingDegrees:a.pose_heading_degrees!=null?a.pose_heading_degrees.toString():null,PosePitchDegrees:a.pose_pitch_degrees!=null?a.pose_pitch_degrees.toString():null,PoseRollDegrees:a.pose_roll_degrees!=null?a.pose_roll_degrees.toString():null,PreProcessCropLeftPixels:null,PreProcessCropRightPixels:null,ProjectionType:a.projection_type,RendererProjectionType:g}},calculatePartialLimits:function(a){__p&&__p();var b=a.FullPanoHeightPixels,c=a.FullPanoWidthPixels,d=a.CroppedAreaImageWidthPixels,e=a.CroppedAreaImageHeightPixels,f=a.CroppedAreaLeftPixels;a=a.CroppedAreaTopPixels;b=j.parseNumber(b);c=j.parseNumber(c);d=j.parseNumber(d);e=j.parseNumber(e);f=j.parseNumber(f);a=j.parseNumber(a);var g,h,k,l;if(d!==0&&d!==c){d=360*d/c;d<350&&(g=180*(1-2*f/c),h=d-g)}e!==0&&e!==b&&(a!==0&&(k=90*(1-2*a/b)),a+e!==b&&(l=180*(a+e-b/2)/b));f=null;c=null;d=null;a=null;k&&k<87.5&&(c=k);l&&l<87.5&&(f=l);g&&(d=g);h&&(a=h);return i({partialTopDegrees:c,partialBottomDegrees:f,partialLeftDegrees:d,partialRightDegrees:a})},parseNumber:function(a){return a?Number(a):0},getThumbnailsFromPhotoEncodings:function(a){a=a.find(function(a){return a.projection_type===g});var b=null,c=null;if(a&&a.thumbnails&&a.thumbnails.length>0){a=a.thumbnails;b=a[0]?a[0].uri:null;c=a[1]?a[1].uri:null}return{smallThumbnail:b,largeThumbnail:c}},photosphereMetadataStringToNumber:function(a){var b={};Object.keys(a).forEach(function(c){switch(c){case"ProjectionType":b.ProjectionType=a.ProjectionType;break;case"RendererProjectionType":b.RendererProjectionType=a.RendererProjectionType;break;default:b[c]=parseInt(a[c],10)}});return h(b)}};e.exports=j}),null);
__d("MessengerSettingsStore",["CacheStorage","MessengerDotComSettingsInitialData","MessengerSettingsActions","MessengerStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("CacheStorage"))("localstorage"),h="desktopNotifsEnabled";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$MessengerSettingsStore1=babelHelpers["extends"]({},b("MessengerDotComSettingsInitialData"),{desktopNotifsEnabled:c.$MessengerSettingsStore2()});c.$MessengerSettingsStore1.privacy_section_collapsed=!0;return c}var d=c.prototype;d.getSettings=function(){return this.$MessengerSettingsStore1};d.$MessengerSettingsStore2=function(){return g.get(h,!1)};d.$MessengerSettingsStore3=function(a){g.set(h,a)};d.__onDispatch=function(a){switch(a.type){case b("MessengerSettingsActions").Types.CHANGE_SETTINGS:this.$MessengerSettingsStore1=babelHelpers["extends"]({},this.$MessengerSettingsStore1,a.newSettings);this.emitChange();break;case b("MessengerSettingsActions").Types.CHANGE_DESKTOP_NOTIFS:this.$MessengerSettingsStore1=babelHelpers["extends"]({},this.$MessengerSettingsStore1,{desktopNotifsEnabled:a.desktopNotifsEnabled});this.$MessengerSettingsStore3(a.desktopNotifsEnabled);this.emitChange();break}};return c}(b("MessengerStore"));e.exports=new a()}),null);
__d("MessengerURIUtils.bs",["URI","MercuryIDs","MessengerView","MessengerURISerializer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){var c=b("MessengerURISerializer").deserialize(new(g||(g=b("URI")))(window.location.href)),d=b("MessengerView").DETAIL.THREAD,e=c.queryAll;return b("MessengerURISerializer").serialize(Object.assign(Object.assign({},c),{activeThreadID:a,detailView:d,query:e?c.query:void 0}))}function a(a){return h(b("MercuryIDs").getThreadIDFromUserID(a))}function c(a){return h(a.thread_id).setQueryData({mid:a.message_id})}f.getURIForThreadID=h;f.getURIForUserID=a;f.getURIForMessage=c}),null);
__d("MessengerUserInputActions",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({UPDATE_USER_INPUT_REQUESTED:null});e.exports={MessengerUserInputActions:a}}),null);
__d("MessengerUserInputAppDispatcher",["ExplicitRegistrationDispatcher","objectValues"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}var d=c.prototype;d.explicitlyRegisterStoresInMap=function(a){this.explicitlyRegisterStores(b("objectValues")(a))};return c}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!0})}),null);
__d("MessengerUserInputActionsHandler",["MessengerUserInputActions","MessengerUserInputAppDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MessengerUserInputActions").MessengerUserInputActions;a={updateUserInputRequested:function(a,c,d){b("MessengerUserInputAppDispatcher").dispatch({type:g.UPDATE_USER_INPUT_REQUESTED,data:{isUserInputRequested:a,requestNumResults:c,requestType:d}})}};e.exports=a}),null);
__d("MessengerConversation.react",["ix","csx","cx","fbt","requireCond","Bootloader","BootloadOnRender.react","ChatTypingIndicatorsWrapper.bs","CSS","CurrentUser","DOM","DOMDimensions","ErrorBoundary.react","Event","EventProfiler","FantaPageGreetingLoader.react","Image.react","ImmutableObject","JSResource","KeyEventController","LazyComponent.react","Link.react","MercuryIDs","MercuryShareAttachmentRenderLocations","MessageList.react","MessengerActions","MessengerAttachmentRenderer","MessengerBootloadedLogMessage.react","MessengerBusinessQuickReplyLocationQueryWebGraphQLQuery","MessengerBusinessUserProfileLocationQueryWebGraphQLQuery","MessengerButtonReact.re","MessengerCollapsedLogMessageGroup.react","MessengerContextBannerContainer.react","MessengerDateBreak.react","MessengerDotComAndInboxM4Check.bs","MessengerFlexScrollableArea.react","MessengerMessageGroup.react","MessengerNewMessagesNoticeReact.bs","MessengerQuickCamOrigins","MessengerQuickReplyUtils","MessengerReadReceipt.bs","MessengerSpinner.react","MessengerThreadFetchLoggerUtil","MessengerTypingIndicatorReact.re","MessengerUserInputActionsHandler","MessengerVideoAutoplayActions","MessengerVideoAutoplayStore","MessengerViewBirthdayQueryWebGraphQLQuery","MessengerViewerContactMethodsWebGraphQLQuery","Parent","React","ReactDOM","SubscriptionsHandler","UserActivity","WebGraphQL","WebMessengerConstants","WorkBotLandingPageHelper","WorkChatRedesignedMessageListCheck.re","WorkGalahadScrollToMessageEventEmitter","cr:1071079","cr:1071080","asset","emptyFunction","getPageIDFromThreadID","gkx","ifRequired","immutable","joinClasses","lazyLoadComponent","nullthrows","promiseDone","setImmediate","setTimeout","throttle"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("ChatTypingIndicatorsWrapper.bs").jsComponent,l=b("MessengerButtonReact.re").make,m=b("MessengerNewMessagesNoticeReact.bs").jsComponent,n=b("MessengerTypingIndicatorReact.re").component,o=b("WorkBotLandingPageHelper").shouldShowBotLandingPage;b("immutable").OrderedMap;a=b("React").PropTypes;var p=0,q=20,r=100,s=1e3,t=200,u=b("gkx")("833128"),v=b("lazyLoadComponent")(b("JSResource")("WorkChatBotConversationGreetingContainer.react").__setRef("MessengerConversation.react"));function w(a,c){return!!(b("KeyEventController").filterEventTypes(a,c)&&b("KeyEventController").filterEventModifiers(a,c)&&a.target instanceof Element&&b("Parent").bySelector(a.target,"._4_j4"))}var x={};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={readReceipts:y(d.props),scrollingToUnreadMessage:!1,showUnreadNotice:!1,unreadCount:d.props.thread?d.props.thread.unread_count:0,width:0,viewerBirthday:null,viewerEmail:null,viewerPhone:null,viewerState:null,viewerZipCode:null,shouldJumpToMessage:!1,isLandingPageDismissed:!1,renderScrollToBottom:!1},d.$1=null,d.$2=null,d.$3=null,d.$5=[],d.$6={originalScrollHeight:0,originalScrollTop:0},d.$16=function(){__p&&__p();var a=d.$19();if(!d.refs||!a||d.props.isLoading){d.$5=[];return}var c=b("getPageIDFromThreadID")(d.props.threadID),e=d.refs.messageList;if(!e||!c){d.$5=[];return}var f=10,g=a.getElement().getBoundingClientRect(),h=[];d.$4.forEach(function(a){var e=a.message_id,i=d.refs.messageList.getMessageElement(e);if(i){i=i.getBoundingClientRect();i.top>g.top-f&&i.bottom<g.bottom+f&&(h.push(e),d.$5.includes(e)||b("Bootloader").loadModules(["MessengerAdsWebLogger","MNAdsLoggerEventEnum"],function(b,d){b.log(a.ad_client_token,a.ad_id,d.MESSAGE_SEEN_THREAD,!0,e,c)},"MessengerConversation.react"))}},babelHelpers.assertThisInitialized(d));d.$5=h},d.$20=function(){b("MessengerThreadFetchLoggerUtil").markerEnd(d.props.threadID,2),d.$20=b("emptyFunction")},d.$39=function(){var a;return((a=d.props.contact)==null?void 0:a.user_type)==="page"&&b("getPageIDFromThreadID")(d.props.threadID)!==null},d.$41=function(){d.state.renderScrollToBottom?(d.scrollToBottom(!0),d.setState({renderScrollToBottom:!1})):b("MessengerActions").changeMid(null)},d.$40=function(){d.setState({isLandingPageDismissed:!0})},d.$9=function(){var a=d.$19();a&&a.pageUp();return!1},d.$10=function(){var a=d.$19();a&&a.pageDown();return!1},d.$11=function(a){if(a.target===document.body){d.scrollToTop();return!1}return null},d.$12=function(a){if(a.target===document.body){d.scrollToBottom();return!1}return null},d.$15=function(){__p&&__p();if(!d.refs)return;if(!d.refs.scrollable)return;var a=d.$19(),c=d.refs.quickReply;c&&b("CSS").conditionClass(c,"_1mzg",!d.isScrolledToBottom());d.$13();d.$14();a&&d.state.unreadCount&&d.$26(a)&&d.setState({showUnreadNotice:!1,unreadCount:0});a&&a.isScrolledToBottom()&&d.setState({renderScrollToBottom:!1});d.$44(a);d.$45(a);d.$8()},d.$43=function(a){a.preventDefault(),d.setState({showUnreadNotice:!1}),d.$22(!0)},d.$14=function(){if(d.props.messages.size===0||d.props.thread&&d.props.thread.unread_count===0||!d.isScrolledToBottom())return;b("UserActivity").isOnTab()&&b("UserActivity").isActive()?d.props.onRead(d.props.threadID):d.$3||(d.$3=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(d.$18(),d.props.onRead(d.props.threadID))}))},d.handleResize=function(){__p&&__p();if(!d.refs)return;if(d.refs.scrollable){d.refs.scrollable.handleResize();var a=b("DOMDimensions").getElementDimensions(b("ReactDOM").findDOMNode(d.refs.scrollable)).width;a!==d.state.width&&d.setState({width:a})}a=d.refs.quickReply;a&&b("CSS").conditionClass(a,"_1mzg",!d.isScrolledToBottom());d.trackBottomIfRequired()},d.$17=function(a){d.props.messages.some(function(b){return b.message_id===a})?d.$24(a,!0):(d.setState({shouldJumpToMessage:!0}),b("MessengerActions").changeMid(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;if(!b("gkx")("708253")){var c,d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.handleResize,50)),(c=b("KeyEventController")).registerKey("PAGE_UP",this.$9,w),c.registerKey("PAGE_DOWN",this.$10,w),c.registerKey("HOME",this.$11,w),c.registerKey("END",this.$12,w));this.$2=d}this.$13();this.handleResize();this.$14();this.$7=b("throttle")(this.$15,r);this.$8=b("throttle")(this.$16,s);this.$4=this.props.messages.filter(function(a){return a.is_sponsored});this.$8();b("WorkGalahadScrollToMessageEventEmitter").addListener("scrollToMessage",function(b){a.$17(b)})};d.UNSAFE_componentWillReceiveProps=function(a){var b=a.threadID!==this.props.threadID;b&&(this.$18(),this.setState({scrollingToUnreadMessage:!1,showUnreadNotice:!1,unreadCount:a.thread?a.thread.unread_count:0,isLandingPageDismissed:!1}));(b||a.messages!==this.props.messages)&&(this.$4=a.messages.filter(function(a){return a.is_sponsored}));this.setState({readReceipts:y(a)})};d.componentWillUnmount=function(){this.$18(),this.$2&&this.$2.release(),this.$1!=null&&window.clearTimeout(this.$1),b("WorkGalahadScrollToMessageEventEmitter").removeAllListeners("scrollToMessage")};d.UNSAFE_componentWillUpdate=function(a){a=this.$19();a?this.$6={originalScrollHeight:a.getScrollHeight(),originalScrollTop:a.getScrollTop()}:this.$6={originalScrollHeight:0,originalScrollTop:0}};d.componentDidUpdate=function(a,c){__p&&__p();var d=this;if(!this.refs)return;if(!this.refs.scrollable)return;(!this.props.isLoading||!this.props.messages.isEmpty())&&this.$20();c=this.props.threadID!==a.threadID;if(c||z(a,this.props))this.scrollToBottom(),this.$21();else{var e=this.$19();if(e){var f=e.getScrollHeight();if(f!==this.$6.originalScrollHeight){f=e.getScrollHeight()-this.$6.originalScrollHeight+this.$6.originalScrollTop;this.refs.scrollable.scrollToPosition(f)}else this.$21()}}this.props.messages!==a.messages&&(this.$14(),this.state.scrollingToUnreadMessage&&this.$22(!1),this.$23());e=this.props.selectedMessage;this.state.shouldJumpToMessage&&e&&this.$24(e,!0,function(){d.setState({shouldJumpToMessage:!1})});this.$1=b("setTimeout")(function(){var a=d.$19(),b=d.state.unreadCount;d.trackBottomIfRequired();a&&d.state.unreadCount&&!d.state.scrollingToUnreadMessage&&!d.props.isLoading&&d.props.selectedMessage==null&&(d.$25()||(d.$26(a)?d.setState({showUnreadNotice:!1,unreadCount:0}):b==1&&d.props.messages.last().log_message_type!==null?d.setState({showUnreadNotice:!1,unreadCount:0}):d.setState({showUnreadNotice:!0})));d.$13();d.$8()},0);f=a.messages&&a.messages.size||0;e=this.props.messages&&this.props.messages.size||0;(c||f===0&&(e>0||!this.props.isLoading))&&b("EventProfiler").informManualInteractionTimestamp(["MessengerThredRow"],!0,"click")};d.render=function(){__p&&__p();var a=this,c;if(this.props.isLoading&&this.props.messages.isEmpty())return this.$27();var d=this.props.messages.last(),e=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer);this.$28(d);var f=this.$29(d),g=this.$30(d);this.$31(d);e=d&&d.author!==e?f||g:null;f=null;if(Array.isArray(e)){g=e.every(function(b){return b.content_type==="user_birthday"&&a.state.viewerBirthday===null||b.content_type==="user_email"&&a.state.viewerEmail===null||b.content_type==="user_phone_number"&&a.state.viewerPhone===null||b.content_type==="user_state"&&a.state.viewerState===null||b.content_type==="user_zip_code"&&a.state.viewerZipCode===null});if(!g){g=b("MessengerQuickReplyUtils").localizeTitleIfNecessary(e);f=b("React").jsx(b("BootloadOnRender.react"),{component:b("React").jsx(b("LazyComponent.react"),{options:g,threadID:d.thread_id,onVoiceClipCreate:this.props.onVoiceClipCreate,viewer:this.props.viewer,quickCamOriginLocation:b("MessengerQuickCamOrigins").MESSENGER,messageId:d.message_id,pageId:b("MercuryIDs").getUserIDFromParticipantID(d.author),isMessengerAdPreview:this.props.isMessengerAdPreview,isSponsored:d.is_sponsored,useM4QR:this.props.useM4QR,viewerBirthday:this.state.viewerBirthday,viewerEmail:this.state.viewerEmail,viewerPhone:this.state.viewerPhone,viewerState:this.state.viewerState,viewerZipCode:this.state.viewerZipCode}),loader:b("JSResource")("MessengerBotsQuickReplyButtonList.react").__setRef("MessengerConversation.react"),placeholder:b("React").jsx("div",{})})}}e=null;g=null;f&&(e=b("React").jsx("div",{className:"_51op",children:b("React").jsx("div",{className:"_51oq",onResize:this.handleResize})}),g=b("React").jsx("div",{ref:"quickReply",className:"_1mzb",onResize:this.handleResize,children:f}));d=j._("Mensajes");f=j._("Cargar m\u00e1s...");var h=this.$32();return b("cr:1071079")!=null&&b("cr:1071080")!=null&&b("cr:1071080").shouldRenderChatNullState(this.props.messages,this.props.threadID,(c=this.props.contact)==null?void 0:c.user_type,this.props.viewer)?b("React").jsx(b("cr:1071079"),{messageType:b("nullthrows")(b("cr:1071080").getNullStateMessageType(this.props.threadID,this.props.viewer))}):b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("MessengerFlexScrollableArea.react"),{className:this.props.className,flexChildren:this.$33(),footerChildren:g,onMount:function(){return b("setImmediate")(a.$14)},onScroll:this.props.useManualFetch?void 0:this.$7,ref:"scrollable",shouldStickToBottom:!0,tabIndex:0,bottomOffset:this.props.bottomOffset,children:b("React").jsxs("div",{"aria-label":d,className:b("joinClasses")("__i_"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w74":"")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2k":""),this.props.innerClassName),role:"region",children:[b("React").jsx("h3",{className:"accessible_elem",children:d}),this.$34(),this.props.useManualFetch&&!this.props.upExhausted?b("React").jsx("div",{className:"_7fim",children:b("React").jsx(l,{className:"_41jf",label:f,onClick:function(){return a.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP)},type:"primary",use:"default"})}):null,this.$35(),this.$36()&&b("React").jsx(b("FantaPageGreetingLoader.react"),{thread:this.props.thread,threadID:this.props.threadID}),h||b("React").jsx(b("MessageList.react"),{DateBreak:b("MessengerDateBreak.react"),deliveryTimestamp:this.props.deliveryTimestamp,isCanonical:this.props.isCanonical,LogMessage:b("MessengerBootloadedLogMessage.react"),CollapsedLogMessageGroup:b("MessengerCollapsedLogMessageGroup.react"),MessageGroup:b("MessengerMessageGroup.react"),messages:this.props.messages,onAttachmentLoad:this.$37(this.props.threadID),onReplyToMessage:this.props.onReplyToMessage,readReceipts:this.state.readReceipts,ref:"messageList",location:b("MercuryShareAttachmentRenderLocations").MESSENGER,viewer:this.props.viewer,thread:this.props.thread,scrollToRepliedMessage:this.$17}),this.props.useManualFetch&&!this.props.downExhausted?b("React").jsx("div",{className:"_7fim",children:b("React").jsx(l,{className:"_41jf",label:f,onClick:function(){return a.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_DOWN)},type:"primary",use:"default"})}):null,e,b("React").jsx(k,{indicatorClass:n,indicatorsDidShow:function(){a.trackBottomIfRequired()},rootClassName:"clearfix _17pz",threadID:this.props.threadID,viewer:this.props.viewer}),b("gkx")("678591")&&b("React").jsx(b("ErrorBoundary.react"),{project:"omnim",children:b("React").jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("OmniMSuggestionsContainer.react").__setRef("MessengerConversation.react"),placeholder:b("React").jsx("div",{}),component:b("React").jsx(b("LazyComponent.react"),{threadID:this.props.threadID,trackBottom:function(){return a.trackBottomIfRequired()}})})})]})}),this.$38()]})};d.$32=function(){__p&&__p();if(!b("CurrentUser").isWorkUser())return null;if(!this.$39())return null;if(this.state.isLandingPageDismissed===!0)return null;if(this.props.contact&&o(this.props.messages)){var a;return(a=b("React")).jsx(a.Suspense,{fallback:a.jsx(b("MessengerSpinner.react"),{}),children:a.jsx(v,{contact:this.props.contact,threadID:this.props.threadID,onDismiss:this.$40})})}return null};d.$38=function(){var a=this.$19();if(a){a=a.getElement().getBoundingClientRect().height;a=a-74;a+="px";a={top:a}}else a={bottom:"15%"};return this.props.useManualFetch&&!this.props.isSearchResult||this.state.renderScrollToBottom?b("React").jsx(b("Link.react"),{"aria-label":j._("Ir al \u00faltimo mensaje"),style:a,className:"_69xg",onClick:this.$41,children:b("React").jsx(b("Image.react"),{className:"_69xi",src:g("415099")})}):null};d.$29=function(a){var b=null;a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);var c=a&&a.message_classification==="ad_message";c&&Array.isArray(a&&a.quick_replies)&&(b=a&&a.quick_replies);return b};d.$30=function(a){a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);return Array.isArray(a&&a.quick_replies)?a&&a.quick_replies:null};d.$42=function(a){a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);return a&&a.user_input};d.$28=function(a){__p&&__p();var c=b("gkx")("964442");if(c){c=this.$42(a);if(!c){b("MessengerUserInputActionsHandler").updateUserInputRequested(!1,p);return}else c.type==="address_auto_complete"&&b("MessengerUserInputActionsHandler").updateUserInputRequested(!0,c.data.num_results,c.type)}return};d.$13=function(){if(this.props.useManualFetch)return;var a=this.$19();a&&a.getScrollTop()<q&&(this.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP),this.$23())};d.$31=function(a){__p&&__p();var c=this;a=this.$30(a);if(!a)return;var d=b("gkx")("953755");d&&a.some(function(a){return a.content_type==="user_birthday"})&&b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerViewBirthdayQueryWebGraphQLQuery"))({})),function(a){a=(a=a)!=null?(a=a.viewer)!=null?(a=a.user)!=null?a.birthdate:a:a:a;if(a!==null){var b,d;d=(d=a)!=null?d.month:d;b=(b=a)!=null?b.day:b;a=(a=a)!=null?a.year:a;d&&b&&a&&c.setState({viewerBirthday:{day:b,month:d,year:a}})}});d=b("gkx")("989256");d&&a.some(function(a){return a.content_type==="user_state"||a.content_type==="user_zip_code"})&&(!this.state.viewerState||!this.state.viewerZipCode)&&(b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerBusinessUserProfileLocationQueryWebGraphQLQuery"))({})),function(a){a=(a=a)!=null?(a=a.viewer)!=null?(a=a.user)!=null?a.address:a:a:a;if(a!=null){var d,e;e=(e=a)!=null?e.city:e;d=(d=a)!=null?d.country:d;e&&d==="US"&&c.setState({viewerState:b("MessengerQuickReplyUtils").parseStateFromCityAddress(e)});c.setState({viewerZipCode:(d=a)!=null?d.postal_code:d})}}),(!this.state.viewerState||!this.state.viewerZipCode)&&b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerBusinessQuickReplyLocationQueryWebGraphQLQuery"))({})),function(a){__p&&__p();a=(a=a)!=null?a.in_thread_user_fuzzy_location_search:a;if(a!==null){if(!c.state.viewerState){var b;c.setState({viewerState:(b=a)!=null?b.state:b})}if(!c.state.viewerZipCode){c.setState({viewerZipCode:(b=a)!=null?b.zip_code:b})}}}));a.some(function(a){return a.content_type==="user_email"||a.content_type==="user_phone_number"})&&b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerViewerContactMethodsWebGraphQLQuery"))({})),function(a){var b;b=(b=a)!=null?(b=b.viewer)!=null?(b=b.user)!=null?b.all_phones:b:b:b;a=(a=a)!=null?(a=a.viewer)!=null?a.all_emails:a:a;var d=b?b.find(function(a){return a.is_preferred}):null;!d&&b&&(d=b[0]);b=a?a.find(function(a){return a.is_primary}):null;c.setState({viewerEmail:(a=b)!=null?a.display_email:a,viewerPhone:(b=d)!=null?(b=b.phone_number)!=null?b.universal_number:b:b})})};d.isScrolledToBottom=function(){return!!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottom())};d.isScrolledToBottomWithHeight=function(a){return!!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottomWithHeight(a))};d.$33=function(){return b("React").jsx(m,{isOpen:this.state.showUnreadNotice,label:j._({"*":"{number} mensajes no le\u00eddos","_1":"1 mensaje no le\u00eddo"},[j._plural(this.state.unreadCount,"number")]),onClick:this.$43})};d.$34=function(){return!this.props.isLoaded||this.props.hideContextBanner?null:b("React").jsx(b("MessengerContextBannerContainer.react"),{location:b("MercuryShareAttachmentRenderLocations").MESSENGER,thread:this.props.thread,threadID:this.props.threadID,viewer:this.props.viewer})};d.$35=function(){return this.props.isLoaded?null:b("React").jsx("div",{className:"_2k8v",children:this.props.isLoading?b("React").jsx(b("MessengerSpinner.react"),{}):null})};d.$27=function(){return b("React").jsx("div",{className:"_4xu0",children:b("React").jsx(b("MessengerSpinner.react"),{className:"_4xu1",size:b("MessengerSpinner.react").large_size})})};d.trackBottomIfRequired=function(){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.trackBottomIfRequired()};d.scrollToBottom=function(a){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.scrollToBottom(a)};d.scrollToTop=function(a){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.scrollToTop(a)};d.$37=function(a){var b=this;if(x[a])return x[a];var c=function(){if(b.props.threadID!==a)return;b.trackBottomIfRequired()};x[a]=c;return c};d.$21=function(){var a=this;b("DOM").scry(b("ReactDOM").findDOMNode(this),"img").forEach(function(c){if(c.complete)return;var d=a.props.threadID,e=b("Event").listen(c,"load",function(){a.props.threadID===d&&a.trackBottomIfRequired(),e.remove()})})};d.$46=function(){var a=this.props.messages,b=this.state.unreadCount;return!b||b>a.size?null:a.get(a.size-b)};d.$26=function(a){__p&&__p();var b=this,c=this.props.messages,d=this.$46();if(!d)return!1;var e=a.getElement().getBoundingClientRect();return c.filter(function(a){return a&&a.timestamp<=d.timestamp}).some(function(a){a=b.refs.messageList.getMessageElement(a.message_id);if(!a)return!1;a=a.getBoundingClientRect();return a.bottom>e.top&&a.top<e.bottom})};d.$25=function(){__p&&__p();if(u&&this.state.unreadCount<t){this.refs.scrollable&&this.refs.scrollable.overrideTrackBottom(!1);var a=this.refs.messageList.getNewMessageDivider(),c=this.$19();if(!a||!c)return!1;a=a.getBoundingClientRect().top;var d=b("ReactDOM").findDOMNode(this.refs.messageList).getBoundingClientRect().top,e=c.getElement().getBoundingClientRect();if(a<e.top){a=a+Math.abs(d)-e.height*.2;c.setScrollTop(a,!1);this.setState({renderScrollToBottom:!0});return!0}}return!1};d.$22=function(a){__p&&__p();var b=this;if(!this.state.unreadCount)return;this.setState({scrollingToUnreadMessage:!0});var c=this.$46();if(!c){this.scrollToTop(!1);return}this.$24(c.message_id,a,function(){b.setState({scrollingToUnreadMessage:!1,unreadCount:0})})};d.$24=function(a,c,d){this.refs.scrollable&&this.refs.scrollable.overrideTrackBottom(!1);a=this.refs.messageList.getMessageElement(a,!0);var e=this.$19();if(!a||!e)return;a=a.getBoundingClientRect().top;var f=b("ReactDOM").findDOMNode(this.refs.messageList).getBoundingClientRect().top,g=e.getElement().getBoundingClientRect().height;a=a+Math.abs(f)-g/2;e.setScrollTop(a,c,{callback:d})};d.$19=function(){if(!this.refs)return;return this.refs.scrollable&&this.refs.scrollable.getArea()};d.$18=function(){this.$3&&this.$3.unsubscribe(),this.$3=null};d.$47=function(){return this.props.messages.filter(function(a){return b("MessengerAttachmentRenderer").isSingleVideoAttachment(a)||b("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(a)}).reverse().map(function(a){return a.message_id})};d.$44=function(a){__p&&__p();var c=this.refs.messageList;if(!c||!a)return;var d=[];a=a.getElement().getBoundingClientRect();var e=b("MessengerVideoAutoplayStore").getMessageIDs(this.props.threadID),f=e||this.$47()||b("immutable").List();f.map(function(a){var e=b("MessengerAttachmentRenderer").getVideoElem(a,c);e&&d.push([a,e.getBoundingClientRect()])});d.length&&b("MessengerVideoAutoplayActions").onScroll(this.props.threadID,e?null:f,b("immutable").Map(d),a)};d.$48=function(){return this.props.messages.filter(function(a){return b("MessengerAttachmentRenderer").isSingleSphericalPhotoAttachment(a)}).map(function(a){return a.message_id})};d.$45=function(a){__p&&__p();var c=this;b("ifRequired")("MessengerSphericalRendererActions",function(d){__p&&__p();b("ifRequired")("MessengerSphericalRendererStore",function(e){__p&&__p();var f=c.refs.messageList;if(!f||!a)return;var g=[],h=a.getElement().getBoundingClientRect();e=e.getMessageIDs(c.props.threadID);e=e||c.$48()||b("immutable").List();e.map(function(a){var c=b("MessengerAttachmentRenderer").getSphericalPhotoElem(a,f);c&&g.push([a,c.getBoundingClientRect()])});g.length&&d.onScroll(c.props.threadID,e,b("immutable").Map(g),h)},function(){})},function(){})};d.$23=function(){var a=this;b("MessengerVideoAutoplayActions").updateStore(this.props.threadID,this.$47());var c=this.$48();c&&c.count()!==0&&b("ifRequired")("MessengerSphericalRendererActions",function(b){b.updateStore(a.props.threadID,c)},function(){b("Bootloader").loadModules(["MessengerSphericalRendererActions","MessengerSphericalRendererStore"],function(b,d){b.updateStore(a.props.threadID,c)},"MessengerConversation.react")})};d.$36=function(){if(b("CurrentUser").isWorkUser())return!1;return this.props.messages.size!==0?!1:!0};return c}(b("React").PureComponent);c.propTypes={contact:a.instanceOf(b("ImmutableObject")),deliveryTimestamp:a.number.isRequired,downExhausted:a.bool,fetchMessages:a.func.isRequired,hideContextBanner:a.bool,innerClassName:a.string,isCanonical:a.bool,isLoaded:a.bool,isLoading:a.bool,isMessengerAdPreview:a.bool,messages:a.instanceOf(b("immutable").List).isRequired,onVoiceClipCreate:a.func,onReplyToMessage:a.func,readReceipts:a.any,thread:a.object,threadID:a.string.isRequired,upExhausted:a.bool,useM4QR:a.bool,useManualFetch:a.bool,viewer:a.string.isRequired,selectedMessage:a.string,isSearchResult:a.bool};function y(a){__p&&__p();var c=b("MercuryIDs").getParticipantIDFromUserID(a.viewer),d=b("MessengerReadReceipt.bs").getSeenTimestamps(a.readReceipts,a.threadID),e=new Set(a.thread?a.thread.participants:d.keys());e["delete"](c);var f=null;b("immutable").Seq(a.messages).reverse().forEach(function(a){if(a.action_type!=="ma-type:log-message"){f=a;return!1}return!0});return d.withMutations(function(c){__p&&__p();b("immutable").Seq(a.messages).reverse().forEach(function(a){__p&&__p();if(e.size===0)return!1;if(!e.has(a.author))return;c.update(a.author,function(b){if(!b)return void 0;var c=b;b.watermark<=a.timestamp&&(c={watermark:a.timestamp,action:a.timestamp});f&&f.timestamp<c.watermark&&(c={watermark:f.timestamp,action:f.timestamp});return c});e["delete"](a.author)})})}function z(a,c){var d=b("MercuryIDs").getParticipantIDFromUserID(c.viewer);return c.threadID===a.threadID&&c.messages!==a.messages&&!c.messages.isEmpty()&&c.messages.last()!==a.messages.last()&&c.messages.last().author===d}e.exports=c}),null);
__d("MessengerPopoverMenu.react",["cx","ContextualDialogArrow","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","PopoverMenu.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.showPopover=function(){this.refs.menu&&this.refs.menu.showPopover()};d.render=function(){var a=this.props,c=a.children,d=a.className,e=a.isOpen;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","isOpen"]);c=b("React").Children.only(c);return b("React").jsx(b("PopoverMenu.react"),babelHelpers["extends"]({className:b("joinClasses")(d,!a.disableArrowKeyActivation||e?"_150g":""),enableActivationOnEnter:!0,layerBehaviors:[b("ContextualLayerAutoFlip"),b("ContextualLayerUpdateOnScroll"),b("ContextualDialogArrow")]},a,{ref:"menu",children:c}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MercuryParticipantsImageM4React.bs",["bs_curry","React","gkx","bs_caml_option","MessengerParticipants.bs","MessengerFacepileM4React.bs","MessengerProfileImageM4React.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c,d=a.borderColor,e=a.className,f=a.expanded,g=a.isActive,h=a.participants,i=a.size,j=a.storiesRingEligible,k=a.totalParticipants;a=a.hasUnreadStories;var l=(c=b("React")).useRef(!1),m=c.useRef(void 0),n=c.useState(function(){return[]}),o=n[1];n=n[0];c.useEffect(function(){l.current=!0;return function(a){l.current=!1;a=m.current;if(a!==void 0){a=b("bs_caml_option").valFromOption(a).remove;return b("bs_curry")._1(a,0)}else return 0}},[]);c.useEffect(function(){__p&&__p();var a=m.current;if(a!==void 0){a=b("bs_caml_option").valFromOption(a).remove;b("bs_curry")._1(a,0)}h.length!==0?m.current=b("bs_caml_option").some(b("MessengerParticipants.bs").getOrderedBigImageMultiWithSize(h,function(a){var c=a.reduce(function(a,b){b==null||a.push(b);return a},[]);if(l.current)return b("bs_curry")._1(o,function(a){return c});else return 0},i)):b("bs_curry")._1(o,function(a){return[]});return},[f,h,i,o]);c=h.length;if(c!==1){if(c===0)return null}else if(n.length===1){c=n[0];var p=b("gkx")("863504");p=p?g:void 0;g={src:c,size:i};d!==void 0&&(g.borderColor=b("bs_caml_option").valFromOption(d));e!==void 0&&(g.className=b("bs_caml_option").valFromOption(e));p!==void 0&&(g.isActive=b("bs_caml_option").valFromOption(p));j!==void 0&&(g.storiesRingEligible=b("bs_caml_option").valFromOption(j));a!==void 0&&(g.hasUnreadStories=b("bs_caml_option").valFromOption(a));return b("React").createElement(b("MessengerProfileImageM4React.bs").make,g)}c={srcs:n,size:i};d!==void 0&&(c.borderColor=b("bs_caml_option").valFromOption(d));e!==void 0&&(c.className=b("bs_caml_option").valFromOption(e));f!==void 0&&(c.expanded=b("bs_caml_option").valFromOption(f));k!==void 0&&(c.totalParticipants=b("bs_caml_option").valFromOption(k));return b("React").createElement(b("MessengerFacepileM4React.bs").make,c)}c=a;f.make=c}),null);
__d("MercuryParticipantsImageM4React.re",["MercuryParticipantsImageM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MercuryParticipantsImageM4React.bs").make;f.make=a}),null);
__d("MessengerAudioAvailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){var c;return(c=b("React")).createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},c.createElement("g",{id:"phone",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},c.createElement("polygon",{id:"Fill-8",points:"0 36 36 36 36 0 0 0"}),c.createElement("path",{id:"Fill-11",d:"M12.8546683,23.0915802 C10.2003459,20.4371382 8.18827548,17.4933995 7.18895039,14.801598 C6.11677282,11.9134196 6.30082118,9.54827444 7.70754499,8.14106577 C8.38574404,7.46332572 9.22115105,6.9556194 9.80301228,6.64860076 C10.1768605,6.45174482 10.6202062,6.44887101 10.9902201,6.6495587 C12.2608248,7.33735708 14.2542027,9.8624776 14.6055242,11.228016 C14.6980277,11.5867632 14.6266131,11.9694589 14.4094936,12.2774354 L12.8029047,14.5630718 C12.7056083,14.7019726 12.682123,14.8820647 12.7415553,15.0406032 C13.4096892,16.8233229 14.2192144,18.3129141 15.9254961,20.01852 C17.6303399,21.7246049 19.1209399,22.5340612 20.904867,23.2027008 C21.0635129,23.2625718 21.2432476,23.2391024 21.3822424,23.1413929 L23.6205389,21.5679822 C23.9339963,21.3476569 24.313596,21.2868279 24.6572488,21.3696894 C26.1948195,21.7356211 28.7992956,23.6898115 29.3811568,24.9135753 C29.5474713,25.2637011 29.5388441,25.6674713 29.3576715,26.0209499 C29.0993327,26.5267404 28.5534185,27.4875506 27.8018877,28.2395308 C24.2474537,31.7915592 16.8807262,27.1187451 12.8546683,23.0915802",fill:a})))}f.make=a}),null);
__d("MessengerAudioUnavailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){var c;return(c=b("React")).createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},c.createElement("g",{id:"phone-missed",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},c.createElement("polygon",{id:"Fill-4",points:"0 36 36 36 36 0 0 0"}),c.createElement("path",{id:"new",d:"M21.3821106,23.1416542 L23.6204291,21.5682415 C23.9343688,21.3479158 24.313493,21.2866078 24.6571492,21.3694694 C26.194735,21.7354016 28.7997159,23.6900735 29.3811036,24.9138389 C29.5474198,25.2639652 29.5387924,25.667257 29.3580973,26.0212149 C29.0997561,26.5265271 28.5538364,27.4878176 27.8022982,28.2393197 C24.24735,31.7918318 16.8805501,27.1185326 12.8549319,23.0918414 C10.200104,20.437396 8.18849316,17.4931744 7.18915824,14.8013694 C6.11649083,11.9131872 6.3010203,9.54803895 7.70775794,8.14130741 C8.38548436,7.4630875 9.22137889,6.95538051 9.80276654,6.64884044 C10.1766185,6.45150527 10.6199685,6.44911042 10.989986,6.64931941 C12.2610825,7.33759766 14.2544801,9.86224252 14.605805,11.2282617 C14.6978301,11.5865304 14.6264148,11.9692265 14.4097724,12.2776825 L12.8031678,14.5633219 C12.7053911,14.7017439 12.6823849,14.8818362 12.7418177,15.0403749 C13.4099582,16.823097 14.2194914,18.3126901 15.9253105,20.0182982 C17.6306504,21.7243853 19.1212651,22.5343216 20.9047304,23.2029622 C21.0633779,23.2623543 21.2435936,23.2388848 21.3821106,23.1416542 M29.7074342,7.70752502 L25.9144427,11.4999687 L29.7074342,15.2929126 C30.0975219,15.6835613 30.0975219,16.3168024 29.7069347,16.7074511 C29.3163475,17.0975996 28.6835163,17.0975996 28.2929291,16.7069509 L24.4999376,12.9145072 L20.7074455,16.7069509 C20.3168583,17.0975996 19.6835276,17.0975996 19.2929404,16.7074511 C18.9023532,16.3168024 18.9023532,15.6835613 19.2929404,15.2929126 L23.0859319,11.4999687 L19.2929404,7.70752502 C18.9023532,7.31687631 18.9023532,6.68363525 19.2929404,6.29348672 L19.2929404,6.29298653 C19.6835276,5.90233782 20.3168583,5.90233782 20.7074455,6.29298653 L24.4999376,10.0859304 L28.2929291,6.29298653 C28.6835163,5.90233782 29.3163475,5.90233782 29.7069347,6.29298653 L29.7074342,6.29348672 C30.0975219,6.68363525 30.0975219,7.31687631 29.7074342,7.70752502",fill:a})))}f.make=a}),null);
__d("MessengerForeignUserCompanyNameReact.bs",["React","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=a.className;a=a.companyName;if(a!==void 0){var d={};c!==void 0&&(d.className=b("bs_caml_option").valFromOption(c));return b("React").createElement("span",d,a)}else return null}c=a;f.make=c}),null);
__d("MessengerInfoIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){var c;return(c=b("React")).createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},c.createElement("g",{id:"info-circle",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},c.createElement("g",{id:"Group"},c.createElement("polygon",{id:"Fill-8",points:"0 36 36 36 36 0 0 0"}),c.createElement("path",{id:"Fill-17",d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z",fill:a}))))}f.make=a}),null);
__d("MessengerInfoPanelButtonReact.bs",["ix","cx","Image.bs","React","asset","CurrentUser","ReasonReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={height:"32px",width:"32px"};function j(a){var c;return(c=b("React")).createElement("svg",{viewBox:"0 0 64 64"},c.createElement("g",void 0,c.createElement("g",void 0,c.createElement("path",{style:{fill:a},d:"M32,10c-12.2,0-22,9.8-22,22s9.8,22,22,22s22-9.8,22-22S44.2,10,32,10z M32,19c1.6,0,3,1.4,3,3s-1.4,3-3,3 c-1.6,0-3-1.4-3-3S30.4,19,32,19z M36,45h-2h-4h-2v-1h2V29h-2v-1h2h4v1v15h2V45z"}))))}function k(a){var c,d={fill:a};return(c=b("React")).createElement("svg",{style:{stroke:a},viewBox:"0 0 64 64"},c.createElement("g",void 0,c.createElement("polygon",{style:d,points:"34,44 34,29 34,28 30,28 28,28 28,29 30,29 30,44 28,44 28,45 30,45 34,45 36,45 36,44"}),c.createElement("circle",{style:d,cx:"32",cy:"22",r:"3"})),c.createElement("path",{style:{fill:"none",stroke:a,strokeMiterlimit:"10",strokeWidth:"2"},d:"M32,11c11.6,0,21,9.4,21,21s-9.4,21-21,21s-21-9.4-21-21S20.4,11,32,11z"}))}function a(a,c){var d=b("CurrentUser").isWorkUser();if(d)return b("React").createElement("div",{className:"_2phz"},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,c?g("413962"):g("413953"),void 0,void 0,void 0,void 0,[])));else return b("React").createElement("div",{style:i},c?k(a):j(a))}f.svgWrapperStyle=i;f.selected=j;f.notSelected=k;f.make=a}),null);
__d("MessengerPresenceStatusReact.bs",["fbt","React","bs_caml_option"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){var c=a.className,d=a.isUserActive,e=a.lastActive;a=a.platform;var f,h=0;d&&a!==void 0?f=g._("Activo(a) en {platform}",[g._param("platform",a)]):h=1;h===1&&(f=e!==void 0?g._("Activo(a) hace {time}",[g._param("time",e)]):null);d={};c!==void 0&&(d.className=b("bs_caml_option").valFromOption(c));return b("React").createElement("div",d,f)}c=a;f.make=c}),null);
__d("MessengerStoriesRingPresenceMessageQueryContainer.react",["JSResource","MercuryIDs","MercuryParticipantsImageM4React.re","lazyLoadComponent","React","RelayFBEnvironment","RelayModern","MessengerStoriesRingPresenceMessageQueryContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("MercuryParticipantsImageM4React.re").make,i=b("lazyLoadComponent")(b("JSResource")("MessengerStoriesRingPresenceMontageQueryContainer.react").__setRef("MessengerStoriesRingPresenceMessageQueryContainer.react")),j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;function a(a){var c=a.borderColor,d=a.className,e=a.expanded,f=a.isActive,k=a.participants,l=a.size,m=a.storiesRingEligible,n=a.thread,o=a.totalParticipants;a=b("MercuryIDs").getThreadFBIDFromThreadID(n.thread_id);var p=b("React").jsx(h,{borderColor:c,className:d,expanded:e,isActive:f,participants:k,size:l,storiesRingEligible:m,totalParticipants:o});return b("React").jsx(j,{environment:b("RelayFBEnvironment"),query:g||(g=function(){return b("MessengerStoriesRingPresenceMessageQueryContainerQuery.graphql")}),variables:{threadFBID:a},render:function(a){a=a.props;return a?b("React").jsx(b("React").Suspense,{fallback:p,children:b("React").jsx(i,{borderColor:c,className:d,expanded:e,isActive:f,messageThread:a.message_thread,participants:k,size:l,storiesRingEligible:m,totalParticipants:o})}):p}})}e.exports=a}),null);
__d("MessengerThreadImageM4React.bs",["React","MercuryIDs","bs_belt_Option","MessengerStoriesRingPresenceMessageQueryContainer.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.borderColor,d=a.className,e=a.expanded,f=a.isActive,g=a.size,h=a.storiesRingEligible,i=a.thread;a=a.viewer;var j=i.image_src;if(j==null){var k=i.participants,l=b("MercuryIDs").getParticipantIDFromUserID(a);a=b("MercuryIDs").isCanonical(i.thread_id);var m,n=0;if(k.length!==1)n=1;else{var o=k[0];o===l?m=k:n=1}if(n===1){o=k.filter(function(a){return a!==l});n=!a;m=n?o.slice(0,3):o}return b("React").createElement(b("MessengerStoriesRingPresenceMessageQueryContainer.react"),{borderColor:c,className:d,expanded:e,isActive:f,participants:m,size:g,storiesRingEligible:h,thread:i,totalParticipants:k.length})}else return b("React").createElement("div",{className:b("bs_belt_Option").getWithDefault(d,""),style:{backgroundImage:"url("+(String(j)+")"),backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",height:""+(String(g)+"px"),width:""+(String(g)+"px"),backgroundSize:"cover",borderRadius:"50%"}})}c=a;f.make=c}),null);
__d("MessengerProfilePresenceReact.bs",["React","bs_belt_Set","bs_caml_option","ParticipantId.bs","MessengerParticipantUtils.bs","MessengerPresenceProvider.bs","MessengerThreadImageM4React.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.borderColor,d=a.className,e=a.expanded,f=a.size,g=a.storiesRingEligible,h=a.thread,i=a.viewer;a=function(a){a=b("MessengerParticipantUtils.bs").findIntersection(i,a,h).length>0;a={isActive:a,size:f,thread:h,viewer:i};c!==void 0&&(a.borderColor=b("bs_caml_option").valFromOption(c));d!==void 0&&(a.className=b("bs_caml_option").valFromOption(d));e!==void 0&&(a.expanded=b("bs_caml_option").valFromOption(e));g!==void 0&&(a.storiesRingEligible=b("bs_caml_option").valFromOption(g));return b("React").createElement(b("MessengerThreadImageM4React.bs").make,a)};return b("React").createElement(b("MessengerPresenceProvider.bs").make,{subscribeToIDs:b("bs_belt_Set").fromArray(h.participants,b("ParticipantId.bs")),children:a})}c=a;f.make=c}),null);
__d("MessengerRTCGroupCallContactListItem.react",["cx","fbt","ix","FBRTCParticipantCallState","Image.react","Link.react","MessengerContactImageReact.bs","React","RTWebStrings","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerContactImageReact.bs").jsComponent,k=(a={},a[(c=b("FBRTCParticipantCallState")).DISCONNECTED]=(d=b("RTWebStrings")).disconnected,a[c.NO_ANSWER]=d.noAnswer,a[c.REJECTED]=d.noAnswer,a[c.UNREACHABLE]=d.unreachable,a[c.CONNECTION_DROPPED]=d.connectionDropped,a[c.CONTACTING]=d.contacting,a[c.RINGING]=d.ringing,a[c.CONNECTING]=d.connecting,a[c.CONNECTED]=d.connected,a[c.PARTICIPANT_LIMIT_REACHED]=d.participantLimitReached,a[c.IN_ANOTHER_CALL]=d.inAnotherCall,a),l=32;f=function(a){var c=a.isSelected,d=a.onClick,e=a.user,f=a.dataTestID;a=a.participantState;return b("React").jsxs(b("Link.react"),{"aria-checked":c,className:"_4nvn",onClick:o(a)?b("emptyFunction"):d,"data-testid":f,role:"checkbox",children:[b("React").jsx(j,{className:"_4nvr",isMessengerUser:e.isMessengerUser,isPartiesUser:e.isPartiesUser,size:l,src:e.profilePictureUrl}),b("React").jsxs("div",{className:"_4nvs",children:[b("React").jsxs("div",{className:"_4nvt",children:[b("React").jsx("div",{className:"_4nv_",children:e.userName}),b("React").jsx(m,{user:e,participantState:a})]}),b("React").jsx(n,{isSelected:c,participantState:a})]})]})};var m=function(a){var c=a.user;a=a.participantState;if(a){a=k[a.state]||h._("Desconocida");return b("React").jsx("div",{className:"_4nw0",children:a})}return c.vanity?b("React").jsxs("div",{className:"_4nw0",children:["@",c.vanity]}):null},n=function(a){var c=a.isSelected;a=a.participantState;if(o(a))return b("React").jsx("div",{className:"_1j79",children:h._("En la llamada")});else if(c)return b("React").jsx("div",{className:"_1j79",children:b("React").jsx(b("Image.react"),{src:i("86852")})});return null};function o(a){if(!a)return!1;switch(a.state){case b("FBRTCParticipantCallState").CONTACTING:case b("FBRTCParticipantCallState").RINGING:case b("FBRTCParticipantCallState").CONNECTING:case b("FBRTCParticipantCallState").CONNECTED:return!0;default:return!1}}e.exports=f}),null);
__d("MessengerRTCGroupCallContactList.react",["cx","MessengerRTCGroupCallContactListItem.react","MessengerScrollableArea.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.isParticipantSelected,d=a.onClick,e=a.remoteUsers;a=a.participantStates;var f=a===void 0?b("immutable").Map():a;a=e.map(function(a){return b("React").jsx(b("MessengerRTCGroupCallContactListItem.react"),{isSelected:c.get(a.FBID),onClick:function(){return d(a.FBID)},user:a,dataTestID:"RTCPickerDialogContactListItem"+a.FBID,participantState:f.get(a.FBID)},a.FBID)});return b("React").jsx(b("MessengerScrollableArea.react"),{className:"_12zw",children:a})};e.exports=a}),null);
__d("MessengerRTCGroupCallRingParticipantsRow.react",["cx","fbt","React","intlList"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){a=a.names;return b("React").jsxs("div",{className:"_1wsd",children:[b("React").jsx("div",{className:"_1wse",children:h._("Llamar:")}),b("React").jsx("div",{className:"_1wsg",children:b("intlList")(a,b("intlList").CONJUNCTIONS.NONE)})]})};e.exports=a}),null);
__d("MessengerRTCGroupCallThreadRow.react",["cx","fbt","MercuryParticipantsImage.react","MercuryThreadTitle_DEPRECATED.react","MessengerProfileImageWrapperReact.bs","MessengerThreadImageReact.bs","React","RTCCallTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerProfileImageWrapperReact.bs").jsComponent,j=b("MessengerThreadImageReact.bs").jsComponent,k=function(){return b("React").jsx("div",{className:"_1apf",children:h._("Las personas que agregues a este video en grupo ver\u00e1n los mensajes anteriores de la conversaci\u00f3n.")})},l=function(){return b("React").jsx("div",{className:"_1ydy",children:h._("Est\u00e1s a punto de llamar a personas que bloqueaste.")})};a=function(a){var c=a.thread,d=a.displayAddMemberWarning,e=a.displayBlockedMemberWarning,f=a.participants,g=a.viewerID;babelHelpers.objectWithoutPropertiesLoose(a,["thread","displayAddMemberWarning","displayBlockedMemberWarning","participants","viewerID"]);return b("React").jsxs("div",{className:"_5y31",children:[c&&c.image_src?b("React").jsx(j,{className:"_5y32",participants:f,thread:c,viewer:g}):b("React").jsx(i,{className:"_5y32",showBadge:!1,children:b("React").jsx(b("MercuryParticipantsImage.react"),{participants:Object.keys(f.toJS()),size:50})}),b("React").jsxs("div",{className:"_5y34",children:[c&&c.name?b("React").jsx(b("MercuryThreadTitle_DEPRECATED.react"),{className:"_5y37",thread:c,viewer:g}):b("React").jsx(b("RTCCallTitle.react"),{className:"_5y37",participants:f,viewer:g}),d?b("React").jsx(k,{}):null,e?b("React").jsx(l,{}):null]})]})};e.exports=a}),null);
__d("MessengerRTCGroupCallParticipantsPickerDialog.react",["cx","fbt","invariant","FBRTCCore","ImmutableObject","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogHeaderReact.re","MessengerDialogTitleReact.re","MessengerRTCGroupCallContactList.react","MessengerRTCGroupCallRingParticipantsRow.react","MessengerRTCGroupCallThreadRow.react","React","RTCUser","RTWebUserActionLogger","URI","gkx","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("MessengerDialogHeaderReact.re").make,l=b("MessengerDialogTitleReact.re").make;a=b("React").PropTypes;var m=460,n=5;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={isParticipantSelected:d.props.participants.mapEntries(function(a){var b=a[0];a=a[1];return[a.fbid?a.fbid:b,d.props.participants.size<=n]})};d.$3=function(){b("RTWebUserActionLogger").logPreCallClick({mediaType:b("RTWebUserActionLogger").getMediaType(!d.props.hasVideo),callType:"mw",conferenceName:d.props.conferenceName,surface:"group_call_participant_picker_dialog",component:"cancel_button"})};d.$6=function(a){var c=!d.state.isParticipantSelected.get(a);d.setState(function(b){return{isParticipantSelected:b.isParticipantSelected.set(a,c)}});b("RTWebUserActionLogger").logPreCallClick({mediaType:b("RTWebUserActionLogger").getMediaType(!d.props.hasVideo),callType:"mw",conferenceName:d.props.conferenceName,surface:"group_call_participant_picker_dialog",component:c?"participant_row_select":"participant_row_unselect"})};d.$4=function(){var a=d.$2().map(function(a){return a.fbid});b("RTWebUserActionLogger").logPreCallClick({mediaType:b("RTWebUserActionLogger").getMediaType(!d.props.hasVideo),callType:"mw",conferenceName:d.props.conferenceName,surface:"group_call_participant_picker_dialog",component:"start_call_button"});d.props.handleCall?d.props.handleCall(a):b("FBRTCCore").startGroupCall({conferenceName:d.props.conferenceName,hasVideo:d.props.hasVideo,trigger:d.props.trigger,usersToRing:a});d.props.onUnmount()};c=d.props.participants.valueSeq().toArray().map(function(a){var c=a.big_image_src||a.image_src;a.fbid||i(0,1174);return new(b("RTCUser"))({FBID:a.fbid,profileUrl:new(j||(j=b("URI")))(a.href),profilePictureUrl:c,isMessengerUser:!!a.is_messenger_user,isPartiesUser:!!a.is_parties_user,userName:a.name,userShortName:a.short_name,vanity:a.vanity||""})});d.$1=c.sort(function(a,b){return a.userName.localeCompare(b.userName)});return d}var d=c.prototype;d.componentDidMount=function(){var a;(a=b("RTWebUserActionLogger")).logPreCallImpression({mediaType:a.getMediaType(!this.props.hasVideo),callType:"mw",conferenceName:this.props.conferenceName,surface:"group_call_participant_picker_dialog"});a.logImpression({surface:"group_call_participant_picker_dialog",component:"cancel_button"});a.logImpression({surface:"group_call_participant_picker_dialog",component:"start_call_button"})};d.render=function(){var a=this,c,d=this.props,e=d.participants,f=d.thread;d=d.viewerID;var g=this.$2();return(c=b("React")).jsx(b("MessengerDialog.react"),{onToggle:function(){a.props.onUnmount&&a.props.onUnmount()},type:"default",width:m,children:c.jsxs("div",{className:"_2m1r",children:[c.jsxs(k,{children:[c.jsx(b("MessengerDialogCancelButton.react"),{onClick:this.$3,dataTestID:"RTCPickerDialogCancelButton"}),c.jsx(l,{autofocus:!0,children:h._("Llamar a miembros del grupo")}),c.jsx(b("MessengerDialogButton.react"),{label:h._("Llamar"),onClick:this.$4,dataTestID:"RTCPickerDialogCallButton",disabled:g.length===0,type:"primary",use:"default"})]}),c.jsx(b("MessengerRTCGroupCallThreadRow.react"),{displayBlockedMemberWarning:b("gkx")("678352")?this.$5(g):!1,participants:e,thread:f,viewerID:d}),b("React").jsx(b("MessengerRTCGroupCallRingParticipantsRow.react"),{names:g.map(function(a){a=a.name;return a}).sort(function(a,b){return a.localeCompare(b)})}),b("React").jsx(b("MessengerRTCGroupCallContactList.react"),{remoteUsers:this.$1,isParticipantSelected:this.state.isParticipantSelected,onClick:this.$6})]})})};d.$5=function(a){return a.some(function(a){return a.is_messenger_blocked||a.is_facebook_blocked})};d.$2=function(){var a=this;return this.props.participants.filter(function(b,c){return a.state.isParticipantSelected.get(b.fbid?b.fbid:c)}).toArray()};return c}(b("React").Component);c.propTypes={participants:a.instanceOf(b("immutable").Map).isRequired,thread:a.instanceOf(b("ImmutableObject")),viewerID:a.string.isRequired,trigger:a.string.isRequired,conferenceName:a.string.isRequired,hasVideo:a.bool.isRequired,handleCall:a.func,onUnmount:a.func.isRequired};e.exports=c}),null);
__d("MessengerRTCGroupCallParticipantsPickerDialogController",["DOM","MessengerRTCGroupCallParticipantsPickerDialog.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={_container:b("DOM").create("div"),render:function(a){var c=this,d=a.participants,e=a.thread,f=a.viewerID,g=a.trigger,h=a.conferenceName,i=a.hasVideo;a=a.handleCall;b("ReactDOM").render(b("React").jsx(b("MessengerRTCGroupCallParticipantsPickerDialog.react"),{participants:d,thread:e,viewerID:f,trigger:g,conferenceName:h,hasVideo:i,handleCall:a,onUnmount:function(){return c._onUnmount()}}),this._container)},_onUnmount:function(){b("ReactDOM").unmountComponentAtNode(this._container)}};e.exports=a}),null);
__d("MessengerRTCUnavailableDialog.react",["fbt","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","MessengerDialogs.bs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDialogBodyReact.bs").jsComponent,i=b("MessengerDialogHeaderReact.re").make;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs(b("MessengerDialog.react"),{onToggle:this.$1,children:[a.jsx(i,{children:g._("No se puede llamar")}),a.jsx(h,{children:this.$2()}),a.jsx(b("MessengerDialogFooter.react"),{children:a.jsx(b("MessengerDialogButton.react"),{action:"cancel",label:g._("Aceptar"),type:"primary"})})]})};d.$2=function(){return b("React").jsx("div",{children:g._("{name} no est\u00e1 disponible en este momento.",[g._param("name",this.props.name)])})};d.$1=function(a){a||b("MessengerDialogs.bs").removeDialog()};return c}(b("React").Component);c.propTypes={name:a.string.isRequired};e.exports=c}),null);
__d("MessengerRTCGroupCallUnsupportedBrowserDialog.react",["fbt","CurrentUser","Link.react","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","React","XWorkplaceMarketingDefaultController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDialogBodyReact.bs").jsComponent,i=b("MessengerDialogHeaderReact.re").make;a=function(a){var c,d=a.browserName,e=a.hasVideo,f=a.onUnmount;a=a.hideDialog;return(c=b("React")).jsxs(b("MessengerDialog.react"),{onToggle:f,children:[c.jsx(i,{children:j(e)}),c.jsx(h,{children:k(d,e,a)}),c.jsx(b("MessengerDialogFooter.react"),{children:c.jsx(b("MessengerDialogButton.react"),{label:g._("Aceptar"),onClick:a,type:"primary"})})]})};function j(a){return a?g._("Cambia de navegador para hacer videochats en grupo"):g._("Cambia de navegador para hacer llamadas en grupo")}function k(a,c,d){return b("CurrentUser").isWorkUser()?g._({"video call":"Lamentablemente, nuestra funci\u00f3n de llamada en grupo de Workplace Chat a\u00fan no est\u00e1 disponible en {browser name, i.e. Internet Explorer or Safari}. Para realizar una videollamada en grupo, abre {link to install chrome} o la app {link to install Workplace chat desktop}.","call":"Lamentablemente, nuestra funci\u00f3n de llamada en grupo de Workplace Chat a\u00fan no est\u00e1 disponible en {browser name, i.e. Internet Explorer or Safari}. Para realizar una llamada en grupo, abre {link to install chrome} o la app {link to install Workplace chat desktop}."},[g._param("browser name, i.e. Internet Explorer or Safari",a),g._enum(c?"video call":"call",{"video call":"video call",call:"call"}),g._param("link to install chrome",l(d)),g._param("link to install Workplace chat desktop",m(d))]):g._({"video call":"Lamentablemente, nuestra funci\u00f3n de llamada en grupo a\u00fan no est\u00e1 disponible en {browser name, i.e. Internet Explorer or Safari}. Para realizar una videollamada en grupo, abre {link to install chrome}.","call":"Lamentablemente, nuestra funci\u00f3n de llamada en grupo a\u00fan no est\u00e1 disponible en {browser name, i.e. Internet Explorer or Safari}. Para realizar una llamada en grupo, abre {link to install chrome}."},[g._param("browser name, i.e. Internet Explorer or Safari",a),g._enum(c?"video call":"call",{"video call":"video call",call:"call"}),g._param("link to install chrome",l(d))])}function l(a){return b("React").jsx(b("Link.react"),{onClick:a,href:"https://www.google.com/chrome/index.html",target:"_blank",children:"Google Chrome"})}function m(a){var c=b("XWorkplaceMarketingDefaultController").getURIBuilder().setString("path","chat-app").setString("ref","rtc_unsupported_dialog").getURI();return b("React").jsx(b("Link.react"),{onClick:a,href:c,target:"_blank",children:"Workplace Chat"})}e.exports=a}),null);
__d("MessengerRTCUnsupportedBrowserDialog.react",["cx","fbt","CurrentUser","FBRTCConfig","Link.react","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","React","XWorkplaceMarketingDefaultController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerDialogBodyReact.bs").jsComponent,j=b("MessengerDialogHeaderReact.re").make;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props,d=c.browserName,e=c.hasVideo,f=c.onUnmount;c=c.hideDialog;return(a=b("React")).jsxs(b("MessengerDialog.react"),{onToggle:f,children:[a.jsx(j,{children:h._("Cambia de navegador para llamar")}),a.jsx(i,{children:this.$1(d,e)}),a.jsxs(b("MessengerDialogFooter.react"),{children:[a.jsx("span",{className:"_30vt",children:a.jsx(b("MessengerDialogButton.react"),{label:h._("M\u00e1s informaci\u00f3n"),onClick:c,type:"secondary",href:b("FBRTCConfig").unsupportedBrowserUrl(),target:"_blank",use:"default"})}),a.jsx(b("MessengerDialogButton.react"),{label:h._("Aceptar"),onClick:c,type:"primary",use:"default"})]})]})};d.$1=function(a,c){if(b("CurrentUser").isWorkUser())return h._({"video calling":"Lamentablemente, {browser name, i.e. Internet Explorer or Safari} a\u00fan no admite nuestra funci\u00f3n de videollamada. Para realizar una viodellamada, abre Workplace Chat en {link to install chrome} o {link to install firefox} o la app {link to install Workplace chat desktop}.","calling":"Lamentablemente, {browser name, i.e. Internet Explorer or Safari} a\u00fan no admite nuestra funci\u00f3n de llamada. Para realizar una llamada, abre Workplace Chat en {link to install chrome}, {link to install firefox} o la app de {link to install Workplace chat desktop}."},[h._param("browser name, i.e. Internet Explorer or Safari",a),h._enum(c?"video calling":"calling",{"video calling":"video calling",calling:"calling"}),h._param("link to install chrome",this.$2()),h._param("link to install firefox",this.$3()),h._param("link to install Workplace chat desktop",this.$4())]);else return h._({"video calling":"Lamentablemente, {browser name, i.e. Internet Explorer or Safari} a\u00fan no admite nuestra funci\u00f3n de videollamada. Para realizar una llamada, abre Messenger en {link to install chrome} o {link to install firefox}.","calling":"Lamentablemente, {browser name, i.e. Internet Explorer or Safari} a\u00fan no admite nuestra funci\u00f3n de llamada. Para llamar a alguien, abre Messenger en {link to install chrome} o {link to install firefox}."},[h._param("browser name, i.e. Internet Explorer or Safari",a),h._enum(c?"video calling":"calling",{"video calling":"video calling",calling:"calling"}),h._param("link to install chrome",this.$2()),h._param("link to install firefox",this.$3())])};d.$2=function(){return b("React").jsx(b("Link.react"),{onClick:this.props.hideDialog,href:"https://www.google.com/chrome/index.html",target:"_blank",children:"Google Chrome"})};d.$3=function(){return b("React").jsx(b("Link.react"),{onClick:this.props.hideDialog,href:"https://www.mozilla.org/en-US/firefox/new/",target:"_blank",children:"Mozilla Firefox"})};d.$4=function(){var a=b("XWorkplaceMarketingDefaultController").getURIBuilder().setString("path","chat-app").setString("ref","rtc_unsupported_dialog").getURI();return b("React").jsx(b("Link.react"),{onClick:this.props.hideDialog,href:a,target:"_blank",children:"Workplace Chat"})};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerRTCUnsupportedBrowserDialogController",["fbt","MessengerDialogs.bs","MessengerRTCGroupCallUnsupportedBrowserDialog.react","MessengerRTCUnsupportedBrowserDialog.react","React","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={_dialog:null,_handleToggle:function(a){a||b("MessengerDialogs.bs").removeAllDialogs()},hideDialog:function(){b("MessengerDialogs.bs").removeAllDialogs()},_browserName:function(){if(b("UserAgent").isBrowser("Firefox"))return g._("Firefox");else if(b("UserAgent").isBrowser("IE"))return g._("Internet Explorer");else if(b("UserAgent").isBrowser("Safari"))return g._("Safari");else return g._("tu navegador")},render:function(a){var c=this,d=a.hasVideo,e=a.isGroupCall;b("MessengerDialogs.bs").showDialog(function(){return e?b("React").jsx(b("MessengerRTCGroupCallUnsupportedBrowserDialog.react"),{browserName:c._browserName(),hasVideo:d,hideDialog:c.hideDialog,onUnmount:c._handleToggle}):b("React").jsx(b("MessengerRTCUnsupportedBrowserDialog.react"),{browserName:c._browserName(),hasVideo:d,hideDialog:c.hideDialog,onUnmount:c._handleToggle})})},dismiss:b("MessengerDialogs.bs").removeAllDialogs};e.exports=a}),null);
__d("MessengerRTCInvokeHandler",["invariant","MercuryIDs","MercuryThreadIDMap","MessengerDialogs.bs","MessengerRTCUnavailableDialog.react","MNRTCCallabilityStore","React","FBRTCLogger","RTWebUserActionLogger","nullthrows","qex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MercuryThreadIDMap").get(),i=b("FBRTCLogger").Trigger;a={isCallable:function(a,c){var d;if(b("MercuryIDs").isGroupChat(a))d=!0;else{a=b("MercuryIDs").getUserIDFromThreadID(a);d=a!=null?b("MNRTCCallabilityStore").isCallable(a,c):!1}return d},handleStartCall:function(a,c,e,f,k,l,m,n){__p&&__p();m?b("MercuryIDs").isGroupChat(a)?(b("RTWebUserActionLogger").logPreCallClick({conferenceName:c.thread_fbid!=null?"GROUP:"+c.thread_fbid:null,surface:"messenger_header",component:b("RTWebUserActionLogger").getAudioVideoComponent(!e),callType:"mw",mediaType:b("RTWebUserActionLogger").getMediaType(!e)}),d(["FBRTCCore","FBRTCSupport","MessengerRTCUnsupportedBrowserDialogController","MessengerRTCGroupCallParticipantsPickerDialogController"],function(d,g,l,m){__p&&__p();var n=c.rtc_call_data,o=b("MercuryIDs").isGroupChat(a)&&k.size===1;if(n&&(n.call_state!=="NO_ONGOING_CALL"&&n.server_info_data||o)){d.startGroupCall({conferenceName:"GROUP:"+b("nullthrows")(c.thread_fbid),hasVideo:e,serverInfoData:n.server_info_data,trigger:o?e?i.MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:i.MULTIWAY_THREAD_HEADER_AUDIO_BUTTON:n.call_state!=="AUDIO_GROUP_CALL"?e?i.MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_VIDEO_BUTTON:i.MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_AUDIO_BUTTON:e?i.MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_VIDEO_BUTTON:i.MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_AUDIO_BUTTON});return}if(!g.isGroupCallWebtrcSupported()){j(a,c,e);l.render({hasVideo:e,isGroupCall:!0});return}if(k.size>0){o=b("qex")._("1006758")||0;n=k.filter(function(a){a=a.fbid;return a!==f}).toArray().map(function(a){a=a.fbid;return a});if(n.length<o){d.startGroupCall({conferenceName:"GROUP:"+b("nullthrows")(c.thread_fbid),hasVideo:e,trigger:e?i.MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:i.MULTIWAY_THREAD_HEADER_AUDIO_BUTTON,usersToRing:n});return}}var p=function(a){m.render({participants:k.filter(function(a){a=a.fbid;return a!==f}),thread:c,viewerID:f,trigger:e?i.MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:i.MULTIWAY_THREAD_HEADER_AUDIO_BUTTON,conferenceName:"GROUP:"+a,hasVideo:e})};b("MercuryIDs").isLocalThread(a)?h.getServerIDFromClientID(a,function(a){return p(a)}):p(b("MercuryIDs").getThreadFBIDFromThreadID(a))})):d(["FBRTCCore","FBRTCSupport","MessengerRTCUnsupportedBrowserDialogController"],function(d,f,h){if(!f.isWebrtcSupported()){j(a,c,e);h.render({hasVideo:e,isGroupCall:!1});return}f=b("MercuryIDs").getUserIDFromThreadID(a);f!=null||g(0,2744);h=e?"messenger_dot_com_video_call":"messenger_dot_com_audio_call";d.startOutgoingCall(f,h,!e,!1,n)}):(j(a,c,e),b("MessengerDialogs.bs").showDialog(function(){return b("React").jsx(b("MessengerRTCUnavailableDialog.react"),{name:l})}))}};function j(a,c,d){b("RTWebUserActionLogger").logError({callType:b("MercuryIDs").isGroupChat(a)?"mw":"p2p",conferenceName:c.thread_fbid!=null?"GROUP:"+c.thread_fbid:null,mediaType:b("RTWebUserActionLogger").getMediaType(!d),errorDomain:"unsupported browser"})}e.exports=a}),null);
__d("MessengerVideoAvailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){var c;return(c=b("React")).createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},c.createElement("g",{id:"camcorder",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},c.createElement("polygon",{id:"Fill-8",points:"0 36 36 36 36 0 0 0"}),c.createElement("path",{id:"original",d:"M20,27 L9,27 C6.791,27 5,25.209 5,23 L5,13 C5,10.791 6.791,9 9,9 L20,9 C22.209,9 24,10.791 24,13 L24,23 C24,25.209 22.209,27 20,27 M30.5525,23.3995 L26.829,21.536 C26.321,21.282 26,20.762 26,20.193 L26,15.808 C26,15.2395 26.321,14.719 26.829,14.465 L30.5525,12.6015 C31.218,12.269 32,12.753 32,13.497 L32,22.504 C32,23.2485 31.218,23.732 30.5525,23.3995",fill:a})))}f.make=a}),null);
__d("MessengerVideoUnavailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){var c;return(c=b("React")).createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},c.createElement("g",{id:"camcorder-cross",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},c.createElement("polygon",{id:"Fill-1",points:"0 36 36 36 36 0 0 0"}),c.createElement("path",{id:"original",d:"M6.52219159,23.73575 C6.00847773,24.24975 5.008035,24.00175 5.008035,23.01175 L5.008035,13.00725 C5.008035,10.79725 6.79803794,9.00525 9.00680761,9.00525 L19.1191748,9.00575 C19.9062364,9.00575 20.3005168,9.95775 19.7438269,10.51425 L6.52219159,23.73575 Z M27.1966755,8.70725 L24.589128,11.31625 C24.2143368,11.69125 24.0039539,12.19925 24.0039539,12.72875 L24.0019551,23.01175 C24.0019551,25.22175 22.2149504,27.00675 20.0061808,27.00675 L9.73590149,27.00675 C9.20569683,27.00675 8.69698019,27.21725 8.32218896,27.59225 L5.20642449,30.70925 C4.81614189,31.10025 4.18249484,31.10025 3.79271195,30.70925 C3.40242935,30.31875 3.40242935,29.68575 3.79271195,29.29525 L25.782963,7.29325 C26.1727459,6.90225 26.8063929,6.90225 27.1966755,7.29325 C27.5869581,7.68375 27.5869581,8.31725 27.1966755,8.70725 Z M30.5533058,23.41125 L26.8308793,21.54725 C26.3226624,21.29275 26.0018411,20.77225 26.0018411,20.20375 L26.0018411,15.81625 C26.0018411,15.24725 26.3226624,14.72725 26.8308793,14.47275 L30.5533058,12.60875 C31.2179356,12.27575 32,12.75975 32,13.50425 L32,22.51575 C32,23.25975 31.2179356,23.74425 30.5533058,23.41125 Z",fill:a})))}f.make=a}),null);
__d("RTWebLoggingComponent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUDIO_CALL:"audio_button",VIDEO_CALL:"video_button",START_CALL:"start_call_button",END_CALL:"end_call_button",JOIN_CALL:"join_call_button",CANCEL:"cancel_button",CALL_BACK:"call_back",CALL_AGAIN:"call_again",CHAT_PANEL_MESSAGE:"chat_panel_message",REDIAL:"redial",SCREENSHARING:"screensharing",SCREENSHARING_POP_OUT:"screensharing_pop_out_button",TOGGLE_VIDEO:"toggle_video",TOGGLE_AUDIO:"toggle_audio",TOGGLE_CHAT:"toggle_chat",TOGGLE_CAMERA:"toggle_camera",CLOSE_CHAT:"close_chat",TOGGLE_FILTERS:"toggle_filters",SCROLL_FILTERS:"scroll_filters",VIDEO_FILTER_OPTION:"video_filter_option",ADD_PARTICIPANT:"add_participant",FULLSCREEN:"fullscreen",FULLSCREEN_ENABLE:"fullscreen_enable",FULLSCREEN_DISABLE:"fullscreen_disable",CLOSE_WINDOW:"close_window",ACCEPT:"accept_button",DECLINE:"decline_button",NOT_NOW:"rating_not_now",SELF_VIEW:"self_view",SELF_VIEW_MINIMIZE:"self_view_minimize",SELF_VIEW_UNMINIMIZE:"self_view_unminimize",PARTICIPANT_ROW_SELECT:"participant_row_select",PARTICIPANT_ROW_UNSELECT:"participant_row_unselect",STAR_RATING:"star_rating",SUBMIT_FEEDBACK:"submit_feedback",SETTINGS:"settings",CLOSE_DIALOG:"close_dialog",INCOMING_RING_TONE:"incoming_ring_tone",FREE_CALL:"free_call",VIDEO_ESCALATE:"video_escalate",VIDEO_ESCALATE_ACCEPT:"video_escalate_accept",VIDEO_ESCALATE_DECLINE:"video_escalate_decline",RECENT_CALLS:"recent_calls",MESSAGE:"message",SAVE:"save_button",WINDOW_RESIZE:"window_resize",POOR_NETWORK_TOOLTIP:"poor_network_tooltip",VIDEO_LAYOUT_SWITCH:"video_layout_switch",MWEB_ROSTER_ROW:"mweb_roster_row",BANNER:"banner"})}),null);
__d("MessengerRTCVideoCallButtonReact.bs",["ix","cx","fbt","Image.bs","React","asset","CurrentUser","ReasonReact.bs","RTWebUserActionLogger","MessengerDotComAndInboxM4Check.bs","MessengerVideoAvailableIconSVGM4React.bs","MessengerVideoUnavailableIconSVGM4React.bs","VideoCallWebDriverIDs","RTWebLoggingComponent","RTWebLoggingSurface"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={height:"32px",width:"32px"},k=b("ReasonReact.bs").statelessComponent("MessengerRTCVideoCallButtonReact");function l(a,c,d,e){__p&&__p();return[k[0],k[1],k[2],k[3],function(a){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(d),component:b("RTWebLoggingComponent").AUDIO_CALL,surface:b("RTWebLoggingSurface").MESSENGER_HEADER});return 0},k[5],k[6],k[7],function(e){__p&&__p();e=d?i._("Iniciar un videochat en grupo"):i._("Inicia un videochat");var f=b("React").createElement("div",{"aria-label":e,className:"_2phz"},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("470488"),void 0,e,void 0,void 0,[]))),h;if(b("MessengerDotComAndInboxM4Check.bs").yes)h=b("React").createElement("div",{"aria-label":e,style:j,title:e},c?b("MessengerVideoAvailableIconSVGM4React.bs").make(a):b("MessengerVideoUnavailableIconSVGM4React.bs").make(a));else{var k=c?a:"#888888";k={clipRule:"evenodd",fill:"none",fillRule:"evenodd",stroke:k,strokeMiterlimit:"10",strokeWidth:"2"};h=b("React").createElement("div",{"aria-label":e,style:j,title:e},b("React").createElement("svg",{style:k,viewBox:"0 0 64 64"},b("React").createElement("title",void 0,e),b("React").createElement("g",void 0,b("React").createElement("g",void 0,b("React").createElement("path",{d:"M47,27.8v7.5l9,4.5V23.2L47,27.8z M37.2,17H13.8C10.6,17,8,19.6,8,22.8v17.4c0,3.2,2.6,5.8,5.8,5.8h23.3\nc3.2,0,5.8-2.6,5.8-5.8V22.8C43,19.6,40.4,17,37.2,17z"})))))}k=b("VideoCallWebDriverIDs").START_VIDEO_CALL;e=b("CurrentUser").isWorkUser();return b("React").cloneElement(e?f:h,{"data-testid":k})},k[9],k[10],k[11],k[12]]}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return l(a.customColor,a.isAvailable,a.isGroupChat,[])});f.videoCallWebDriverIDs=b("VideoCallWebDriverIDs");f.rtWebLoggingComponent=b("RTWebLoggingComponent");f.rtWebLoggingSurface=b("RTWebLoggingSurface");f.svgWrapperStyle=j;f.component=k;f.make=l;f.jsComponent=a}),null);
__d("MessengerRTCVoiceCallButtonReact.bs",["ix","cx","fbt","Image.bs","React","asset","CurrentUser","ReasonReact.bs","RTWebUserActionLogger","MessengerDotComAndInboxM4Check.bs","MessengerAudioAvailableIconSVGM4React.bs","MessengerAudioUnavailableIconSVGM4React.bs","VideoCallWebDriverIDs","RTWebLoggingComponent","RTWebLoggingSurface"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={height:"32px",width:"32px"},k=b("ReasonReact.bs").statelessComponent("MessengerRTCVoiceCallButtonReact");function l(a,c,d,e){__p&&__p();return[k[0],k[1],k[2],k[3],function(a){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(d),component:b("RTWebLoggingComponent").VIDEO_CALL,surface:b("RTWebLoggingSurface").MESSENGER_HEADER});return 0},k[5],k[6],k[7],function(e){__p&&__p();e=d?i._("Iniciar una llamada en grupo"):i._("Iniciar una llamada de voz");var f=b("React").createElement("div",{"aria-label":e,className:"_2phz"},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("470545"),void 0,e,void 0,void 0,[]))),h;if(b("MessengerDotComAndInboxM4Check.bs").yes)h=b("React").createElement("div",{"aria-label":e,style:j,title:e},c?b("MessengerAudioAvailableIconSVGM4React.bs").make(a):b("MessengerAudioUnavailableIconSVGM4React.bs").make(a));else{var k=c?a:"#888888";k={clipRule:"evenodd",fill:"none",fillRule:"evenodd",stroke:k,strokeMiterlimit:"10",strokeWidth:"2"};h=b("React").createElement("div",{"aria-label":e,style:j,title:e},b("React").createElement("svg",{style:k,viewBox:"0 0 64 64"},b("React").createElement("title",void 0,e),b("React").createElement("path",{d:"M48.3,50.5c-7.7,6.5-24.2-10-24.5-10.3C23.5,39.9,7,23.4,13.5,15.7c4.8-5.7,6.3-3.4,7-2.7\nc0.6,0.5,5.7,7.8,6,9.2c0.3,1.4-2.4,4.6-2.2,5.9c0.2,1.2,3.6,5,5.1,6.5c1.5,1.5,5.3,4.9,6.5,5.1c1.2,0.2,4.4-2.5,5.9-2.2\nc1.4,0.3,8.7,5.4,9.2,6C51.6,44.2,54,45.7,48.3,50.5z"})))}k=b("VideoCallWebDriverIDs").START_VOICE_CALL;e=b("CurrentUser").isWorkUser();return b("React").cloneElement(e?f:h,{"data-testid":k})},k[9],k[10],k[11],k[12]]}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return l(a.customColor,a.isAvailable,a.isGroupChat,[])});f.videoCallWebDriverIDs=b("VideoCallWebDriverIDs");f.rtWebLoggingComponent=b("RTWebLoggingComponent");f.rtWebLoggingSurface=b("RTWebLoggingSurface");f.svgWrapperStyle=j;f.component=k;f.make=l;f.jsComponent=a}),null);
__d("MessengerRTCCallButton.react",["ImmutableObject","Link.react","MercuryIDs","MessengerRTCInvokeHandler","MessengerRTCVideoCallButtonReact.bs","MessengerRTCVoiceCallButtonReact.bs","MNRTCCallabilityStore","React","StoreAndPropBasedStateMixin","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("MessengerRTCVideoCallButtonReact.bs").jsComponent,h=b("MessengerRTCVoiceCallButtonReact.bs").jsComponent;a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerRTCCallButton",mixins:[b("StoreAndPropBasedStateMixin")(b("MNRTCCallabilityStore"))],statics:{calculateState:function(a){return{isCallable:b("MessengerRTCInvokeHandler").isCallable(a.threadID,a.thread)}}},propTypes:{className:a.string.isRequired,customColor:a.string.isRequired,isVideo:a.bool.isRequired,participants:a.instanceOf(b("immutable").Map).isRequired,thread:a.instanceOf(b("ImmutableObject")).isRequired,threadID:a.string.isRequired,viewer:a.string.isRequired,calleeName:a.string.isRequired,isCalleeActive:a.bool},render:function(){var a={customColor:this.props.customColor,isAvailable:this.state.isCallable,isGroupChat:b("MercuryIDs").isGroupChat(this.props.threadID)};return b("React").jsx(b("Link.react"),{className:this.props.className,onClick:this._handleStartCall,role:"button",children:this.props.isVideo?b("React").jsx(g,babelHelpers["extends"]({},a)):b("React").jsx(h,babelHelpers["extends"]({},a))})},_handleStartCall:function(a){a.preventDefault(),b("MessengerRTCInvokeHandler").handleStartCall(this.props.threadID,this.props.thread,this.props.isVideo,this.props.viewer,this.props.participants,this.props.calleeName,this.state.isCallable,this.props.isCalleeActive)}});e.exports=c}),null);
__d("MessengerRTCCallButtonReact.bs",["ReasonReact.bs","MessengerRTCCallButton.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){return b("ReasonReact.bs").wrapJsForReason(b("MessengerRTCCallButton.react"),{className:a,customColor:c,isVideo:d,participants:e,thread:f,threadID:g,viewer:h,calleeName:i,isCalleeActive:j},k)}f.make=a}),null);
__d("MessengerWebDriverTestIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ANIMATED_IMAGE:"animated_image",ATTACHMENT_ROOT:"attachment_root",CHAT_SIDEBAR:"chat_sidebar",INFO_PANEL:"info_panel",SSO_LOGIN_BUTTON:"sso_login_button",INFO_PANEL_BUTTON:"info_panel_button",STICKER:"sticker",SIDEBAR_ITEM:"sidebar_item",DESKTOP_LOGIN_VIEW:"XMessengerDotComLoginViewPlaceholder",CHAT_INPUT:"chat_input:plaintext",CHAT_INPUT_RICH:"chat_input:rich-input"})}),null);
__d("MontageThreadViewContainer.react",["CurrentUser","JSResource","React","gkx","immutable","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("lazyLoadComponent")(b("JSResource")("MessengerStateMontageThreadView.react").__setRef("MontageThreadViewContainer.react")),h=b("lazyLoadComponent")(b("JSResource")("MontageThreadViewContainerImpl.react").__setRef("MontageThreadViewContainer.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();if(b("gkx")("678586")&&!this.props.shouldUseRelay){var a=b("CurrentUser").getID();if(this.props.montageData!=null&&this.props.participants!=null){var c=this.props.montageData,d=this.props.participants;d=Array.from(d.values()).map(function(a){return a.fbid!=null?a.fbid:""}).filter(function(b){return b!==a});var e=d.length===0;e=e?c[a]:c[d[0]];return b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(g,{montageData:e?e:[]})})}return b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(g,{montageData:[]})})}return b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(h,babelHelpers["extends"]({},this.props))})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MontageThreadViewContainerReact.bs",["ReasonReact.bs","bs_js_null_undefined","MontageThreadViewContainer.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){return b("ReasonReact.bs").wrapJsForReason(b("MontageThreadViewContainer.react"),{threadID:a,montageData:c,onResize:b("bs_js_null_undefined").fromOption(f),participants:d,shouldUseRelay:e},g)}f.make=a}),null);
__d("WorkChatDoNotDisturbStatusReact.bs",["ReasonReact.bs","WorkChatDoNotDisturbStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){var g=b("WorkChatDoNotDisturbStatus").component;if(g==null){var h=b("ReasonReact.bs").statelessComponent("WorkChatDoNotDisturbStatusReact.re");return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(a){return null},h[9],h[10],h[11],h[12]]}else return b("ReasonReact.bs").wrapJsForReason(g,{className:a,thread:c,isDoNotDisturb:d,description:e},f)}f.make=a}),null);
__d("messengerCalculateTruncationState",["Style"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){__p&&__p();if(!e||!c)return;f=f?f.offsetWidth:0;e=Math.ceil(.5*(a.offsetWidth+e.offsetWidth));var g=a.offsetWidth-d.offsetWidth-12;if(e<=g)b("Style").set(a,"text-align","center"),b("Style").set(c,"width","auto"),b("Style").set(c,"margin-left","auto");else{document.body.dir==="rtl"?b("Style").set(a,"text-align","right"):(b("Style").set(a,"text-align","left"),b("Style").set(c,"margin-left",f+"px"));e=Math.max(a.offsetWidth-f-d.offsetWidth-11,0);b("Style").set(c,"width",e+"px")}}e.exports=a}),null);
__d("MessengerDetailViewHeaderReact.bs",["cx","fbt","FBID.bs","bs_curry","Event","React","gkx","Bootload.bs","ReactDOM","debounce","LinkReact.bs","Bootloader","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","FBRTCSupport","MercuryConfig","MessengerDomIDs.bs","bs_js_null_undefined","MercuryThreadInfo","MessageRequestUtils","MessagingThreadType","WorkForeignEntityInfo.bs","MercuryParticipantTypes","MercuryThreadTitleReact.bs","MessengerLocalTimeReact.bs","MessengerCustomColorUtils.bs","MessengerJoinableModeType","MessengerWebDriverTestIDs","MessengerInfoIconSVGM4React.bs","MessengerRTCCallButtonReact.bs","MessengerThreadImageM4React.bs","MessengerPresenceStatusReact.bs","MessengerInfoPanelButtonReact.bs","MessengerProfilePresenceReact.bs","MessengerDotComAndInboxM4Check.bs","MontageThreadViewContainerReact.bs","WorkChatDoNotDisturbStatusReact.bs","messengerCalculateTruncationState","MessengerForeignUserCompanyNameReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){b("Bootloader").loadModules(["BootloadableMessengerUserControlsButtonReact.bs"],a,"MessengerDetailViewHeaderReact.bs");return 0}c={doLoad:a};var i=b("Bootload.bs").Create(c);function j(a){var c,d=(c=b("bs_js_null_undefined")).fromOption(a[0][0]),e=c.fromOption(a[1][0]),f=c.fromOption(a[2][0]),g=c.fromOption(a[3][0]);c=c.fromOption(a[4][0]);return b("messengerCalculateTruncationState")(d,e,f,g,c)}function k(a,c){c[1][3][0]=a==null?void 0:b("bs_caml_option").some(b("ReactDOM").findDOMNode(a));return 0}function l(a,c){c[1][1][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function m(a,c){c[1][0][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function n(a,c){c[1][2][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function o(a,c){c[1][4][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function p(a,c,d,e){if(a.has_montage&&b("MercuryConfig").MontageThreadViewer&&!b("gkx")("686397"))return b("React").createElement("div",{ref:b("bs_curry")._1(e[0],o),className:"_1cwz"},b("ReasonReact.bs").element(void 0,void 0,b("MontageThreadViewContainerReact.bs").make(a.thread_id,c,d,!1,void 0,[])));else return null}function q(a,c,d,e){__p&&__p();if(b("CurrentUser").isWorkUser()||a===void 0)return null;else{a=b("bs_caml_option").valFromOption(a);var f=a.contact.user_type===b("MercuryParticipantTypes").PAGE;if(f){f=e[1][5][0];if(f!==void 0){e=a.contact.is_messenger_blocked;a=a.contact.fbid;f=b("React").createElement(f.make,{className:"_3xb9 _30yy",isMuted:b("MercuryThreadInfo").isMuted(c),isBlocked:e,pageID:a,threadID:c.thread_id,viewer:d})}else f=null;return b("React").createElement("li",void 0,f)}else return null}}function r(a,c){__p&&__p();c=c.filter(function(b,c,d){if(b==null)return!1;else return b.fbid!==a});var d=c.count();c=c.first();if(d!==1||c==null)return null;else{d={className:"_5eu7"};c=b("bs_caml_option").nullable_to_opt(c.timezone);c!==void 0&&(d.participantTimeZone=b("bs_caml_option").valFromOption(c));return b("React").createElement(b("MessengerLocalTimeReact.bs").make,d)}}function s(a,c){__p&&__p();var d=!b("FBRTCSupport").isMobileDevice();a=a!==void 0?b("bs_caml_option").valFromOption(a).contact.user_type===b("MercuryParticipantTypes").PAGE:!1;var e=c!==void 0?b("bs_caml_option").valFromOption(c).joinable_mode===b("MessengerJoinableModeType").JOINABLE:!1;if(c!==void 0){var f=b("bs_caml_option").valFromOption(c);f=(f.participants.length>1||f.thread_type===b("MessagingThreadType").GROUP)&&b("MercuryThreadInfo").canReply(f)&&!b("MessageRequestUtils").isMessageRequest(f)}else f=!1;c=c!==void 0?b("bs_caml_option").valFromOption(c).thread_type===b("MessagingThreadType").MARKETPLACE:!1;if(d&&!a&&!e&&f)return!c;else return!1}var t=b("MessengerDotComAndInboxM4Check.bs").yes?"_17w2 _6ybr":"_17w2",u=b("MessengerDotComAndInboxM4Check.bs").yes?"_5743 _6y4y":"_5743",v=b("MessengerDotComAndInboxM4Check.bs").yes?"_fl2 _6ymr":"_fl2",w=b("ReasonReact.bs").reducerComponent("MessengerDetailViewHeaderReact");function x(a,c,d,e,f,g,o,x,y){__p&&__p();var z;if(g!==void 0){y=b("bs_caml_option").valFromOption(g);if(b("MessengerDotComAndInboxM4Check.bs").yes){var A=y.gradient_colors;z=A.length!==0?A[0]:b("MessengerCustomColorUtils.bs").customColorOrBlue(y)}else z=b("MessengerCustomColorUtils.bs").customColorOrBlue(y)}else z=b("MessengerCustomColorUtils.bs").defaultColor(0);var B=function(c){if(s(a,g)&&g!==void 0){var d=b("bs_caml_option").valFromOption(g),e=d.thread_id;return b("React").createElement("li",void 0,b("ReasonReact.bs").element(void 0,void 0,b("MessengerRTCCallButtonReact.bs").make("_30yy",z,!1,f,d,e,c,a!==void 0?b("bs_caml_option").valFromOption(a).contact.name:"",a!==void 0?b("bs_caml_option").valFromOption(a).isUserActive:null,[])))}else return null},C=function(c){__p&&__p();if(s(a,g)&&g!==void 0){var d=b("bs_caml_option").valFromOption(g),e=d.thread_id;if(a!==void 0){var h=b("bs_caml_option").valFromOption(a).isUserActive;h=h?"_3qfl":""}else h="";return b("React").createElement("li",void 0,b("ReasonReact.bs").element(void 0,void 0,b("MessengerRTCCallButtonReact.bs").make("_30yy",z,!0,f,d,e,c,a!==void 0?b("bs_caml_option").valFromOption(a).contact.name:"",a!==void 0?b("bs_caml_option").valFromOption(a).isUserActive:null,[])),b("React").createElement("div",{className:h}))}else return null};if(a!==void 0){A=b("bs_caml_option").valFromOption(a).availabilityStatusData;y=A==null?[!1,""]:[A.isDoNotDisturb,A.description]}else y=[!1,""];var D=y[1],E=y[0],F=a!==void 0?!b("WorkForeignEntityInfo.bs").isCoworker(b("bs_caml_option").valFromOption(a).contact):!1,G=function(a){if(b("CurrentUser").isWorkUser())return b("ReasonReact.bs").element(void 0,void 0,b("WorkChatDoNotDisturbStatusReact.bs").make("_6f6k",b("bs_js_null_undefined").fromOption(g),E,D,[]));else return null},H=function(c){if(a!==void 0){c=b("bs_caml_option").valFromOption(a);var d={className:"_2v6o",isUserActive:c.isUserActive},e=b("bs_caml_option").nullable_to_opt(c.lastActive);e!==void 0&&(d.lastActive=b("bs_caml_option").valFromOption(e));e=b("bs_caml_option").nullable_to_opt(c.platform);e!==void 0&&(d.platform=b("bs_caml_option").valFromOption(e));return[!0,b("React").createElement(b("MessengerPresenceStatusReact.bs").make,d)]}else return[!1,null]},I=function(c){if(!b("CurrentUser").isWorkUser()||!F||a===void 0)return[!1,null];else{c=b("bs_caml_option").valFromOption(a);var d=c.contact.company_name;if(d==null)return[!1,null];else return[!0,b("React").createElement(b("MessengerForeignUserCompanyNameReact.bs").make,{className:"_6krh",companyName:b("bs_caml_option").nullable_to_opt(c.contact.company_name)})]}};return[w[0],w[1],w[2],w[3],function(a){__p&&__p();if(!b("MessengerDotComAndInboxM4Check.bs").yes){var c=b("Event").listen(window,"resize",b("debounce")(function(b){return j(a[1])},20));b("bs_curry")._1(a[4],function(a){return c.remove()})}return b("bs_curry")._1(i.load,function(b){var c=a;b=b;c[1][5][0]=b;return 0})},function(a){if(b("MessengerDotComAndInboxM4Check.bs").yes)return 0;else return j(a[1][1])},w[6],w[7],function(i){__p&&__p();if(o!==void 0&&g!==void 0){var j=b("bs_caml_option").valFromOption(g),s=b("bs_caml_option").valFromOption(o),w=h._("Informaci\u00f3n de la conversaci\u00f3n"),y=H(0),A=y[0],D=I(0),J=G(0);if(b("MessengerDotComAndInboxM4Check.bs").yes){var K=j.has_montage&&b("MercuryConfig").MontageThreadViewer&&b("gkx")("686397")&&b("gkx")("972782")&&b("gkx")("995308");K=b("gkx")("863504")?b("React").createElement(b("MessengerProfilePresenceReact.bs").make,{className:"_6ynm",size:40,storiesRingEligible:K,thread:j,viewer:s}):b("React").createElement(b("MessengerThreadImageM4React.bs").make,{className:"_6ynm",size:40,storiesRingEligible:K,thread:j,viewer:s})}else K=null;return b("React").createElement("div",{ref:b("bs_curry")._1(i[0],m),className:"_673w"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6ynl":"")+(!D[0]&&(!A||E)?" _1_fz":"")},p(j,x,f,i),b("React").createElement("div",{key:"threadTitle",ref:b("bs_curry")._1(i[0],l),className:u},K,b("React").createElement("div",{className:b("MessengerDotComAndInboxM4Check.bs").yes?"_6ynn":""},b("React").createElement("h2",{className:t,id:b("MessengerDomIDs.bs").ids.THREAD_TITLE},J,b("ReasonReact.bs").element(void 0,b("bs_curry")._1(i[0],k),b("MercuryThreadTitleReact.bs").make("_3oh-",b("bs_belt_Option").getWithDefault(d,0),j,s,void 0,void 0,void 0,void 0,[]))),E||!A||b("CurrentUser").isWorkUser()&&F?null:y[1],r(s,f),D[1])),b("React").createElement("ul",{key:"buttonsContainer",ref:b("bs_curry")._1(i[0],n),className:v},q(a,j,s,i),B(s),C(s),b("React").createElement("li",void 0,b("React").cloneElement(b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(!c,void 0,w,"_30yy",void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,void 0,void 0,"button",void 0,void 0,void 0,void 0,w,[])),{"data-testid":b("MessengerWebDriverTestIDs").INFO_PANEL_BUTTON},b("MessengerDotComAndInboxM4Check.bs").yes?c?b("React").createElement("div",{className:"_6yms"},b("MessengerInfoIconSVGM4React.bs").make(z)):b("React").createElement("div",{className:"_6yms"},b("React").createElement("div",{className:"_6y4z",style:{backgroundColor:z}}),b("MessengerInfoIconSVGM4React.bs").make(z)):b("MessengerInfoPanelButtonReact.bs").make(z,c)),b("React").createElement("div",{"aria-owns":b("MessengerDomIDs.bs").ids.THREAD_INFO_PANEL}))))}else return null},function(a){return[[void 0],[void 0],[void 0],[void 0],[void 0],[void 0]]},w[10],function(a,b){return 0},w[12]]}d=b("ReasonReact.bs").wrapReasonForJs(w,function(a){return x(b("bs_caml_option").nullable_to_opt(a.contactData),a.infoPanelCollapsed,b("bs_caml_option").nullable_to_opt(a.maxTitle),a.onInfoPanelToggle,a.participants,b("bs_caml_option").nullable_to_opt(a.thread),b("FBID.bs").ofString(a.viewer),a.montageData,[])});f.BootloadableMessengerUserControlsButtonReact=c;f.LoadableMessengerUserControlsButtonReact=i;f.calculateTruncationState=j;f.findMercuryTitle=k;f.findTitle=l;f.findRoot=m;f.findButtons=n;f.findMontage=o;f.renderMontageThread=p;f.renderUserControls=q;f.renderLocalTime=r;f.shouldShowCallButton=s;f.titleElemClasses=t;f.titleClasses=u;f.buttonsContainerClasses=v;f.component=w;f.make=x;f.jsComponent=d}),null);